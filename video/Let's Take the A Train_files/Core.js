var AutoInternal,AutoRestModels,AutoClientModels,Panopto,PanoptoTS,__extends=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Browser=function(e){return e.isChrome=-1!==navigator.userAgent.indexOf("Chrome"),e.isSafari=-1!==navigator.userAgent.indexOf("Safari")&&!e.isChrome,e.isMobileSafari=e.isSafari&&-1!==navigator.userAgent.indexOf(" Mobile/"),e.isMac=-1!==navigator.platform.indexOf("Mac"),e.isIE="Microsoft Internet Explorer"===navigator.appName,e.isIE8=e.isIE&&-1!==navigator.userAgent.indexOf("MSIE 8"),e.isIE9=e.isIE&&-1!==navigator.userAgent.indexOf("MSIE 9"),e.isAndroid=/Silk|Android/i.test(navigator.userAgent),e.isWebkit=/webkit/i.test(navigator.userAgent),e.isFirefox=/firefox/i.test(navigator.userAgent),e.isIE11=-1!==navigator.userAgent.indexOf("Trident/"),e.isEdge=-1!==navigator.userAgent.indexOf("Edge/"),e.isMobileOrTablet=e.isAndroid||e.isMobileSafari,e.isTouchSupported="ontouchstart"in window||window.navigator.msMaxTouchPoints,e.isWin7=/Windows NT 6\.1/.test(navigator.userAgent),e.isWin7IE11=e.isIE11&&e.isWin7,e.isCssSupported=function(e){var t=(document.body||document.documentElement).style,o=!1;return"string"==typeof t[e]||(e=e.charAt(0).toUpperCase()+e.substr(1),_.each(["Moz","webkit","Webkit","Khtml","O","ms"],function(n){"string"!=typeof t[n+e]&&"string"!=typeof t[String.format("-{0}-",n)+e.toLowerCase()]||(o=!0)}),o)},e.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},e.supportsVideo=function(e){var t=!1,o=document.createElement("video");try{o.canPlayType&&o.canPlayType(e).replace(/no/,"")&&(t=!0)}catch(e){}return t},e.flashEnabled=function(){var e,t=Panopto.Core.StringHelpers.parseQueryString(window.location.search.slice(1));try{e=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(t){e=navigator.mimeTypes&&null!=navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin}return e&&"true"!==t[Panopto.Core.Constants.IgnoreFlashParamKey]},e.fullscreenApiSupported=_.any(["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],function(e){return"function"==typeof document[e]}),e.fullscreenEnabled=Boolean(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),e.fullscreenEvent=function(e){$(document).on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){var t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e(!!t)})},e.isSilverlightSupported=function(){return!e.isChrome&&!e.isEdge&&!e.isFirefox},e.triggerResizeEvent=function(){try{window.dispatchEvent(new Event("resize"))}catch(t){var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}},e}(Panopto.Core.Browser||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Configuration=function(e){return _.templateSettings={interpolate:/\<\@\=(.+?)\@\>/g,escape:/\<\@\-(.+?)\@\>/g,evaluate:/\<\@(.+?)\@\>/g},$.datepicker.setDefaults($.datepicker.regional[""]),e}(Panopto.Core.Configuration||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=function(e){return e.Types={Undefined:"undefined"},e.ClickedClass="clicked",e.DisabledClass="disabled",e.InactiveClass="inactive",e.EllipsisClass="ellipsis",e.NoTooltipClass="no-tooltip",e.HighlightedClass="highlighted",e.PlaceholderClass="placeholder",e.HoveringClass="hovering",e.EditingClass="editing",e.ModalSpinningClass="spinning",e.SelectedClass="selected",e.ExpandedClass="expanded",e.ErrorClass="error",e.MaterialIconsClass="material-icons",e.CanvasFont="10px Segoe UI, Helvetica, sans-serif",e.CanvasFontColor="#464646",e.CanvasRulerTickColor="#767676",e.AriaExpandedAttribute="aria-expanded",e.InitAttribute="data-init",e.EmptyGuid="00000000-0000-0000-0000-000000000000",e.MaxSQLDate=new Date("12/31/9999 23:59:59 UTC"),e.Win32EpochDate=new Date("1/1/1601 00:00:00 UTC").getTime(),e.Win32EpochDateISO="1601-01-01T00:00:00Z",e.UploadFilenameLengthLimit=100,e.HitMatcher=/<span class="match">(.*?)<\/span>/,e.SafeBreakMatcher=/CF63758C-0661-4168-B6C1-0424769D7915/,e.UrlMatcher=/^https?:\/\//,e.ByteResourceKey="Bytes_{0}",e.DefaultMaxRating=5,e.PollStatusTime=5e3,e.CompletedExpiration=6,e.SessionListContextResultsCharacterLimit=70,e.AppDeliveryIdParameter="d",e.AppStartSecondsParameter="st",e.AppFolderIdParameter="f",e.AppSessionIdParameter="s",e.AppInviteTokenParameter="tid",e.AppActionTypeParameter="a",e.AppRecordAction="record",e.AppBrowseAction="browse",e.AppPlayAction="play",e.FolderIdParameter="folderID",e.ExternalContextParamKey="externalID",e.ItemNameParameter="title",e.ProviderParamKey="instance",e.IgnoreFlashParamKey="ignoreflash",e.MobileLaunchChoice="launchChoice",e.MobileLaunchApp="chooseMobileApp",e.MobileLaunchWeb="chooseMobileWeb",e.MobileLaunchIgnoreCookie="ignoreMobileChoiceCookie",e.CsrfTokenCookieName="csrfToken",e.CsrfTokenHeaderName="X-Csrf-Token",e.CsrfInputFieldName="panoptoProtectionToken",e.UserSettingsStorageKeyFormat="Panopto.UserSettings[{0}]",e.MaxQueryStringLength=2048,e.EmbedDefaultHeight=480,e.EmbedDefaultWidth=720,e.EmbedAudioDefaultHeight=100,e.EmbedAudioDefaultWidth=720,e.BlankPageUrl="about:blank",e.SessionsListAppRelativeUrl="/Pages/Sessions/List.aspx",e.LoginUrl="{0}/Pages/Auth/Login.aspx",e.SignUpUrlParams="?token={0}&email={1}",e.ShareUrl="http://support.panopto.com/{0}/{1}",e.EmbeddedFolderSupportUrl="http://support.panopto.com/documentation/video-management/embedded-playlist-widget",e.EmbeddedSessionSupportUrl="http://support.panopto.com/documentation/video-management/embedding-session-mp4",e.ThirdPartyCookieSupportUrl="https://support.panopto.com/s/article/How-to-Enable-Third-Party-Cookies-in-Supported-Browsers",e.InternalMembershipProviderType=0,e.InternalMembershipProviderName="panoptointernal",e.UnifiedMembershipProviderName="unified",e.FadeOutSpeed=300,e.ActiveUserTimeout=5e3,e.MessageTimeout=1e4,e.MaxSuggestionResults=50,e.MinSearchCharacters=3,e.TimelineChunkMultiplier=1e7,e.HistogramChunkMultiplier=1e6,e.TimelineChunkToMillisMultiplier=1e4,e.MaxTimelineZoom=60*e.TimelineChunkMultiplier,e.TimelineZoomFactor=1.2,e.SnapTolerance=10,e.AudioIconCode="&#xE029;",e.DocumentIconCode="&#xE415;",e.LinkIconCode="&#xE157",e.ObjectVideoIconCode="&#xE04B;",e.ScreenIconCode="&#xE30A;",e.SessionIconCode="&#xE04B;",e.SlideIconCode="&#xE3B6;",e.QuestionListIconCode="&#xE862",e.YouTubeIconCode="&#xE639",e.ShowTabsChooseOnlyValue="chooseOnly",e.ApiVersion="1.0-beta",e.DisplayTimeMillisecondPrecision=2,e.SeekOrCutPositionDifferenceThreshold=20,e.SeekOrCutTimeDifferenceThreshold=200,e}(Panopto.Core.Constants||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Key=function(e){return e.Tab=9,e.Enter=13,e.Shift=16,e.Ctrl=17,e.Esc=27,e.Space=32,e.UpArrow=38,e.DownArrow=40,e.LeftArrow=37,e.RightArrow=39,e.PageUp=33,e.PageDown=34,e.Home=36,e.End=35,e.Asterisk=56,e.Zero=48,e.One=49,e.Two=50,e.Three=51,e.Four=52,e.Five=53,e.Six=54,e.Seven=55,e.Eight=56,e.Nine=57,e.C=67,e.F=70,e.M=77,e.S=83,e.Y=89,e.Z=90,e.KeypadAsterisk=106,e.KeypadPlus=107,e.KeypadMinus=109,e.Period=190,e.ForwardSlash=191,e.Plus=Panopto.Core.Browser.isFirefox?61:187,e.Minus=Panopto.Core.Browser.isFirefox?173:189,e}(Panopto.Core.Key||{}),Panopto.Core.MouseButton=function(e){return e.Left=1,e.Middle=2,e.Right=3,e}(Panopto.Core.MouseButton||{}),Panopto.Core.DeviceMediaType=function(e){return e.Unknown=0,e.DV=1,e.HDV=2,e.Video=3,e.Audio=4,e.Screen=5,e.File=6,e}(Panopto.Core.DeviceMediaType||{}),Panopto.Core.StatsReportType=function(e){return e.FolderUsage=0,e.SessionUsage=1,e.UserViewingUsage=2,e.UserCreationUsage=3,e.LastLoginTime=4,e.SessionsViewsByUsers=5,e.SessionsViewsByViewingType=6,e.SessionsCreatedOrEdited=7,e.RemoteRecorderUsage=8,e.SystemViews=9,e}(Panopto.Core.StatsReportType||{}),Panopto.Core.RecurringReportCadence=function(e){return e.Daily=1,e.Weekly=7,e.Monthly=30,e}(Panopto.Core.RecurringReportCadence||{}),Panopto.Core.RemoteRecorderState=function(e){return e.Stopped=0,e.Previewing=1,e.Recording=2,e.Paused=3,e.Faulted=4,e.Disconnected=5,e.RecorderRunning=6,e}(Panopto.Core.RemoteRecorderState||{}),Panopto.Core.PasswordValidationStatus=function(e){return e.Valid=0,e.RegexFailure=1,e.PasswordTooShort=2,e.PasswordMissingNonAlphanumericChars=3,e.PasswordInHistory=4,e.UsedUsername=5,e}(Panopto.Core.PasswordValidationStatus||{}),Panopto.Core.MajorSupportArea=function(e){return e.None="None",e.Admin="Admin",e.Editor="Editor",e.Folders="Folders",e.Groups="Groups",e.Login="Login",e.Recorder="Recorder",e.Settings="Settings",e.Upload="Upload",e.Viewer="Viewer",e.Silverlight="Silverlight",e}(Panopto.Core.MajorSupportArea||{}),Panopto.Core.MinorSupportArea=function(e){return e.None="None",e.Branding="Branding",e.ContractUsage="ContractUsage",e.CreateSite="CreateSite",e.Licenses="Licenses",e.IdentityProviders="IdentityProviders",e.RemoteRecorders="RemoteRecorders",e.Settings="Settings",e.Status="Status",e.Transcription="Transcription",e.Usage="Usage",e.Users="Users",e.Cookies="Cookies",e.BasicRecording="BasicRecording",e.RecorderConfig="RecorderConfig",e.RecordingStatus="RecordingStatus",e.Sharing="Sharing",e.Safari="Safari",e.Bookmarks="Bookmarks",e.Comments="Comments",e.Notes="Notes",e.Questions="Questions",e.SecureBrowsers="SecureBrowsers",e.Chrome="Chrome",e}(Panopto.Core.MinorSupportArea||{}),Panopto.Core.SettingInputType=function(e){return e.SingleLine="SingleLine",e.MultiLine="MultiLine",e.Password="Password",e.DropDown="DropDown",e.Reset="Reset",e.Numeric="Numeric",e}(Panopto.Core.SettingInputType||{}),Panopto.Core.AccessRoleType=function(e){return e.Enumerate="Enumerate",e.ViewInfo="ViewInfo",e.Preview="Preview",e.Record="Record",e.EditConfiguration="EditConfiguration",e.EditAccessEntries="EditAccessEntries",e.ViewSchedule="ViewSchedule",e.ViewScheduleDetails="ViewScheduleDetails",e.EditSchedule="EditSchedule",e}(Panopto.Core.AccessRoleType||{}),Panopto.Core.EventTargetType=function(e){return e.Null=0,e.PowerPoint=1,e.ObjectVideo=2,e.VirtualVideo=3,e.Notes=4,e.TagSet=5,e.Transcript=6,e.PDF=7,e.MachineTranscript=8,e.VideoThumbnail=9,e.Primary=10,e.UserCreatedTranscript=11,e.Comments=12,e.Bookmarks=13,e.Questions=14,e.OcrOutput=15,e}(Panopto.Core.EventTargetType||{}),Panopto.Core.EventType=function(e){return e.Label=0,e.SlideChange=1,e.Note=2,e.Bookmark=3,e.Caption=4,e.Comment=5,e.SpeechRecognition=6,e.OcrRecognition=7,e}(Panopto.Core.EventType||{}),Panopto.Core.FolderType=function(e){return e.Normal=0,e.Sandbox=1,e.SandboxRoot=2,e.SandboxArchiveRoot=3,e.ClosedDropbox=4,e}(Panopto.Core.FolderType||{}),Panopto.Core.ErrorCode=function(e){return e.Success=0,e.SiteDisabled=1,e.LoginRequired=2,e.AccessRequired=3,e.PodcastRequired=4,e.InvalidUrl=5,e.InvalidDelivery=6,e.UnknownError=7,e.NotInAvailabilityWindow=8,e.InvalidFormatForSSL=9,e.InvalidPlaylist=10,e.InvalidPlaylistUrl=11,e.InvalidPlaylistNoSessions=12,e.HasPendingMergeOrCopyJobs=13,e.NetworkAccessDenied=14,e}(Panopto.Core.ErrorCode||{}),Panopto.Core.FolderSet=function(e){return e.AllSessionCreationFolders=0,e.AllFolders=1,e.AllFolderCreationFolders=2,e.ExplicitCreatorFolders=3,e}(Panopto.Core.FolderSet||{}),Panopto.Core.StreamType=function(e){return e.Unknown=0,e.PrimaryVideo=1,e.SecondaryVideo=2,e.SecondaryPresentation=3,e}(Panopto.Core.StreamType||{}),Panopto.Core.UploadStatus=function(e){return e.Uploading=0,e.UploadComplete=1,e.UploadCancelled=2,e.Processing=3,e.Complete=4,e.ProcessingError=5,e.DeletingFiles=6,e.Deleted=7,e.DeletingError=8,e}(Panopto.Core.UploadStatus||{}),Panopto.Core.UploadErrorType=function(e){return e.Import=0,e.FileDialog=1,e.MultiUploadDisabled=2,e}(Panopto.Core.UploadErrorType||{}),Panopto.Core.QuestionType=function(e){return e.TrueFalse=0,e.MultipleChoice=1,e.MultipleSelect=2,e}(Panopto.Core.QuestionType||{}),Panopto.Core.MediaFileType=function(e){return e.unknown=0,e.ism=1,e.mp3=2,e.mp4=3,e.mov=4,e.wmv=5,e.avi=6,e.manifest=7,e.hist=8,e.wav=9,e.packedraw=10,e.hls=11,e.rawsample=12,e.m4a=13,e.m4v=14,e}(Panopto.Core.MediaFileType||{}),Panopto.Core.InvocationType=function(e){return e.None=0,e.VideoPodcastDownload=1,e.AudioPodcastDownload=2,e.VideoPodcastStreaming=4,e.AudioPodcastStreaming=8,e.VideoPodcastSyndicated=16,e.AudioPodcastSyndicated=32,e.WebViewer=64,e.EmbedViewer=128,e.MobileApplication=256,e.WebViewerBroadcast=512,e.TabletDownload=1024,e.MobileWebBroadcast=2048,e.EmbedBroadcast=4096,e.MobileApplicationBroadcast=8192,e.AndroidApplication=16384,e.AndroidApplicationBroadcast=32768,e.SocialEmbed=65536,e.All=2147483647,e}(Panopto.Core.InvocationType||{}),Panopto.Core.StreamRequestStartReason=function(e){return e.Unknown=0,e.Unexpected=1,e.Start=2,e.Resume=3,e.Seek=4,e.NewSpeed=5,e}(Panopto.Core.StreamRequestStartReason||{}),Panopto.Core.StreamRequestStopReason=function(e){return e.Unknown=0,e.Unexpected=1,e.End=2,e.Pause=3,e.Seek=4,e.SpeedChange=5,e.PlayerClose=6,e}(Panopto.Core.StreamRequestStopReason||{}),Panopto.Core.ViewerLogEntryType=function(e){return e.UserInitiatedSync=1,e.StreamDesync=2,e.StreamSync=3,e.StreamChange=4,e.PlayStateChange=5,e.PositionSet=6,e.PlaybackSpeedChange=7,e.QualityChange=8,e.FullscreenChange=9,e.DeliveryInfoPatch=10,e}(Panopto.Core.ViewerLogEntryType||{}),Panopto.Core.ViewerPlayState=function(e){return e.Playing=1,e.Paused=2,e.Stopped=3,e.Buffering=4,e}(Panopto.Core.ViewerPlayState||{}),Panopto.Core.NavBarSection=function(e){return e.None=0,e.Folders=1,e.Admin=2,e.MultiSiteAdmin=3,e}(Panopto.Core.NavBarSection||{}),Panopto.Core.PlayableObjectType=function(e){return e.Video=0,e.Playlist=1,e.Shortcut=2,e}(Panopto.Core.PlayableObjectType||{}),Panopto.Core.MediaVRType=function(e){return e.None=0,e.Full=1,e.Half=2,e}(Panopto.Core.MediaVRType||{}),Panopto.Core.PodcastDetails=function(e){return e.Uninitialized=0,e.AudioOnly=1,e.VideoOnly=2,e.AudioAndVideo=e.AudioOnly|e.VideoOnly,e}(Panopto.Core.PodcastDetails||{}),function(e){!function(e){!function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.Left=2]="Left",e[e.Right=3]="Right"}(e.Position||(e.Position={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Extensions=function(e){return e.superior=function(e,t){var o=e[t];return function(){return o.apply(e,arguments)}},e.base=function(t){var o={};for(var n in t)t.hasOwnProperty(n)&&"function"==typeof t[n]&&(o[n]=e.superior(t,n));return o},String.prototype.format||(String.prototype.format=function(){var e=arguments;return 1===arguments.length&&$.isArray(arguments[0])&&(e=arguments[0]),this.replace(/{(\d+)}/g,function(t,o){return void 0!==e[o]?e[o]:t})}),String.prototype.replaceAll=function(e,t){var o=new RegExp(e,"g");return this.replace(o,t)},String.prototype.repeat||(String.prototype.repeat=function(e){for(var t="",o=this.valueOf();e>0;)1&e&&(t+=o),e>>=1,o+=o;return t}),Math.clamp=function(e,t,o){return Math.min(Math.max(e,t),o)},Panopto.Core.Math=Panopto.Core.Math||{},Panopto.Core.Math.clamp=Math.clamp,Date.prototype.toWCFString=function(){return"/Date({0})/".format(this.getTime())},Date.prototype.toISOString||(Date.prototype.toISOString=function(){var e=function(e){return e<10?"0"+e:e};return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}),_.findIndex||(_.findIndex=function(e,t){for(var o=0;o<e.length;o++)if(t(e[o],o,e))return o}),_.findLastIndex||(_.findLastIndex=function(e,t){for(var o=e.length-1;o>=0;o--)if(t(e[o],o,e))return o}),e}(Panopto.Core.Extensions||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.JobQueue=function(e){var t=(e=e||{}).maxDegreeOfParallelism||4,o=e.maxAttempts||3,n=!!e.autoStart,r=!1,i={},s=[],a=[],c=[],l=0,u=$.Callbacks(),d=$.Callbacks(),p=function(){return!_.isEmpty(i)},f=function(e){return i[e]=i[e]||[]},h=function(){var e=_.keys(i),t=e.length?_.min(e):null,o=i[t].shift();return i[t].length||delete i[t],o},m=function(){var e;if(p()||s.length)for(r||(r=!0,u.fire());p()&&s.length<t;)e=h(),v(e)||(!o||e.attempts<o?(s.push(e),e.complete=_.partial(function(e,t){v(e)||(t||(e.attempts++,f(e.priority).push(e)),s=_.reject(s,function(t){return t.id==e.id}),_.defer(m))},e),e.cancel=_.partial(function(e){s=_.reject(s,function(t){return t.id==e.id}),e.onCancel&&e.onCancel(),_.defer(m)},e),e.attempt(e.complete)):(e.onFailure&&e.onFailure(),_.defer(m)));else r&&(r=!1,a=c=[],d.fire())},v=function(e){return a.indexOf(e.id)>-1||c.indexOf(e.correlationId)>-1},C=function(e,t,o){if(o=_.defaults({},o,{once:!1}),_.contains(["start","complete"],e)&&_.isFunction(t)){var n="start"===e?u:d;o.once&&(t=_.wrap(t,function(e){e(),n.remove(t)})),n.add(t)}};this.isRunning=function(){return r},this.getMaxDegreeOfParallelism=function(){return t},this.getMaxAttempts=function(){return o},this.hasQueuedJobs=p,this.emptyQueue=function(){i={}},this.queueJob=function(e){var t=l++,o=Number(e.priority)||0,r={id:t,attempt:e.attempt,onCancel:e.onCancel,onFailure:e.onFailure,correlationId:String(e.correlationId),priority:o,attempts:0};return f(r.priority).push(r),n&&m(),t},this.doJobs=m,this.cancelJob=function(e){e=Number(e),-1===a.indexOf(e)&&a.push(e);var t=_.findWhere(s,{id:e});t&&t.cancel()},this.cancelCorrelatedJobs=function(e){e=String(e),-1===c.indexOf(e)&&c.push(e);var t=_.where(s,{correlationId:e});_.each(t,function(e){e.cancel()})},this.completeCorrelatedJobs=function(e,t){e=String(e);var o=_.where(s,{correlationId:e});_.each(o,function(e){e.complete(t)})},this.on=function(e,t){C(e,t)},this.one=function(e,t){C(e,t,{once:!0})}},function(e){var t=function(){function t(){this.sessionListUrlPath="/Pages/Sessions/List.aspx",this.departmentBrandingUrlPath="/Pages/Admin/DepartmentBranding.aspx?",this.analyticsDashboardUrlPath="/Pages/Analytics.aspx",this.departmentIdParameter="departmentId"}return t.prototype.getBaseUrl=function(){return Panopto.uriScheme+"://"+Panopto.webServerFQDN+Panopto.appRoot},t.prototype.getSessionListUrl=function(){return this.getBaseUrl()+this.sessionListUrlPath},t.prototype.getDepartmentBrandingUrl=function(t){var o={};return o[this.departmentIdParameter]=t,e.StringHelpers.addQueryParameter(this.getBaseUrl()+this.departmentBrandingUrlPath,o)},t.prototype.getFolderListUrl=function(t){var o={};return o[Panopto.Core.Constants.FolderIdParameter]=t,e.StringHelpers.addQueryParameter(this.getSessionListUrl(),o)},t.prototype.getAnalyticsDashboardUrl=function(t){var o=e.StringHelpers.serializeObjectToQueryString(t);return this.getBaseUrl()+this.analyticsDashboardUrlPath+window.location.search+(o?"#"+o:"")},t}();e.Locations=t}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.CancellableRequest=function(e){this.cancel=e||$.noop},function(e){var t=function(){};e.UserSettings=t}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},function(e){var t=function(){function e(){}return e.format=function(e){for(var t,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];return(t=Panopto.Core.StringHelpers).format.apply(t,[e].concat(o))},e.parseQueryString=function(e,t,o,n){var r=Panopto.Core.StringHelpers.parseQueryString(e,t,o);if(n)for(var i=0,s=Object.keys(r);i<s.length;i++){var a=s[i];"string"==typeof r[a]&&(r[a]=r[a].replaceAll('"',""))}return r},e.addQueryParameter=function(e,t){return Panopto.Core.StringHelpers.addQueryParameter(e,t)},e.serializeObjectToQueryString=function(e){return Panopto.Core.StringHelpers.serializeObjectToQueryString(e)},e.roundNumber=function(e,t){return Panopto.Core.StringHelpers.roundNumber(e,t)},e}();e.StringHelpers=t}(PanoptoTS||(PanoptoTS={})),Panopto.Core.StringHelpers=function(e){var t=Panopto.Core.Constants;e.parseBoolean=function(e){return"true"===String(e).toLowerCase()};var o=/(.*)\.(.*)/;return e.serializeObjectToString=function(e){var t=e.objectToSerialize,o=e.paramFormat,n=e.separator,r=e.uriEncode,i=e.skipUndefinedValues,s="",a=function(e,t,n){t=r?encodeURIComponent(t):t,e=r?encodeURIComponent(e):e,n.push(o.format(t,e))};if(t&&"object"==typeof t){var c=[];_.each(t,function(e,t){_.isArray(e)?_.each(e,function(e){a(e,t,c)}):i&&_.isUndefined(e)||a(e,t,c)}),s=c.join(n)}return s},e.serializeObjectToQueryString=function(t){return e.serializeObjectToString({objectToSerialize:t,paramFormat:"{0}={1}",separator:"&",uriEncode:!0,skipUndefinedValues:!0})},e.serializeObjectToInitParams=function(t){return e.serializeObjectToString({objectToSerialize:t,paramFormat:"{0}={1}",separator:",",uriEncode:!1,skipUndefinedValues:!1})},e.addQueryParameter=function(t,o){var n=e.serializeObjectToQueryString(o),r=-1===t.indexOf("?")?"?":"&";return t+r+n},e.setQueryParameters=function(t,o){var n=document.createElement("a");n.href=t;var r=e.parseQueryString(n.search,!0);return _.extend(r,o),n.search=e.serializeObjectToQueryString(r),n.href},e.convertFragmentToQuery=function(e){var t=-1===e.indexOf("?")?"?":"&";return e.replace("#",t)},e.replaceQueryString=function(t,o){var n=t.indexOf("?");return(n>=0?t.substr(0,n):t)+"?"+e.serializeObjectToQueryString(o)},e.parseQueryString=function(e,t,o){var n,r={};if("string"==typeof e){0!==e.indexOf("?")&&0!==e.indexOf("#")||(e=e.substring(1));for(var i=0,s=e.split("&");i<s.length;i++){n=s[i].split("="),t&&(n=_.map(n,decodeURIComponent)),n[0]&&(o?r[n[0].toLowerCase()]=n[1]:r[n[0]]=n[1])}}return r},e.getMajorVersion=function(e){var t=e.lastIndexOf(".");return e.substring(0,t)},e.getHelpUrl=function(t,o,n){var r=e.getMajorVersion(t);return n?Panopto.Core.Constants.ShareUrl.format(r,o+"/"+n):Panopto.Core.Constants.ShareUrl.format(r,o)},e.convertValueToLocalizedString=function(e,t){var o=parseFloat(e);if(o.toString()===e)return o.toLocaleString();var n=Date.parse(e);if(!isNaN(n)){var r=new Date(n);try{o=r.toLocaleDateString(t,{weekday:"short",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short",localeMatcher:"lookup"})}catch(e){o=r.toLocaleDateString()}return o}return e},e.displayStringFromResourceString=function(t,o,n,r){if(null!==t&&0===t.indexOf(o)){var i=t.split(","),s=i[0].trim().slice(o.length+1);if(t=r[s]||"",i.length>1){var arguments=$.map(i.slice(1),function(t){return e.convertValueToLocalizedString($.trim(t),n)});t=t.format(arguments)}}return t},e.readableByteCount=function(e,o,n){if(!e)return"0";var r=[o[t.ByteResourceKey.format("B")],o[t.ByteResourceKey.format("KB")],o[t.ByteResourceKey.format("MB")],o[t.ByteResourceKey.format("GB")],o[t.ByteResourceKey.format("TB")],o[t.ByteResourceKey.format("PB")],o[t.ByteResourceKey.format("EB")]],i=Math.floor(Math.log(e)/Math.log(1024)),s=Math.round(e/Math.pow(1024,i)*10)/10;return(n?s.toFixed(1):s)+" "+r[i]},e.readableUploadProgress=function(t,o,n,r){var i=e.readableByteCount(t,n,!0),s=e.readableByteCount(o,n);return i.substr(i.indexOf(" ")+1)===s.substr(s.indexOf(" ")+1)&&(i=i.substring(0,i.indexOf(" "))),n[r].format(i,s)},e.getProviderForUser=function(e){var t=null;return e&&e.userKey&&e.userKey.indexOf("\\")>0&&(t=Panopto.user.userKey.split("\\")[0]),t},e.cleanIllegaljQueryChars=function(e){return _.each(["@","\\?","\\\\","{","}",":","&","#"," ","\\(","\\)"],function(t){e=e.replaceAll(t,"")}),e},e.escapeRegex=function(e){return e.replace(/[ \- \[ \] { } ( ) * + ? . , \\ \^ $ | # \s ]/g,"\\$&")},e.lowerCaseFirstCharacter=function(e){var t=e;return _.isString(e)&&e.length&&(t=e[0].toLowerCase()+e.slice(1)),t},e.cleanFilename=function(t,o){o=_.defaults(o||{},{maxLength:null,maxExtensionLength:_.isNumber(o.maxLength)?Math.round(o.maxLength/2):null}),t=_.isString(t)?t:"";var n=e.parseFilename(t).replace(/[^\w .]/g,"_"),r=e.parseExtension(t).replace(/[^\w .]/g,"_");return _.isNumber(o.maxExtensionLength)&&(r=r.substring(0,o.maxExtensionLength)),r=r.length?"."+r:"",_.isNumber(o.maxLength)&&(n=n.substring(0,o.maxLength-r.length)),n+r},e.parseFilename=function(e){var t=e.match(o);return t?t[1]:e},e.parseExtension=function(e){var t=e.match(o);return t?t[2].toLowerCase():""},e.format=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return e.format(t)},e.roundNumber=function(e,t){var o;e=+e;do{var n=Math.pow(10,t);o=Math.round(e*n)/n,t++}while(0===o&&0!==e);return o},e.getLocaleSortedStringIndex=function(e,t,o){for(var n=0,r=e.length;n<r;){var i=n+r>>>1;t.localeCompare(e[i],o)>0?n=i+1:r=i}return n},e}(Panopto.Core.StringHelpers||{}),function(e){var t=Panopto.Core.Constants,o=e.StringHelpers,n=function(){function e(e){this._onSettingChanged=new PanoptoCore.TypedCallback;var n=e.user.userKey||PanoptoCore.Constants.UserSettingsCookieAnonymousUser;this.userSettingsKey=o.format(t.UserSettingsStorageKeyFormat,n),this.load()}return e.getInstance=function(t){return void 0===t&&(t=Panopto),e.instance||(e.instance=new e(t)),e.instance},e.dispose=function(){e.instance=null},Object.defineProperty(e.prototype,"onSettingChanged",{get:function(){return this._onSettingChanged},enumerable:!0,configurable:!0}),e.prototype.getSetting=function(e){return this.userSettings[e]},e.prototype.setSetting=function(e,t){this.userSettings[e]=t,this.store(),this._onSettingChanged.fire(e)},e.prototype.clearSettings=function(){delete localStorage[this.userSettingsKey]},e.prototype.load=function(){this.userSettings={};var e=localStorage[this.userSettingsKey];if(e)try{this.userSettings=JSON.parse(e)}catch(e){}},e.prototype.store=function(){var e=JSON.stringify(this.userSettings);localStorage[this.userSettingsKey]=e},e}();e.UserSettingsService=n}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Analytics=Panopto.Core.Analytics||{},Panopto.Core.StreamRequestStartReason=Panopto.Core.StreamRequestStartReason||{},Panopto.Core.ViewerPlayState=Panopto.Core.ViewerPlayState||{},Panopto.Core.Analytics.PlaybackLogger=function(e,t,o,n){o=o||Panopto.Core.ServiceInterface.AnalyticsIngest.addStreamRequests,(n=n||{}).onSpanUpdated=n.onSpanUpdated||$.noop;var r,i,s,a,c,l,u=1,d=1,p=100,f=3e4,h="logger",m=[],v=!1,C=function(e){return e.secondsListened>=u},y=function(o){r||(r={invocationId:t,playbackSpeed:e.playSpeed(),streamId:e.streamId(),startPosition:Math.max(0,e.position()),timestamp:new Date,secondsListened:0,secondsRejected:0,startReason:o||Panopto.Core.StreamRequestStartReason.Unknown,stopReason:null,lastUpdateTime:new Date,updatesRejected:0,lastRecordedPosition:null})},P=function(e){r&&C(r)&&(r.stopReason=e||Panopto.Core.StreamRequestStopReason.Unknown,m.push(r)),r=void 0},S=function(){var t,o,i,s=new Date;if(r&&(t=r.lastRecordedPosition?r.secondsListened+e.position()-r.lastRecordedPosition:e.position()-r.startPosition)){if(o=(s.getTime()-r.lastUpdateTime.getTime())/1e3*e.playSpeed()+d,t>=r.secondsListened&&t<r.secondsListened+o)i=t-r.secondsListened,r.secondsListened=t;else{var a=0;a=t<r.secondsListened?r.secondsListened-t:t-(r.secondsListened+(o-d)),r.secondsRejected+=a,r.updatesRejected+=1}r.updatesRejected&&(r.lastRecordedPosition=Math.max(0,e.position())),r.lastUpdateTime=s,i&&n.onSpanUpdated(i)}},g=function(e){var t;e=_.defaults(e||{},{isUnloading:!1});var n=r&&C(r)&&r.secondsListened!==r.recordedSecondsListened;v||(t=m.concat(n?[r]:[])).length&&(v=!0,n&&(r.recordedSecondsListened=r.secondsListened),o(t,function(e){t[t.length-1].id=e},function(){n&&(r=void 0,y(Panopto.Core.StreamRequestStartReason.Unexpected))},function(){_.each(t,function(e){var t=m.indexOf(e);t>=0&&m.splice(t,1)}),v=!1},e.isUnloading))};return{start:function(){a=e.onSeek(function(){0===m.length&&r&&0===r.secondsListened&&r.startReason===Panopto.Core.StreamRequestStartReason.Start?r.startPosition=e.position():(P(Panopto.Core.StreamRequestStopReason.Seek),y(Panopto.Core.StreamRequestStartReason.Seek))}),c=e.onSpeedChange(function(){P(Panopto.Core.StreamRequestStopReason.SpeedChange),y(Panopto.Core.StreamRequestStartReason.NewSpeed)}),l=e.onPlayStateChangeLog(function(e,t){e===Panopto.Core.ViewerPlayState.Playing&&t===Panopto.Core.ViewerPlayState.Paused?P(Panopto.Core.StreamRequestStopReason.Pause):e===Panopto.Core.ViewerPlayState.Paused&&t===Panopto.Core.ViewerPlayState.Playing?y(Panopto.Core.StreamRequestStartReason.Resume):e===Panopto.Core.ViewerPlayState.Stopped&&t===Panopto.Core.ViewerPlayState.Playing?y(Panopto.Core.StreamRequestStartReason.Start):t===Panopto.Core.ViewerPlayState.Stopped&&P(Panopto.Core.StreamRequestStopReason.End)}),i=setInterval(S,p),s=setInterval(g,f),r=void 0,m.length=0,y(Panopto.Core.StreamRequestStartReason.Start),$(window).on("beforeunload."+h,function(){P(Panopto.Core.StreamRequestStopReason.PlayerClose),g({isUnloading:!0})})},stop:function(){i&&clearInterval(i),s&&clearInterval(s),a&&e.offSeek(a),c&&e.offSpeedChange(c),l&&e.offPlayStateChangeLog(l),$(window).off("beforeunload."+h),P(Panopto.Core.StreamRequestStopReason.End),g()}}},function(e){!function(e){!function(e){!function(e){var t=function(){function e(){}return e.prototype.fromResponse=function(e,t,o){this.results=_.map(e,o),this.hasMorePages="true"===(t.getResponseHeader(Panopto.Core.ServiceInterface.Rest.Api.HasMorePagesKey)||"").toLowerCase(),this.totalCount=parseInt(t.getResponseHeader(Panopto.Core.ServiceInterface.Rest.Api.ResponseCountKey)||"0",10)},e}();e.DataPage=t}(e.Objects||(e.Objects={}))}(e.Rest||(e.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},function(e){!function(e){!function(e){var t=function(){function e(){}return e.get="GET",e.delete="DELETE",e.post="POST",e.put="PUT",e}();e.HttpMethods=t}(e.Rest||(e.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods=function(e){return e.Put="PUT",e.Post="POST",e.Get="GET",e.Delete="DELETE",e}(Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods||{}),function(e){!function(e){!function(e){!function(e){!function(e){e[e.Day=0]="Day",e[e.Week=1]="Week",e[e.Month=2]="Month",e[e.Year=3]="Year"}(e.DateTimeBucketSize||(e.DateTimeBucketSize={}))}(e.Filters||(e.Filters={}))}(e.Rest||(e.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){e[e.Viewer=1]="Viewer",e[e.Creator=2]="Creator",e[e.Admin=3]="Admin",e[e.Videographer=4]="Videographer",e[e.Service=5]="Service",e[e.Publisher=6]="Publisher",e[e.DirectViewerOnly=7]="DirectViewerOnly",e[e.DepartmentAdmin=8]="DepartmentAdmin"}(e.AclRoleType||(e.AclRoleType={})),function(e){e[e.ActiveDirectory=1]="ActiveDirectory",e[e.SsoGroup=2]="SsoGroup",e[e.Internal=3]="Internal",e[e.AllUsersGroup=5]="AllUsersGroup",e[e.PublicGroup=6]="PublicGroup"}(e.GroupType||(e.GroupType={})),function(e){e[e.Unprocessed=0]="Unprocessed",e[e.TranscriptRequested=1]="TranscriptRequested",e[e.TranscriptReady=2]="TranscriptReady",e[e.TranscriptReceived=3]="TranscriptReceived",e[e.TranscriptImported=4]="TranscriptImported",e[e.Error=5]="Error",e[e.SessionHasNoAudio=6]="SessionHasNoAudio",e[e.GeneratingMediaFiles=7]="GeneratingMediaFiles",e[e.MediaFilesReady=8]="MediaFilesReady"}(e.TranscriptionStatus||(e.TranscriptionStatus={})),function(e){e[e.DummyProvider=0]="DummyProvider",e[e.Import=1]="Import",e[e.Cielo24Test_Reg=5]="Cielo24Test_Reg",e[e.LegacyAutomaticSyncDeployed=6]="LegacyAutomaticSyncDeployed",e[e.LegacyAutomaticSyncHosted=7]="LegacyAutomaticSyncHosted",e[e.Cielo24Test_Rush=9]="Cielo24Test_Rush",e[e.AutomaticSync_Rush=10]="AutomaticSync_Rush",e[e.ThreePlayMedia_SameDay=12]="ThreePlayMedia_SameDay",e[e.ThreePlayMedia_Rush=13]="ThreePlayMedia_Rush",e[e.ThreePlayMedia_Expedited=14]="ThreePlayMedia_Expedited",e[e.ThreePlayMedia_Standard=15]="ThreePlayMedia_Standard",e[e.ThreePlayMedia_Test=16]="ThreePlayMedia_Test",e[e.ThreePlayMedia_Extended=17]="ThreePlayMedia_Extended",e[e.Cielo24_Reg_UserAccount=18]="Cielo24_Reg_UserAccount",e[e.Cielo24_Rush_UserAccount=19]="Cielo24_Rush_UserAccount",e[e.Cielo24Test_UserAccount=20]="Cielo24Test_UserAccount",e[e.Cielo24_Critical_UserAccount=21]="Cielo24_Critical_UserAccount",e[e.Cielo24_Backlog_UserAccount=22]="Cielo24_Backlog_UserAccount",e[e.Automatic_Machine_Captioning=23]="Automatic_Machine_Captioning",e[e.Rev_Reg_UserAccount=24]="Rev_Reg_UserAccount",e[e.RevTest_UserAccount=25]="RevTest_UserAccount",e[e.VerbitAi_Reg_UserAccount=26]="VerbitAi_Reg_UserAccount",e[e.VerbitAiTest_Reg_UserAccount=27]="VerbitAiTest_Reg_UserAccount",e[e.Panopto_1day_Critical=28]="Panopto_1day_Critical",e[e.Panopto_4day_Extended=29]="Panopto_4day_Extended",e[e.Panopto_2day_Standard=30]="Panopto_2day_Standard",e[e.Panopto_1day_Test_Critical=31]="Panopto_1day_Test_Critical",e[e.Panopto_4day_Test_Extended=32]="Panopto_4day_Test_Extended",e[e.AIMedia_Reg_UserAccount=33]="AIMedia_Reg_UserAccount",e[e.AIMedia_Test_UserAccount=34]="AIMedia_Test_UserAccount",e[e.Zoom_Transcription_Import=35]="Zoom_Transcription_Import"}(e.TranscriptionProviderType||(e.TranscriptionProviderType={})),function(e){e[e.UsernamePassword=1]="UsernamePassword",e[e.PrivateKey=2]="PrivateKey",e[e.UserKey=3]="UserKey",e[e.None=4]="None"}(e.TranscriptionCredentialType||(e.TranscriptionCredentialType={})),function(e){e[e.IPWhiteList=0]="IPWhiteList"}(e.NetworkAccessRuleType||(e.NetworkAccessRuleType={})),function(e){e[e.Delete=0]="Delete",e[e.Hide=1]="Hide",e[e.Erasure=2]="Erasure"}(e.RetentionPolicyRuleActionType||(e.RetentionPolicyRuleActionType={})),function(e){e[e.Normal=0]="Normal",e[e.DefaultRetainIndefinitely=1]="DefaultRetainIndefinitely",e[e.DefaultDeleteOnCreation=2]="DefaultDeleteOnCreation",e[e.DefaultDeleteOnLastViewed=3]="DefaultDeleteOnLastViewed"}(e.RetentionPolicyRuleGroupType||(e.RetentionPolicyRuleGroupType={})),function(e){e[e.LastViewedDate=0]="LastViewedDate",e[e.CreationDate=1]="CreationDate",e[e.ModifiedDate=2]="ModifiedDate",e[e.HiddenDate=3]="HiddenDate"}(e.RetentionPolicyRuleMetricType||(e.RetentionPolicyRuleMetricType={})),function(e){e[e.Second=0]="Second",e[e.Minute=1]="Minute",e[e.Hour=2]="Hour",e[e.Day=3]="Day",e[e.Week=4]="Week",e[e.Month=5]="Month",e[e.Quarter=6]="Quarter",e[e.Year=7]="Year"}(e.Period||(e.Period={})),function(e){e[e.unknown=0]="unknown",e[e.ism=1]="ism",e[e.mp3=2]="mp3",e[e.mp4=3]="mp4",e[e.mov=4]="mov",e[e.wmv=5]="wmv",e[e.avi=6]="avi",e[e.manifest=7]="manifest",e[e.hist=8]="hist",e[e.wav=9]="wav",e[e.packedraw=10]="packedraw",e[e.hls=11]="hls",e[e.rawsample=12]="rawsample",e[e.m4a=13]="m4a",e[e.m4v=14]="m4v"}(e.MediaFileType||(e.MediaFileType={})),function(e){e[e.Unknown=0]="Unknown",e[e.DV=1]="DV",e[e.HDV=2]="HDV",e[e.Video=3]="Video",e[e.Audio=4]="Audio",e[e.Screen=5]="Screen",e[e.File=6]="File"}(e.DeviceMediaType||(e.DeviceMediaType={}))}(AutoInternal||(AutoInternal={})),function(e){!function(e){e[e.Enumerate=1]="Enumerate",e[e.ViewInfo=2]="ViewInfo",e[e.Preview=3]="Preview",e[e.Record=4]="Record",e[e.EditConfiguration=5]="EditConfiguration",e[e.EditAccessEntries=6]="EditAccessEntries",e[e.ViewSchedule=7]="ViewSchedule",e[e.ViewScheduleDetails=8]="ViewScheduleDetails",e[e.EditSchedule=9]="EditSchedule",e[e.ReceiveRemoteRecorderNotifications=10]="ReceiveRemoteRecorderNotifications"}(e.AccessRoleType||(e.AccessRoleType={})),function(e){e[e.None=0]="None",e[e.AllUsers=1]="AllUsers",e[e.Public=2]="Public"}(e.BuiltInGroupType||(e.BuiltInGroupType={})),function(e){e[e.Label=0]="Label",e[e.SlideChange=1]="SlideChange",e[e.Note=2]="Note",e[e.Bookmark=3]="Bookmark",e[e.Caption=4]="Caption",e[e.Comment=5]="Comment",e[e.SpeechRecognition=6]="SpeechRecognition",e[e.OcrRecognition=7]="OcrRecognition"}(e.EventType||(e.EventType={})),function(e){e[e.Created=0]="Created",e[e.HasValidOAuthCredentials=1]="HasValidOAuthCredentials",e[e.InvalidOAuthToken=2]="InvalidOAuthToken",e[e.ZoomApiNotResponding=3]="ZoomApiNotResponding",e[e.ClientIdOrSecretProblem=4]="ClientIdOrSecretProblem",e[e.InitialOAuthHandshakeFailed=5]="InitialOAuthHandshakeFailed",e[e.Disabled=6]="Disabled",e[e.UnknownError=7]="UnknownError",e[e.Deauthorized=8]="Deauthorized"}(e.ExternalProviderZoomStatus||(e.ExternalProviderZoomStatus={})),function(e){e[e.Normal=0]="Normal",e[e.Sandbox=1]="Sandbox",e[e.SandboxRoot=2]="SandboxRoot",e[e.SandboxArchiveRoot=3]="SandboxArchiveRoot",e[e.ClosedDropbox=4]="ClosedDropbox"}(e.FolderType||(e.FolderType={})),function(e){e[e.None=0]="None",e[e.Full=1]="Full",e[e.Half=2]="Half"}(e.MediaVRType||(e.MediaVRType={})),function(e){e[e.ReadByIdentifier=0]="ReadByIdentifier",e[e.Read=1]="Read",e[e.Create=2]="Create",e[e.Update=3]="Update",e[e.Delete=4]="Delete"}(e.ModelAction||(e.ModelAction={})),function(e){e[e.JWT=0]="JWT",e[e.Reference=1]="Reference"}(e.OauthAccessTokenType||(e.OauthAccessTokenType={})),function(e){e[e.User=0]="User",e[e.InternalPanoptoSite=1]="InternalPanoptoSite"}(e.OauthClientType||(e.OauthClientType={})),function(e){e[e.CorsOrigin=1]="CorsOrigin",e[e.PostLogoutRedirect=2]="PostLogoutRedirect",e[e.Redirect=3]="Redirect"}(e.OauthClientUriType||(e.OauthClientUriType={})),function(e){e[e.AuthorizationCode=0]="AuthorizationCode",e[e.Implicit=1]="Implicit",e[e.Hybrid=2]="Hybrid",e[e.ClientCredentials=3]="ClientCredentials",e[e.ResourceOwner=4]="ResourceOwner",e[e.Custom=5]="Custom",e[e.AuthorizationCodeWithProofKey=6]="AuthorizationCodeWithProofKey",e[e.HybridWithProofKey=7]="HybridWithProofKey"}(e.OauthFlowType||(e.OauthFlowType={})),function(e){e[e.Api=1]="Api",e[e.InternalApi=2]="InternalApi",e[e.RecorderRegistration=3]="RecorderRegistration",e[e.RemoteRecorderApi=4]="RemoteRecorderApi",e[e.RecorderApi=5]="RecorderApi"}(e.OauthScopes||(e.OauthScopes={})),function(e){e[e.AuthorizationCode=0]="AuthorizationCode",e[e.RefreshToken=1]="RefreshToken",e[e.AccessToken=2]="AccessToken",e[e.PanoptoToken=3]="PanoptoToken"}(e.OauthTokenType||(e.OauthTokenType={})),function(e){e[e.User=0]="User",e[e.Group=1]="Group"}(e.PrincipalType||(e.PrincipalType={})),function(e){e[e.PublicOnly=0]="PublicOnly",e[e.PublicAllowed=1]="PublicAllowed"}(e.PropertyVisibility||(e.PropertyVisibility={})),function(e){e[e.TrueFalse=0]="TrueFalse",e[e.MultipleChoice=1]="MultipleChoice",e[e.MultipleSelect=2]="MultipleSelect",e[e.FillInTheBlank=3]="FillInTheBlank"}(e.QuestionType||(e.QuestionType={})),function(e){e[e.Stopped=0]="Stopped",e[e.Previewing=1]="Previewing",e[e.Recording=2]="Recording",e[e.Paused=3]="Paused",e[e.Faulted=4]="Faulted",e[e.Disconnected=5]="Disconnected",e[e.RecorderRunning=6]="RecorderRunning"}(e.RemoteRecorderState||(e.RemoteRecorderState={})),function(e){e[e.Site=0]="Site",e[e.Folder=1]="Folder",e[e.Session=2]="Session",e[e.RemoteRecorder=3]="RemoteRecorder",e[e.Department=4]="Department"}(e.SecurableType||(e.SecurableType={})),function(e){e[e.None=0]="None",e[e.HomePage=1]="HomePage",e[e.HomePageUnpublished=2]="HomePageUnpublished"}(e.SessionListSpecialType||(e.SessionListSpecialType={})),function(e){e[e.Created=0]="Created",e[e.Scheduled=1]="Scheduled",e[e.Recording=2]="Recording",e[e.Processing=3]="Processing",e[e.Complete=4]="Complete",e[e.Live=5]="Live"}(e.SessionStatus||(e.SessionStatus={})),function(e){e[e.Pending=0]="Pending",e[e.Active=1]="Active"}(e.SharingConnectionType||(e.SharingConnectionType={})),function(e){e[e.Audio=0]="Audio",e[e.Screen=1]="Screen",e[e.Slide=2]="Slide",e[e.Camera=3]="Camera"}(e.StreamContentType||(e.StreamContentType={})),function(e){e[e.Administrator=2]="Administrator",e[e.Creator=3]="Creator",e[e.Viewer=4]="Viewer",e[e.Videographer=5]="Videographer",e[e.FolderViewerWithLink=6]="FolderViewerWithLink",e[e.Publisher=7]="Publisher",e[e.DropboxViewer=8]="DropboxViewer",e[e.SessionViewerWithLink=9]="SessionViewerWithLink",e[e.UploadService=10]="UploadService",e[e.SessionCreatorViaDropbox=11]="SessionCreatorViaDropbox",e[e.DepartmentAdministrator=12]="DepartmentAdministrator"}(e.SystemDefaultRole||(e.SystemDefaultRole={}));var t=function(){function t(){}return t.prototype.fromClientSessionReferenceCreate=function(t){this.ReferencedSessionId=t.referencedSessionId,this.Start=t.start,this.Order=t.order,this.Cuts=new Array(t.cuts?t.cuts.length:0);for(var o=0;o<this.Cuts.length;o++)this.Cuts[o]=t.cuts[o]?(new e.SessionReferenceCreateCut).fromClientSessionReferenceCreateCut(t.cuts[o]):void 0;return this},t}();e.SessionReferenceCreate=t;var o=function(){function e(){}return e.prototype.fromClientSessionReferenceUpdate=function(e){return this.Id=e.id,this.Start=e.start,this.Order=e.order,this},e}();e.SessionReferenceUpdate=o;var n=function(){function e(){}return e.prototype.fromClientSessionReferenceCreateCut=function(e){return this.Start=e.start,this.Duration=e.duration,this},e}();e.SessionReferenceCreateCut=n;var r=function(){function e(){}return e.prototype.fromClientStreamCreate=function(e){return this.UploadId=e.uploadId,this},e}();e.StreamCreate=r;var i=function(){function e(){}return e.prototype.fromClientModelBase=function(e){return this.Id=e.id,this.Name=e.name,this.TypeName=e.typeName,this},e}();e.ModelBase=i;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientModelBase=function(t){return e.prototype.fromClientModelBase.call(this,t),this.RepositoryKey=t.repositoryKey,this},t}(e.ModelBase);e.ModelBaseT=s;var a=function(){function e(){}return e.prototype.fromClientPrincipal=function(e){return this.GroupName=e.groupName,this.GroupType=e.groupType,this.Id=e.id,this.Type=e.type,this.UserEmail=e.userEmail,this.UserFirstName=e.userFirstName,this.UserLastName=e.userLastName,this.UserName=e.userName,this},e}();e.Principal=a;var c=function(){function e(){}return e.prototype.fromClientRole=function(e){return this.Id=e.id,this.Name=e.name,this.SystemDefault=e.systemDefault,this},e}();e.Role=c;var l=function(){function e(){}return e.prototype.fromClientSecurable=function(e){return this.Id=e.id,this.Type=e.type,this.Name=e.name,this},e}();e.Securable=l;var u=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientAccess=function(o){return t.prototype.fromClientModelBase.call(this,o),this.Item=o.item?(new e.ModelBase).fromClientModelBase(o.item):void 0,this.Role=o.role,this.IsEditable=o.isEditable,this.Receiver=o.receiver?(new e.ModelBase).fromClientModelBase(o.receiver):void 0,this.IsInherited=o.isInherited,this},o}(s);e.Access=u;var d=function(){function e(){}return e.prototype.fromClientAPIErrorInternal=function(e){return this.ErrorCode=e.errorCode,this.Message=e.message,this.Success=e.success,this.ErrorSource=e.errorSource,this},e}();e.APIErrorInternal=d;var p=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientEvent=function(o){return t.prototype.fromClientModelBase.call(this,o),this.SessionId=o.sessionId,this.StreamId=o.streamId,this.Type=o.type,this.Metadata=o.metadata,this.TimelineTime=o.timelineTime,this.CreationTime=o.creationTime,this.RelativeTime=o.relativeTime,this.ContainerRelativeTime=o.containerRelativeTime,this.Channel=o.channel,this.Creator=o.creator?(new e.ModelBase).fromClientModelBase(o.creator):void 0,this.ThumbnailUrl=o.thumbnailUrl,this.SlideUrl=o.slideUrl,this.Link=o.link,this.IsDefaultThumbnail=o.isDefaultThumbnail,this.SlideId=o.slideId,this.SlideDeckId=o.slideDeckId,this.RepositoryKey=o.repositoryKey,this},o}(s);e.Event=p;var f=function(){};e.EventKey=f;var h=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientFolder=function(o){return t.prototype.fromClientModelBase.call(this,o),this.IsEditable=o.isEditable,this.IsDepartment=o.isDepartment,this.DepartmentId=o.departmentId,this.IsDropbox=o.isDropbox,this.FolderType=o.folderType,this.DeliveriesHaveSpecifiedOrder=o.deliveriesHaveSpecifiedOrder,this.PodcastEnabled=o.podcastEnabled,this.Parent=o.parent?(new e.Folder).fromClientFolder(o.parent):void 0,this.UserCanCreateFolders=o.userCanCreateFolders,this.UserCanCreateSessions=o.userCanCreateSessions,this.UserCanManageDepartmentSettings=o.userCanManageDepartmentSettings,this.IsEnumerable=o.isEnumerable,this.HasAccessibleChildren=o.hasAccessibleChildren,this.SessionCount=o.sessionCount,this.Description=o.description,this.ParentFolder=o.parentFolder?(new e.BasicFolder).fromClientBasicFolder(o.parentFolder):void 0,this.Urls=o.urls?(new e.FolderUrls).fromClientFolderUrls(o.urls):void 0,this},o}(s);e.Folder=h;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientBasicFolder=function(t){return e.prototype.fromClientModelBase.call(this,t),this},t}(s);e.BasicFolder=m;var v=function(){function e(){}return e.prototype.fromClientFolderUrls=function(e){return this.FolderUrl=e.folderUrl,this.EmbedUrl=e.embedUrl,this.ShareSettingsUrl=e.shareSettingsUrl,this},e}();e.FolderUrls=v;var C=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientAccessItem=function(o){t.prototype.fromClientModelBase.call(this,o),this.BuiltInGroupAccess=o.builtInGroupAccess?(new e.Access).fromClientAccess(o.builtInGroupAccess):void 0,this.BuiltInGroupShareOptions=new Array(o.builtInGroupShareOptions?o.builtInGroupShareOptions.length:0);for(var n=0;n<this.BuiltInGroupShareOptions.length;n++)this.BuiltInGroupShareOptions[n]=o.builtInGroupShareOptions[n]?(new e.Access).fromClientAccess(o.builtInGroupShareOptions[n]):void 0;return this.Parent=o.parent?(new e.ModelBase).fromClientModelBase(o.parent):void 0,this.IsInheritingAccess=o.isInheritingAccess,this.InheritableAncestor=o.inheritableAncestor?(new e.ModelBase).fromClientModelBase(o.inheritableAncestor):void 0,this},o}(s);e.AccessItem=C;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientMembershipProvider=function(t){return e.prototype.fromClientModelBase.call(this,t),this.Description=t.description,this.IsInternal=t.isInternal,this.UnifyAccounts=t.unifyAccounts,this},t}(s);e.MembershipProvider=y;var P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientNetworkAccessRule=function(t){return e.prototype.fromClientModelBase.call(this,t),this.FriendlyName=t.friendlyName,this.RuleType=t.ruleType,this.RuleValue=t.ruleValue,this},t}(e.ModelBase);e.NetworkAccessRule=P;var S=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientPlaylist=function(o){return t.prototype.fromClientModelBase.call(this,o),this.Parent=o.parent?(new e.ModelBase).fromClientModelBase(o.parent):void 0,this.ViewerUri=o.viewerUri,this.EmbedViewerTag=o.embedViewerTag,this.Description=o.description,this.ThumbUrl=o.thumbUrl,this.BuiltInGroupAccess=o.builtInGroupAccess?(new e.Access).fromClientAccess(o.builtInGroupAccess):void 0,this.SessionListId=o.sessionListId,this},o}(s);e.Playlist=S;var g=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientSession=function(o){t.prototype.fromClientModelBase.call(this,o),this.Parent=o.parent?(new e.ModelBase).fromClientModelBase(o.parent):void 0,this.ViewerUri=o.viewerUri,this.EmbedViewerTag=o.embedViewerTag,this.IsWebcast=o.isWebcast,this.Description=o.description,this.Status=o.status,this.StartTime=o.startTime,this.Duration=o.duration,this.ThumbUrl=o.thumbUrl,this.PresenterFirstNames=new Array(o.presenterFirstNames?o.presenterFirstNames.length:0);for(var n=0;n<this.PresenterFirstNames.length;n++)this.PresenterFirstNames[n]=o.presenterFirstNames[n];this.PresenterLastNames=new Array(o.presenterLastNames?o.presenterLastNames.length:0);for(n=0;n<this.PresenterLastNames.length;n++)this.PresenterLastNames[n]=o.presenterLastNames[n];this.MostRecentViewTime=o.mostRecentViewTime,this.MostRecentViewPosition=o.mostRecentViewPosition,this.BuiltInGroupAccess=o.builtInGroupAccess?(new e.Access).fromClientAccess(o.builtInGroupAccess):void 0,this.DefaultThumbnailTime=o.defaultThumbnailTime,this.IsDeleted=o.isDeleted,this.IsPlaylist=o.isPlaylist,this.ReferencedSessions=new Array(o.referencedSessions?o.referencedSessions.length:0);for(n=0;n<this.ReferencedSessions.length;n++)this.ReferencedSessions[n]=o.referencedSessions[n]?(new e.SessionReference).fromClientSessionReference(o.referencedSessions[n]):void 0;return this.CreatedBy=o.createdBy?(new e.PublicUser).fromClientPublicUser(o.createdBy):void 0,this.Urls=o.urls?(new e.SessionUrls).fromClientSessionUrls(o.urls):void 0,this.Folder=o.folder,this},o}(s);e.Session=g;var I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientQuestionOption=function(t){return e.prototype.fromClientModelBase.call(this,t),this.IsCorrect=t.isCorrect,this},t}(e.ModelBase);e.QuestionOption=I;var b=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientQuestion=function(o){t.prototype.fromClientModelBase.call(this,o),this.Explanation=o.explanation,this.QuestionType=o.questionType,this.Options=new Array(o.options?o.options.length:0);for(var n=0;n<this.Options.length;n++)this.Options[n]=o.options[n]?(new e.QuestionOption).fromClientQuestionOption(o.options[n]):void 0;return this.Prompt=o.prompt,this},o}(e.ModelBase);e.Question=b;var R=function(){function t(){}return t.prototype.fromClientQuotaSummary=function(t){return this.ModifierSummary=t.modifierSummary?(new e.QuotaModifierSummary).fromClientQuotaModifierSummary(t.modifierSummary):void 0,this.ValueSummary=t.valueSummary?(new e.QuotaValueSummary).fromClientQuotaValueSummary(t.valueSummary):void 0,this},t}();e.QuotaSummary=R;var T=function(){function t(){}return t.prototype.fromClientQuotaDataByPeriod=function(t){return this.PeriodStartDate=t.periodStartDate,this.PeriodEndDate=t.periodEndDate,this.DeliveredSummary=t.deliveredSummary?(new e.QuotaSummary).fromClientQuotaSummary(t.deliveredSummary):void 0,this.StoredSummary=t.storedSummary?(new e.QuotaSummary).fromClientQuotaSummary(t.storedSummary):void 0,this},t}();e.QuotaDataByPeriod=T;var w=function(){function e(){}return e.prototype.fromClientQuotaModifierSummary=function(e){return this.SumRollover=e.sumRollover,this.SumBase=e.sumBase,this.SumReferral=e.sumReferral,this.SumTotal=e.sumTotal,this},e}();e.QuotaModifierSummary=w;var A=function(){function t(){}return t.prototype.fromClientQuotaValueSummary=function(t){this.SecondsByDay=new Array(t.secondsByDay?t.secondsByDay.length:0);for(var o=0;o<this.SecondsByDay.length;o++)this.SecondsByDay[o]=t.secondsByDay[o];this.SumTotal=t.sumTotal,this.TopSessions=new Array(t.topSessions?t.topSessions.length:0);for(o=0;o<this.TopSessions.length;o++)this.TopSessions[o]=t.topSessions[o]?(new e.QuotaSession).fromClientQuotaSession(t.topSessions[o]):void 0;return this},t}();e.QuotaValueSummary=A;var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientQuotaSession=function(t){return e.prototype.fromClientModelBase.call(this,t),this.TotalSeconds=t.totalSeconds,this.SessionWasDeleted=t.sessionWasDeleted,this},t}(e.ModelBase);e.QuotaSession=E;var D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientRecurlySubscription=function(t){return e.prototype.fromClientModelBase.call(this,t),this.State=t.state,this.PlanCode=t.planCode,this.CurrentPeriodStartedAt=t.currentPeriodStartedAt,this.CurrentPeriodEndsAt=t.currentPeriodEndsAt,this},t}(e.ModelBase);e.RecurlySubscription=D;var M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientRecurlyBillingInfo=function(t){return e.prototype.fromClientModelBase.call(this,t),this.Address1=t.address1,this.Address2=t.address2,this.City=t.city,this.State=t.state,this.UpdatedAt=t.updatedAt,this.NameOnAccount=t.nameOnAccount,this},t}(e.ModelBase);e.RecurlyBillingInfo=M;var U=function(){function e(){}return e.prototype.fromClientDevice=function(e){return this.Record=e.record,this.DeviceId=e.deviceId,this.Height=e.height,this.Name=e.name,this.AudioPreviewUrl=e.audioPreviewUrl,this.VideoPreviewUrl=e.videoPreviewUrl,this.LastPreviewUpdateDateTime=e.lastPreviewUpdateDateTime,this.Type=e.type,this.Width=e.width,this.MissingData=e.missingData,this},e}();e.Device=U;var k=function(){function e(){}return e.prototype.fromClientQualitySettings=function(e){return this.AudioBitrate=e.audioBitrate,this.Framerate=e.framerate,this.MultipleBitrateCount=e.multipleBitrateCount,this.PixelCount=e.pixelCount,this.VideoBitrate=e.videoBitrate,this},e}();e.QualitySettings=k;var _=function(){function e(){}return e.prototype.fromClientRecorderTimeZoneInfo=function(e){return this},e}();e.RecorderTimeZoneInfo=_;var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientRetentionPolicyRule=function(t){return e.prototype.fromClientModelBase.call(this,t),this.ActionType=t.actionType,this.MetricType=t.metricType,this.RetentionLength=t.retentionLength,this.RetentionPeriod=t.retentionPeriod,this},t}(e.ModelBase);e.RetentionPolicyRule=x;var F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientRecorderScheduleEntry=function(t){return e.prototype.fromClientModelBase.call(this,t),this.OwnerId=t.ownerId,this.IsPrimaryRecorder=t.isPrimaryRecorder,this.RecorderId=t.recorderId,this.SessionId=t.sessionId,this.StartTime=t.startTime,this.Duration=t.duration,this.SuppressPrimaryCapture=t.suppressPrimaryCapture,this.SuppressSecondaryCapture=t.suppressSecondaryCapture,this.RecorderDescription=t.recorderDescription,this},t}(s);e.RecorderScheduleEntry=F;var O=function(){function e(){}return e.prototype.fromClientScheduledRecordingRemoteRecorder=function(e){return this.RemoteRecorderId=e.remoteRecorderId,this.SuppressPrimary=e.suppressPrimary,this.SuppressSecondary=e.suppressSecondary,this},e}();e.ScheduledRecordingRemoteRecorder=O;var N=function(){};e.ScopedAnalyticsKey=N;var B=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientSessionReference=function(o){return t.prototype.fromClientModelBase.call(this,o),this.ReferencedSessionId=o.referencedSessionId,this.ReferencedSessionDuration=o.referencedSessionDuration,this.Start=o.start,this.Order=o.order,this.HostSession=o.hostSession?(new e.Session).fromClientSession(o.hostSession):void 0,this},o}(s);e.SessionReference=B;var j=function(){function e(){}return e.prototype.fromClientPublicUser=function(e){return this.Id=e.id,this.Username=e.username,this},e}();e.PublicUser=j;var V=function(){function e(){}return e.prototype.fromClientSessionUrls=function(e){return this.ViewerUrl=e.viewerUrl,this.EmbedUrl=e.embedUrl,this.ShareSettingsUrl=e.shareSettingsUrl,this.DownloadUrl=e.downloadUrl,this.CaptionDownloadUrl=e.captionDownloadUrl,this.EditorUrl=e.editorUrl,this.ThumbnailUrl=e.thumbnailUrl,this},e}();e.SessionUrls=V;var H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientUpdateModel=function(t){return e.prototype.fromClientModelBase.call(this,t),this.UpdateDate=t.updateDate,this},t}(s);e.UpdateModel=H;var L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientCut=function(t){return e.prototype.fromClientModelBase.call(this,t),this.SessionId=t.sessionId,this.TargetId=t.targetId,this.TargetType=t.targetType,this.Start=t.start,this.Duration=t.duration,this},t}(s);e.Cut=L;var $=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientStream=function(t){return e.prototype.fromClientModelBase.call(this,t),this.Url=t.url,this.HttpUrl=t.httpUrl,this.AbsoluteStart=t.absoluteStart,this.Duration=t.duration,this.IsPrimary=t.isPrimary,this.ThumbnailUrlBase=t.thumbnailUrlBase,this.ThumbnailInterval=t.thumbnailInterval,this.Type=t.type,this.VRType=t.vrType,this},t}(s);e.Stream=$;var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientSlideDeck=function(t){return e.prototype.fromClientModelBase.call(this,t),this.SessionId=t.sessionId,this},t}(s);e.SlideDeck=G;var Q=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientQuestionList=function(o){t.prototype.fromClientModelBase.call(this,o),this.RevisionId=o.revisionId,this.Questions=new Array(o.questions?o.questions.length:0);for(var n=0;n<this.Questions.length;n++)this.Questions[n]=o.questions[n]?(new e.Question).fromClientQuestion(o.questions[n]):void 0;return this.SessionRelativeTime=o.sessionRelativeTime,this.IsSessionPlaybackBlocking=o.isSessionPlaybackBlocking,this.AllowRetake=o.allowRetake,this.ShowFinalGrade=o.showFinalGrade,this.AllowReview=o.allowReview,this.SessionId=o.sessionId,this},o}(s);e.QuestionList=Q;var q=function(){function t(){}return t.prototype.fromClientStreamChanges=function(t){this.ToAdd=new Array(t.toAdd?t.toAdd.length:0);for(var o=0;o<this.ToAdd.length;o++)this.ToAdd[o]=t.toAdd[o]?(new e.StreamCreate).fromClientStreamCreate(t.toAdd[o]):void 0;return this},t}();e.StreamChanges=q;var W=function(){function t(){}return t.prototype.fromClientSessionReferenceChanges=function(t){this.ToAdd=new Array(t.toAdd?t.toAdd.length:0);for(var o=0;o<this.ToAdd.length;o++)this.ToAdd[o]=t.toAdd[o]?(new e.SessionReferenceCreate).fromClientSessionReferenceCreate(t.toAdd[o]):void 0;this.ToUpdate=new Array(t.toUpdate?t.toUpdate.length:0);for(o=0;o<this.ToUpdate.length;o++)this.ToUpdate[o]=t.toUpdate[o]?(new e.SessionReferenceUpdate).fromClientSessionReferenceUpdate(t.toUpdate[o]):void 0;this.ToDelete=new Array(t.toDelete?t.toDelete.length:0);for(o=0;o<this.ToDelete.length;o++)this.ToDelete[o]=t.toDelete[o];return this},t}();e.SessionReferenceChanges=W;var z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientTranscriptionProvider=function(t){return e.prototype.fromClientModelBase.call(this,t),this.ProviderType=t.providerType,this.CredentialType=t.credentialType,this.CompanyName=t.companyName,this.SupportUrl=t.supportUrl,this.IsWhiteLabel=t.isWhiteLabel,this.AllowSendingFolderName=t.allowSendingFolderName,this.NeedsCustomerAccountInfo=t.needsCustomerAccountInfo,this.NeedsCustomerPrivateKey=t.needsCustomerPrivateKey,this.NeedsCustomerUserKey=t.needsCustomerUserKey,this.ShowInUI=t.showInUI,this.DisplayName=t.displayName,this.Description=t.description,this.Price=t.price,this.TurnaroundHours=t.turnaroundHours,this},t}(s);e.TranscriptionProvider=z;var K=function(){function t(){}return t.prototype.fromClientAccessControlPolicy=function(t){return this.Principal=t.principal?(new e.Principal).fromClientPrincipal(t.principal):void 0,this.Role=t.role?(new e.Role).fromClientRole(t.role):void 0,this.Securable=t.securable?(new e.Securable).fromClientSecurable(t.securable):void 0,this.StartDate=t.startDate,this.EndDate=t.endDate,this},t}();e.AccessControlPolicy=K;var Z=function(){function e(){}return e.prototype.fromClientAccessMessage=function(e){return this.Content=e.content,this.ShouldSendEmails=e.shouldSendEmails,this},e}();e.AccessMessage=Z;var Y=function(){function t(){}return t.prototype.fromClientAPIError=function(t){return this.Error=t.error?(new e.APIErrorInternal).fromClientAPIErrorInternal(t.error):void 0,this},t}();e.APIError=Y;var J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientBrand=function(t){return e.prototype.fromClientModelBase.call(this,t),this.AffiliationId=t.affiliationId,this.DepartmentId=t.departmentId,this.AccentColor=t.accentColor,this.WebLogoUrl=t.webLogoUrl,this.ViewerLogoUrl=t.viewerLogoUrl,this.EmbedLogoUrl=t.embedLogoUrl,this.SquareLogoUrl=t.squareLogoUrl,this.FaviconUrl=t.faviconUrl,this},t}(s);e.Brand=J;var X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientCaption=function(t){return e.prototype.fromClientEvent.call(this,t),this},t}(e.Event);e.Caption=X;var ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientDepartment=function(t){return e.prototype.fromClientModelBase.call(this,t),this.FolderId=t.folderId,this.WebLogoUrl=t.webLogoUrl,this},t}(s);e.Department=ee;var te=function(){function e(){}return e.prototype.fromClientEventTypeExtensions=function(e){return this},e}();e.EventTypeExtensions=te;var oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientFFTUserCreateResponse=function(t){return e.prototype.fromClientModelBase.call(this,t),this.PreauthenticatedLink=t.preauthenticatedLink,this.UserId=t.userId,this},t}(e.ModelBase);e.FFTUserCreateResponse=oe;var ne=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientFolderAccessItem=function(o){t.prototype.fromClientAccessItem.call(this,o),this.ViewUri=o.viewUri,this.EmbedViewTag=o.embedViewTag,this.IsApprovalRequired=o.isApprovalRequired,this.ArePublishersEditable=o.arePublishersEditable,this.IsDropbox=o.isDropbox,this.FolderType=o.folderType,this.InheritingDescendants=new Array(o.inheritingDescendants?o.inheritingDescendants.length:0);for(var n=0;n<this.InheritingDescendants.length;n++)this.InheritingDescendants[n]=o.inheritingDescendants[n]?(new e.ModelBase).fromClientModelBase(o.inheritingDescendants[n]):void 0;return this.IsEditable=o.isEditable,this},o}(e.AccessItem);e.FolderAccessItem=ne;var re=function(){function e(){}return e.prototype.fromClientFolderUpdate=function(e){return this.Name=e.name,this.Description=e.description,this.Parent=e.parent,this},e}();e.FolderUpdate=re;var ie=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientGroup=function(o){return t.prototype.fromClientModelBase.call(this,o),this.OwnerId=o.ownerId,this.OwnerName=o.ownerName,this.MemberCount=o.memberCount,this.ExternalId=o.externalId,this.IsPrivate=o.isPrivate,this.IsFromEditableMembershipProvider=o.isFromEditableMembershipProvider,this.IsEditable=o.isEditable,this.IsAccessEditable=o.isAccessEditable,this.BuiltInType=o.builtInType,this.Provider=o.provider?(new e.MembershipProvider).fromClientMembershipProvider(o.provider):void 0,this.IsMembershipViewable=o.isMembershipViewable,this},o}(s);e.Group=ie;var se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientHeatMapAnalytics=function(t){return e.prototype.fromClientModelBase.call(this,t),this.BucketStart=t.bucketStart,this.Views=t.views,this.Notes=t.notes,this.Comments=t.comments,this},t}(s);e.HeatMapAnalytics=se;var ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientJob=function(t){return e.prototype.fromClientAccessItem.call(this,t),this},t}(e.AccessItem);e.Job=ae;var ce=function(){function e(){}return e.prototype.fromClientListResponse=function(e){this.Results=new Array(e.results?e.results.length:0);for(var t=0;t<this.Results.length;t++)this.Results[t]=e.results[t];return this},e}();e.ListResponse=ce;var le=function(){function e(){}return e.prototype.fromClientModelActionExtensions=function(e){return this},e}();e.ModelActionExtensions=le;var ue=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientNetworkAccessRuleGroup=function(o){t.prototype.fromClientModelBase.call(this,o),this.FriendlyName=o.friendlyName,this.Editable=o.editable,this.Rules=new Array(o.rules?o.rules.length:0);for(var n=0;n<this.Rules.length;n++)this.Rules[n]=o.rules[n]?(new e.NetworkAccessRule).fromClientNetworkAccessRule(o.rules[n]):void 0;return this.IsDefault=o.isDefault,this},o}(s);e.NetworkAccessRuleGroup=ue;var de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientOauthAllowedUri=function(t){return e.prototype.fromClientModelBase.call(this,t),this.UriId=t.uriId,this.Uri=t.uri,this.UriType=t.uriType,this.ClientId=t.clientId,this},t}(s);e.OauthAllowedUri=de;var pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientOauthScope=function(t){return e.prototype.fromClientModelBase.call(this,t),this.ScopeId=t.scopeId,this.ClientId=t.clientId,this},t}(s);e.OauthScope=pe;var fe=function(){function e(){}return e.prototype.fromClientPasswordReset=function(e){return this.TokenId=e.tokenId,this.Answer=e.answer,this.Password=e.password,this},e}();e.PasswordReset=fe;var he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientPlaylistAccessItem=function(t){return e.prototype.fromClientAccessItem.call(this,t),this.ViewerUri=t.viewerUri,this.EmbedViewerTag=t.embedViewerTag,this},t}(e.AccessItem);e.PlaylistAccessItem=he;var me=function(){function t(){}return t.prototype.fromClientPlaylistWithItems=function(t){this.Playlist=t.playlist?(new e.Playlist).fromClientPlaylist(t.playlist):void 0,this.Items=new Array(t.items?t.items.length:0);for(var o=0;o<this.Items.length;o++)this.Items[o]=t.items[o]?(new e.Session).fromClientSession(t.items[o]):void 0;return this},t}();e.PlaylistWithItems=me;var ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientQuestionListAnswer=function(t){return e.prototype.fromClientModelBase.call(this,t),this.RevisionId=t.revisionId,this.UserId=t.userId,this.InvocationId=t.invocationId,this.QuestionListId=t.questionListId,this.QuestionId=t.questionId,this.QuestionOptionId=t.questionOptionId,this.TextAnswer=t.textAnswer,this.QuizStartTime=t.quizStartTime,this},t}(s);e.QuestionListAnswer=ve;var Ce=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientQuotaDetail=function(o){return t.prototype.fromClientModelBase.call(this,o),this.CurrentPeriod=o.currentPeriod?(new e.QuotaDataByPeriod).fromClientQuotaDataByPeriod(o.currentPeriod):void 0,this.LastPeriod=o.lastPeriod?(new e.QuotaDataByPeriod).fromClientQuotaDataByPeriod(o.lastPeriod):void 0,this},o}(e.ModelBase);e.QuotaDetail=Ce;var ye=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientRecurlySummary=function(o){t.prototype.fromClientModelBase.call(this,o),this.RecurlySubscriptions=new Array(o.recurlySubscriptions?o.recurlySubscriptions.length:0);for(var n=0;n<this.RecurlySubscriptions.length;n++)this.RecurlySubscriptions[n]=o.recurlySubscriptions[n]?(new e.RecurlySubscription).fromClientRecurlySubscription(o.recurlySubscriptions[n]):void 0;return this.BillingInfo=o.billingInfo?(new e.RecurlyBillingInfo).fromClientRecurlyBillingInfo(o.billingInfo):void 0,this},o}(e.ModelBase);e.RecurlySummary=ye;var Pe=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientRemoteRecorder=function(o){t.prototype.fromClientModelBase.call(this,o),this.Devices=new Array(o.devices?o.devices.length:0);for(var n=0;n<this.Devices.length;n++)this.Devices[n]=o.devices[n]?(new e.Device).fromClientDevice(o.devices[n]):void 0;this.LastConnectionDateTime=o.lastConnectionDateTime,this.PrimaryAudioDeviceId=o.primaryAudioDeviceId,this.PrimaryRecordingQualitySettings=o.primaryRecordingQualitySettings?(new e.QualitySettings).fromClientQualitySettings(o.primaryRecordingQualitySettings):void 0,this.PrimaryVideoDeviceId=o.primaryVideoDeviceId,this.RecordingType=o.recordingType,this.SecondaryRecordingQualitySettings=o.secondaryRecordingQualitySettings?(new e.QualitySettings).fromClientQualitySettings(o.secondaryRecordingQualitySettings):void 0,this.State=o.state,this.ScheduleVersion=o.scheduleVersion,this.Version=o.version,this.DefaultFolder=o.defaultFolder?(new e.Folder).fromClientFolder(o.defaultFolder):void 0,this.DefaultRecordingFolder=o.defaultRecordingFolder?(new e.BasicFolder).fromClientBasicFolder(o.defaultRecordingFolder):void 0,this.AccessRoleTypes=new Array(o.accessRoleTypes?o.accessRoleTypes.length:0);for(n=0;n<this.AccessRoleTypes.length;n++)this.AccessRoleTypes[n]=o.accessRoleTypes[n];return this.TimeZoneDisplayInfo=o.timeZoneDisplayInfo?(new e.RecorderTimeZoneInfo).fromClientRecorderTimeZoneInfo(o.timeZoneDisplayInfo):void 0,this.IsInheritingTimeZone=o.isInheritingTimeZone,this},o}(s);e.RemoteRecorder=Pe;var Se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientRetentionActionHistory=function(t){return e.prototype.fromClientModelBase.call(this,t),this.SessionName=t.sessionName,this.DeliveryId=t.deliveryId,this.RetentionRuleGroupName=t.retentionRuleGroupName,this.RetentionPolicyRuleActionType=t.retentionPolicyRuleActionType,this.RetentionPolicyRuleMetricType=t.retentionPolicyRuleMetricType,this.UserConfirmationUserName=t.userConfirmationUserName,this.UserConfirmationUserId=t.userConfirmationUserId,this.ActionDate=t.actionDate,this.RuleViolationDate=t.ruleViolationDate,this.ViolatedMetricDate=t.violatedMetricDate,this},t}(e.ModelBase);e.RetentionActionHistory=Se;var ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientRetentionConfiguration=function(t){return e.prototype.fromClientModelBase.call(this,t),this.UpdateFrequency=t.updateFrequency,this.ExecutionFrequency=t.executionFrequency,this.UpdateAnniversary=t.updateAnniversary,this.ExecutionAnniversary=t.executionAnniversary,this.RequireUserConfirmation=t.requireUserConfirmation,this.RetentionToolingReportMailingList=t.retentionToolingReportMailingList,this},t}(e.ModelBase);e.RetentionConfiguration=ge;var Ie=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientRetentionPolicyRuleGroup=function(o){t.prototype.fromClientModelBase.call(this,o),this.FriendlyName=o.friendlyName,this.Description=o.description,this.Editable=o.editable,this.Rules=new Array(o.rules?o.rules.length:0);for(var n=0;n<this.Rules.length;n++)this.Rules[n]=o.rules[n]?(new e.RetentionPolicyRule).fromClientRetentionPolicyRule(o.rules[n]):void 0;return this.IsSitewideDefault=o.isSitewideDefault,this.IsPersonalFolderDefault=o.isPersonalFolderDefault,this.RetentionPolicyType=o.retentionPolicyType,this},o}(s);e.RetentionPolicyRuleGroup=Ie;var be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientRetentionSessionInfo=function(t){return e.prototype.fromClientModelBase.call(this,t),this.CleanupDate=t.cleanupDate,this.RetentionRuleGroupName=t.retentionRuleGroupName,this.RetentionPolicyRuleActionType=t.retentionPolicyRuleActionType,this.RetentionPolicyRuleMetricType=t.retentionPolicyRuleMetricType,this.RetentionApprovalUserName=t.retentionApprovalUserName,this.RetentionLength=t.retentionLength,this.RetentionPeriod=t.retentionPeriod,this.DeliveryDuration=t.deliveryDuration,this},t}(e.ModelBase);e.RetentionSessionInfo=be;var Re=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientRTMPStream=function(o){return t.prototype.fromClientModelBase.call(this,o),this.Parent=o.parent?(new e.ModelBase).fromClientModelBase(o.parent):void 0,this.StreamKey=o.streamKey,this},o}(s);e.RTMPStream=Re;var Te=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientScheduledRecording=function(o){t.prototype.fromClientModelBase.call(this,o),this.RecorderScheduleEntries=new Array(o.recorderScheduleEntries?o.recorderScheduleEntries.length:0);for(var n=0;n<this.RecorderScheduleEntries.length;n++)this.RecorderScheduleEntries[n]=o.recorderScheduleEntries[n]?(new e.RecorderScheduleEntry).fromClientRecorderScheduleEntry(o.recorderScheduleEntries[n]):void 0;return this.StartTime=o.startTime,this.EndTime=o.endTime,this},o}(s);e.ScheduledRecording=Te;var we=function(){function t(){}return t.prototype.fromClientScheduledRecordingCreate=function(t){this.Name=t.name,this.Description=t.description,this.StartTime=t.startTime,this.EndTime=t.endTime,this.FolderId=t.folderId,this.Recorders=new Array(t.recorders?t.recorders.length:0);for(var o=0;o<this.Recorders.length;o++)this.Recorders[o]=t.recorders[o]?(new e.ScheduledRecordingRemoteRecorder).fromClientScheduledRecordingRemoteRecorder(t.recorders[o]):void 0;return this.IsBroadcast=t.isBroadcast,this},t}();e.ScheduledRecordingCreate=we;var Ae=function(){function e(){}return e.prototype.fromClientScheduledRecordingUpdate=function(e){return this.StartTime=e.startTime,this.EndTime=e.endTime,this},e}();e.ScheduledRecordingUpdate=Ae;var Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientScopedAnalytics=function(t){return e.prototype.fromClientModelBase.call(this,t),this.RepositoryKey=t.repositoryKey,this.IsPublic=t.isPublic,this.TimeStamp=t.timeStamp,this.FolderId=t.folderId,this.FolderFriendlyName=t.folderFriendlyName,this.RootFolderId=t.rootFolderId,this.RootFolderFriendlyName=t.rootFolderFriendlyName,this.UserId=t.userId,this.UserName=t.userName,this.UserFriendlyName=t.userFriendlyName,this.SessionId=t.sessionId,this.SessionFriendlyName=t.sessionFriendlyName,this.CreatorId=t.creatorId,this.CreatorName=t.creatorName,this.CreatorFriendlyName=t.creatorFriendlyName,this.Views=t.views,this.MinutesViewed=t.minutesViewed,this.UniqueViewers=t.uniqueViewers,this.UniqueSessions=t.uniqueSessions,this.PercentCompleted=t.percentCompleted,this.TotalComments=t.totalComments,this.TotalNotes=t.totalNotes,this.AverageMinutesViewed=t.averageMinutesViewed,this},t}(s);e.ScopedAnalytics=Ee;var De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientSessionAccessItem=function(t){return e.prototype.fromClientAccessItem.call(this,t),this.ViewerUri=t.viewerUri,this.EmbedViewerTag=t.embedViewerTag,this},t}(e.AccessItem);e.SessionAccessItem=De;var Me=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientSessionChangeSet=function(o){t.prototype.fromClientUpdateModel.call(this,o),this.SessionId=o.sessionId,this.CutsToReplace=new Array(o.cutsToReplace?o.cutsToReplace.length:0);for(var n=0;n<this.CutsToReplace.length;n++)this.CutsToReplace[n]=o.cutsToReplace[n]?(new e.Cut).fromClientCut(o.cutsToReplace[n]):void 0;this.StreamsToUpdate=new Array(o.streamsToUpdate?o.streamsToUpdate.length:0);for(n=0;n<this.StreamsToUpdate.length;n++)this.StreamsToUpdate[n]=o.streamsToUpdate[n]?(new e.Stream).fromClientStream(o.streamsToUpdate[n]):void 0;this.SlideDecksToDelete=new Array(o.slideDecksToDelete?o.slideDecksToDelete.length:0);for(n=0;n<this.SlideDecksToDelete.length;n++)this.SlideDecksToDelete[n]=o.slideDecksToDelete[n]?(new e.SlideDeck).fromClientSlideDeck(o.slideDecksToDelete[n]):void 0;this.EventsToAdd=new Array(o.eventsToAdd?o.eventsToAdd.length:0);for(n=0;n<this.EventsToAdd.length;n++)this.EventsToAdd[n]=o.eventsToAdd[n]?(new e.Event).fromClientEvent(o.eventsToAdd[n]):void 0;this.EventsToUpdate=new Array(o.eventsToUpdate?o.eventsToUpdate.length:0);for(n=0;n<this.EventsToUpdate.length;n++)this.EventsToUpdate[n]=o.eventsToUpdate[n]?(new e.Event).fromClientEvent(o.eventsToUpdate[n]):void 0;this.EventsToDelete=new Array(o.eventsToDelete?o.eventsToDelete.length:0);for(n=0;n<this.EventsToDelete.length;n++)this.EventsToDelete[n]=o.eventsToDelete[n]?(new e.Event).fromClientEvent(o.eventsToDelete[n]):void 0;this.QuestionListRevisions=new Array(o.questionListRevisions?o.questionListRevisions.length:0);for(n=0;n<this.QuestionListRevisions.length;n++)this.QuestionListRevisions[n]=o.questionListRevisions[n]?(new e.QuestionList).fromClientQuestionList(o.questionListRevisions[n]):void 0;this.QuestionListIdsToDelete=new Array(o.questionListIdsToDelete?o.questionListIdsToDelete.length:0);for(n=0;n<this.QuestionListIdsToDelete.length;n++)this.QuestionListIdsToDelete[n]=o.questionListIdsToDelete[n];return this.StreamChanges=o.streamChanges?(new e.StreamChanges).fromClientStreamChanges(o.streamChanges):void 0,this.SessionReferences=o.sessionReferences?(new e.SessionReferenceChanges).fromClientSessionReferenceChanges(o.sessionReferences):void 0,this.OwnerName=o.ownerName,this.OwnerId=o.ownerId,this},o}(e.UpdateModel);e.SessionChangeSet=Me;var Ue=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientSessionList=function(o){t.prototype.fromClientUpdateModel.call(this,o),this.SpecialType=o.specialType,this.Items=new Array(o.items?o.items.length:0);for(var n=0;n<this.Items.length;n++)this.Items[n]=o.items[n]?(new e.Session).fromClientSession(o.items[n]):void 0;return this},o}(e.UpdateModel);e.SessionList=Ue;var ke=function(){function e(){}return e.prototype.fromClientSessionUpdate=function(e){return this.Name=e.name,this.Description=e.description,this.Folder=e.folder,this},e}();e.SessionUpdate=ke;var _e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientSharingConnection=function(t){return e.prototype.fromClientModelBase.call(this,t),this.Recipient=t.recipient,this.Sender=t.sender,this.State=t.state,this},t}(s);e.SharingConnection=_e;var xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientSlide=function(t){return e.prototype.fromClientModelBase.call(this,t),this.SlideDeckId=t.slideDeckId,this.SlideNumber=t.slideNumber,this.Content=t.content,this.ImageUrl=t.imageUrl,this},t}(s);e.Slide=xe;var Fe=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromClientTranscriptionProviderInstance=function(o){return t.prototype.fromClientModelBase.call(this,o),this.Provider=o.provider?(new e.TranscriptionProvider).fromClientTranscriptionProvider(o.provider):void 0,this.UserKey=o.userKey,this.Username=o.username,this.Password=o.password,this.HavePassword=o.havePassword,this.HavePrivateKey=o.havePrivateKey,this.HaveUserKey=o.haveUserKey,this.PrivateKey=o.privateKey,this.CreatorsCanRequest=o.creatorsCanRequest,this.Enabled=o.enabled,this.SendFolderName=o.sendFolderName,this.DisplayName=o.displayName,this},o}(s);e.TranscriptionProviderInstance=Fe;var Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientTranscriptionRequest=function(t){return e.prototype.fromClientModelBase.call(this,t),this.TranscriptionProvider=t.transcriptionProvider,this.TranscriptReceived=t.transcriptReceived,this.RequestCreated=t.requestCreated,this.LastProviderUpdate=t.lastProviderUpdate,this.RequestSent=t.requestSent,this.RequestStatus=t.requestStatus,this.TranscriptionProviderInstanceName=t.transcriptionProviderInstanceName,this.TranscriptionProviderTypeName=t.transcriptionProviderTypeName,this},t}(s);e.TranscriptionRequest=Oe;var Ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientUser=function(t){return e.prototype.fromClientModelBase.call(this,t),this.Key=t.key,this.Email=t.email,this.FirstName=t.firstName,this.LastName=t.lastName,this.InitialPassword=t.initialPassword,this.FFTTargetURL=t.fftTargetURL,this.SignupTokenId=t.signupTokenId,this.ProviderName=t.providerName,this.ProviderAuthToken=t.providerAuthToken,this},t}(s);e.User=Ne;var Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientZoomExternalProvider=function(t){return e.prototype.fromClientModelBase.call(this,t),this.PublicId=t.publicId,this.AccountId=t.accountId,this.Status=t.status,this.LastSuccessfulApiCall=t.lastSuccessfulApiCall,this.DefaultFolder=t.defaultFolder,this.EnableZoomForAllUsers=t.enableZoomForAllUsers,this.AutomaticallyGrantVideoAccessToParticipants=t.automaticallyGrantVideoAccessToParticipants,this.DeleteRecordingsFromZoomAfterIngestion=t.deleteRecordingsFromZoomAfterIngestion,this.EnableUserCustomFolderSelection=t.enableUserCustomFolderSelection,this},t}(s);e.ZoomExternalProvider=Be;var je=function(){function e(){}return e.prototype.fromClientZoomExternalProviderCreate=function(e){return this.AffiliationId=e.affiliationId,this.Name=e.name,this.Description=e.description,this.AccountId=e.accountId,this.OAuth2Token=e.oAuth2Token,this.OAuth2RefreshToken=e.oAuth2RefreshToken,this.TokenExipration=e.tokenExipration,this.LastSuccessfulAPICall=e.lastSuccessfulAPICall,this.DefaultSessionGroupPublicId=e.defaultSessionGroupPublicId,this.EnableZoomForAllUsers=e.enableZoomForAllUsers,this.AutomaticallyGrantVideoAccessToParticipants=e.automaticallyGrantVideoAccessToParticipants,this.DeleteRecordingsFromZoomAfterIngestion=e.deleteRecordingsFromZoomAfterIngestion,this},e}();e.ZoomExternalProviderCreate=je;var Ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromClientZoomExternalProviderUpdate=function(t){return e.prototype.fromClientModelBase.call(this,t),this.DefaultFolder=t.defaultFolder,this.EnableZoomForAllUsers=t.enableZoomForAllUsers,this.AutomaticallyGrantVideoAccessToParticipants=t.automaticallyGrantVideoAccessToParticipants,this.DeleteRecordingsFromZoomAfterIngestion=t.deleteRecordingsFromZoomAfterIngestion,this.EnableUserCustomFolderSelection=t.enableUserCustomFolderSelection,this},t}(s);e.ZoomExternalProviderUpdate=Ve;var He=function(){function e(){}return e.prototype.fromClientZoomIntegrationUserSettings=function(e){return this.ZoomImportFolderPublicId=e.zoomImportFolderPublicId,this},e}();e.ZoomIntegrationUserSettings=He}(AutoRestModels||(AutoRestModels={})),function(e){var t=function(){function t(){}return t.prototype.fromRestSessionReferenceCreate=function(t){this.referencedSessionId=t.ReferencedSessionId,this.start=t.Start,this.order=t.Order,this.cuts=new Array(t.Cuts?t.Cuts.length:0);for(var o=0;o<this.cuts.length;o++)this.cuts[o]=t.Cuts[o]?(new e.SessionReferenceCreateCut).fromRestSessionReferenceCreateCut(t.Cuts[o]):void 0;return this},t.prototype.copyFromSessionReferenceCreate=function(t){this.referencedSessionId=t.referencedSessionId,this.start=t.start,this.order=t.order,this.cuts=new Array(t.cuts?t.cuts.length:0);for(var o=0;o<this.cuts.length;o++)this.cuts[o]=t.cuts[o]?(new e.SessionReferenceCreateCut).copyFromSessionReferenceCreateCut(t.cuts[o]):void 0;return this},t}();e.SessionReferenceCreate=t;var o=function(){function e(){}return e.prototype.fromRestSessionReferenceUpdate=function(e){return this.id=e.Id,this.start=e.Start,this.order=e.Order,this},e.prototype.copyFromSessionReferenceUpdate=function(e){return this.id=e.id,this.start=e.start,this.order=e.order,this},e}();e.SessionReferenceUpdate=o;var n=function(){function e(){}return e.prototype.fromRestSessionReferenceCreateCut=function(e){return this.start=e.Start,this.duration=e.Duration,this},e.prototype.copyFromSessionReferenceCreateCut=function(e){return this.start=e.start,this.duration=e.duration,this},e}();e.SessionReferenceCreateCut=n;var r=function(){function e(){}return e.prototype.fromRestStreamCreate=function(e){return this.uploadId=e.UploadId,this},e.prototype.copyFromStreamCreate=function(e){return this.uploadId=e.uploadId,this},e}();e.StreamCreate=r;var i=function(){function e(){}return e.prototype.fromRestModelBase=function(e){return this.id=e.Id,this.name=e.Name,this.typeName=e.TypeName,this},e.prototype.copyFromModelBase=function(e){return this.id=e.id,this.name=e.name,this.typeName=e.typeName,this},e}();e.ModelBase=i;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestModelBase=function(t){return e.prototype.fromRestModelBase.call(this,t),this.repositoryKey=t.RepositoryKey,this},t.prototype.copyFromModelBase=function(t){return e.prototype.copyFromModelBase.call(this,t),this.repositoryKey=t.repositoryKey,this},t}(e.ModelBase);e.ModelBaseT=s;var a=function(){function e(){}return e.prototype.fromRestPrincipal=function(e){return this.groupName=e.GroupName,this.groupType=e.GroupType,this.id=e.Id,this.type=e.Type,this.userEmail=e.UserEmail,this.userFirstName=e.UserFirstName,this.userLastName=e.UserLastName,this.userName=e.UserName,this},e.prototype.copyFromPrincipal=function(e){return this.groupName=e.groupName,this.groupType=e.groupType,this.id=e.id,this.type=e.type,this.userEmail=e.userEmail,this.userFirstName=e.userFirstName,this.userLastName=e.userLastName,this.userName=e.userName,this},e}();e.Principal=a;var c=function(){function e(){}return e.prototype.fromRestRole=function(e){return this.id=e.Id,this.name=e.Name,this.systemDefault=e.SystemDefault,this},e.prototype.copyFromRole=function(e){return this.id=e.id,this.name=e.name,this.systemDefault=e.systemDefault,this},e}();e.Role=c;var l=function(){function e(){}return e.prototype.fromRestSecurable=function(e){return this.id=e.Id,this.type=e.Type,this.name=e.Name,this},e.prototype.copyFromSecurable=function(e){return this.id=e.id,this.type=e.type,this.name=e.name,this},e}();e.Securable=l;var u=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestAccess=function(o){return t.prototype.fromRestModelBase.call(this,o),this.item=o.Item?(new e.ModelBase).fromRestModelBase(o.Item):void 0,this.role=o.Role,this.isEditable=o.IsEditable,this.receiver=o.Receiver?(new e.ModelBase).fromRestModelBase(o.Receiver):void 0,this.isInherited=o.IsInherited,this},o.prototype.copyFromAccess=function(o){return t.prototype.copyFromModelBase.call(this,o),this.item=o.item?(new e.ModelBase).copyFromModelBase(o.item):void 0,this.role=o.role,this.isEditable=o.isEditable,this.receiver=o.receiver?(new e.ModelBase).copyFromModelBase(o.receiver):void 0,this.isInherited=o.isInherited,this},o}(s);e.Access=u;var d=function(){function e(){}return e.prototype.fromRestAPIErrorInternal=function(e){return this.errorCode=e.ErrorCode,this.message=e.Message,this.success=e.Success,this.errorSource=e.ErrorSource,this},e.prototype.copyFromAPIErrorInternal=function(e){return this.errorCode=e.errorCode,this.message=e.message,this.success=e.success,this.errorSource=e.errorSource,this},e}();e.APIErrorInternal=d;var p=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestEvent=function(o){return t.prototype.fromRestModelBase.call(this,o),this.sessionId=o.SessionId,this.streamId=o.StreamId,this.type=o.Type,this.metadata=o.Metadata,this.timelineTime=o.TimelineTime,this.creationTime=o.CreationTime,this.relativeTime=o.RelativeTime,this.containerRelativeTime=o.ContainerRelativeTime,this.channel=o.Channel,this.creator=o.Creator?(new e.ModelBase).fromRestModelBase(o.Creator):void 0,this.thumbnailUrl=o.ThumbnailUrl,this.slideUrl=o.SlideUrl,this.link=o.Link,this.isDefaultThumbnail=o.IsDefaultThumbnail,this.slideId=o.SlideId,this.slideDeckId=o.SlideDeckId,this.repositoryKey=o.RepositoryKey,this},o.prototype.copyFromEvent=function(o){return t.prototype.copyFromModelBase.call(this,o),this.sessionId=o.sessionId,this.streamId=o.streamId,this.type=o.type,this.metadata=o.metadata,this.timelineTime=o.timelineTime,this.creationTime=o.creationTime,this.relativeTime=o.relativeTime,this.containerRelativeTime=o.containerRelativeTime,this.channel=o.channel,this.creator=o.creator?(new e.ModelBase).copyFromModelBase(o.creator):void 0,this.thumbnailUrl=o.thumbnailUrl,this.slideUrl=o.slideUrl,this.link=o.link,this.isDefaultThumbnail=o.isDefaultThumbnail,this.slideId=o.slideId,this.slideDeckId=o.slideDeckId,this.repositoryKey=o.repositoryKey,this},o}(s);e.Event=p;var f=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestFolder=function(o){return t.prototype.fromRestModelBase.call(this,o),this.isEditable=o.IsEditable,this.isDepartment=o.IsDepartment,this.departmentId=o.DepartmentId,this.isDropbox=o.IsDropbox,this.folderType=o.FolderType,this.deliveriesHaveSpecifiedOrder=o.DeliveriesHaveSpecifiedOrder,this.podcastEnabled=o.PodcastEnabled,this.parent=o.Parent?(new e.Folder).fromRestFolder(o.Parent):void 0,this.userCanCreateFolders=o.UserCanCreateFolders,this.userCanCreateSessions=o.UserCanCreateSessions,this.userCanManageDepartmentSettings=o.UserCanManageDepartmentSettings,this.isEnumerable=o.IsEnumerable,this.hasAccessibleChildren=o.HasAccessibleChildren,this.sessionCount=o.SessionCount,this.description=o.Description,this.parentFolder=o.ParentFolder?(new e.BasicFolder).fromRestBasicFolder(o.ParentFolder):void 0,this.urls=o.Urls?(new e.FolderUrls).fromRestFolderUrls(o.Urls):void 0,this},o.prototype.copyFromFolder=function(o){return t.prototype.copyFromModelBase.call(this,o),this.isEditable=o.isEditable,this.isDepartment=o.isDepartment,this.departmentId=o.departmentId,this.isDropbox=o.isDropbox,this.folderType=o.folderType,this.deliveriesHaveSpecifiedOrder=o.deliveriesHaveSpecifiedOrder,this.podcastEnabled=o.podcastEnabled,this.parent=o.parent?(new e.Folder).copyFromFolder(o.parent):void 0,this.userCanCreateFolders=o.userCanCreateFolders,this.userCanCreateSessions=o.userCanCreateSessions,this.userCanManageDepartmentSettings=o.userCanManageDepartmentSettings,this.isEnumerable=o.isEnumerable,this.hasAccessibleChildren=o.hasAccessibleChildren,this.sessionCount=o.sessionCount,this.description=o.description,this.parentFolder=o.parentFolder?(new e.BasicFolder).copyFromBasicFolder(o.parentFolder):void 0,this.urls=o.urls?(new e.FolderUrls).copyFromFolderUrls(o.urls):void 0,this},o}(s);e.Folder=f;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestBasicFolder=function(t){return e.prototype.fromRestModelBase.call(this,t),this},t.prototype.copyFromBasicFolder=function(t){return e.prototype.copyFromModelBase.call(this,t),this},t}(s);e.BasicFolder=h;var m=function(){function e(){}return e.prototype.fromRestFolderUrls=function(e){return this.folderUrl=e.FolderUrl,this.embedUrl=e.EmbedUrl,this.shareSettingsUrl=e.ShareSettingsUrl,this},e.prototype.copyFromFolderUrls=function(e){return this.folderUrl=e.folderUrl,this.embedUrl=e.embedUrl,this.shareSettingsUrl=e.shareSettingsUrl,this},e}();e.FolderUrls=m;var v=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestAccessItem=function(o){t.prototype.fromRestModelBase.call(this,o),this.builtInGroupAccess=o.BuiltInGroupAccess?(new e.Access).fromRestAccess(o.BuiltInGroupAccess):void 0,this.builtInGroupShareOptions=new Array(o.BuiltInGroupShareOptions?o.BuiltInGroupShareOptions.length:0);for(var n=0;n<this.builtInGroupShareOptions.length;n++)this.builtInGroupShareOptions[n]=o.BuiltInGroupShareOptions[n]?(new e.Access).fromRestAccess(o.BuiltInGroupShareOptions[n]):void 0;return this.parent=o.Parent?(new e.ModelBase).fromRestModelBase(o.Parent):void 0,this.isInheritingAccess=o.IsInheritingAccess,this.inheritableAncestor=o.InheritableAncestor?(new e.ModelBase).fromRestModelBase(o.InheritableAncestor):void 0,this},o.prototype.copyFromAccessItem=function(o){t.prototype.copyFromModelBase.call(this,o),this.builtInGroupAccess=o.builtInGroupAccess?(new e.Access).copyFromAccess(o.builtInGroupAccess):void 0,this.builtInGroupShareOptions=new Array(o.builtInGroupShareOptions?o.builtInGroupShareOptions.length:0);for(var n=0;n<this.builtInGroupShareOptions.length;n++)this.builtInGroupShareOptions[n]=o.builtInGroupShareOptions[n]?(new e.Access).copyFromAccess(o.builtInGroupShareOptions[n]):void 0;return this.parent=o.parent?(new e.ModelBase).copyFromModelBase(o.parent):void 0,this.isInheritingAccess=o.isInheritingAccess,this.inheritableAncestor=o.inheritableAncestor?(new e.ModelBase).copyFromModelBase(o.inheritableAncestor):void 0,this},o}(s);e.AccessItem=v;var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestMembershipProvider=function(t){return e.prototype.fromRestModelBase.call(this,t),this.description=t.Description,this.isInternal=t.IsInternal,this.unifyAccounts=t.UnifyAccounts,this},t.prototype.copyFromMembershipProvider=function(t){return e.prototype.copyFromModelBase.call(this,t),this.description=t.description,this.isInternal=t.isInternal,this.unifyAccounts=t.unifyAccounts,this},t}(s);e.MembershipProvider=C;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestNetworkAccessRule=function(t){return e.prototype.fromRestModelBase.call(this,t),this.friendlyName=t.FriendlyName,this.ruleType=t.RuleType,this.ruleValue=t.RuleValue,this},t.prototype.copyFromNetworkAccessRule=function(t){return e.prototype.copyFromModelBase.call(this,t),this.friendlyName=t.friendlyName,this.ruleType=t.ruleType,this.ruleValue=t.ruleValue,this},t}(e.ModelBase);e.NetworkAccessRule=y;var P=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestPlaylist=function(o){return t.prototype.fromRestModelBase.call(this,o),this.parent=o.Parent?(new e.ModelBase).fromRestModelBase(o.Parent):void 0,this.viewerUri=o.ViewerUri,this.embedViewerTag=o.EmbedViewerTag,this.description=o.Description,this.thumbUrl=o.ThumbUrl,this.builtInGroupAccess=o.BuiltInGroupAccess?(new e.Access).fromRestAccess(o.BuiltInGroupAccess):void 0,this.sessionListId=o.SessionListId,this},o.prototype.copyFromPlaylist=function(o){return t.prototype.copyFromModelBase.call(this,o),this.parent=o.parent?(new e.ModelBase).copyFromModelBase(o.parent):void 0,this.viewerUri=o.viewerUri,this.embedViewerTag=o.embedViewerTag,this.description=o.description,this.thumbUrl=o.thumbUrl,this.builtInGroupAccess=o.builtInGroupAccess?(new e.Access).copyFromAccess(o.builtInGroupAccess):void 0,this.sessionListId=o.sessionListId,this},o}(s);e.Playlist=P;var S=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestSession=function(o){t.prototype.fromRestModelBase.call(this,o),this.parent=o.Parent?(new e.ModelBase).fromRestModelBase(o.Parent):void 0,this.viewerUri=o.ViewerUri,this.embedViewerTag=o.EmbedViewerTag,this.isWebcast=o.IsWebcast,this.description=o.Description,this.status=o.Status,this.startTime=o.StartTime,this.duration=o.Duration,this.thumbUrl=o.ThumbUrl,this.presenterFirstNames=new Array(o.PresenterFirstNames?o.PresenterFirstNames.length:0);for(var n=0;n<this.presenterFirstNames.length;n++)this.presenterFirstNames[n]=o.PresenterFirstNames[n];this.presenterLastNames=new Array(o.PresenterLastNames?o.PresenterLastNames.length:0);for(n=0;n<this.presenterLastNames.length;n++)this.presenterLastNames[n]=o.PresenterLastNames[n];this.mostRecentViewTime=o.MostRecentViewTime,this.mostRecentViewPosition=o.MostRecentViewPosition,this.builtInGroupAccess=o.BuiltInGroupAccess?(new e.Access).fromRestAccess(o.BuiltInGroupAccess):void 0,this.defaultThumbnailTime=o.DefaultThumbnailTime,this.isDeleted=o.IsDeleted,this.isPlaylist=o.IsPlaylist,this.referencedSessions=new Array(o.ReferencedSessions?o.ReferencedSessions.length:0);for(n=0;n<this.referencedSessions.length;n++)this.referencedSessions[n]=o.ReferencedSessions[n]?(new e.SessionReference).fromRestSessionReference(o.ReferencedSessions[n]):void 0;return this.createdBy=o.CreatedBy?(new e.PublicUser).fromRestPublicUser(o.CreatedBy):void 0,this.urls=o.Urls?(new e.SessionUrls).fromRestSessionUrls(o.Urls):void 0,this.folder=o.Folder,this},o.prototype.copyFromSession=function(o){t.prototype.copyFromModelBase.call(this,o),this.parent=o.parent?(new e.ModelBase).copyFromModelBase(o.parent):void 0,this.viewerUri=o.viewerUri,this.embedViewerTag=o.embedViewerTag,this.isWebcast=o.isWebcast,this.description=o.description,this.status=o.status,this.startTime=o.startTime,this.duration=o.duration,this.thumbUrl=o.thumbUrl,this.presenterFirstNames=new Array(o.presenterFirstNames?o.presenterFirstNames.length:0);for(var n=0;n<this.presenterFirstNames.length;n++)this.presenterFirstNames[n]=o.presenterFirstNames[n];this.presenterLastNames=new Array(o.presenterLastNames?o.presenterLastNames.length:0);for(n=0;n<this.presenterLastNames.length;n++)this.presenterLastNames[n]=o.presenterLastNames[n];this.mostRecentViewTime=o.mostRecentViewTime,this.mostRecentViewPosition=o.mostRecentViewPosition,this.builtInGroupAccess=o.builtInGroupAccess?(new e.Access).copyFromAccess(o.builtInGroupAccess):void 0,this.defaultThumbnailTime=o.defaultThumbnailTime,this.isDeleted=o.isDeleted,this.isPlaylist=o.isPlaylist,this.referencedSessions=new Array(o.referencedSessions?o.referencedSessions.length:0);for(n=0;n<this.referencedSessions.length;n++)this.referencedSessions[n]=o.referencedSessions[n]?(new e.SessionReference).copyFromSessionReference(o.referencedSessions[n]):void 0;return this.createdBy=o.createdBy?(new e.PublicUser).copyFromPublicUser(o.createdBy):void 0,this.urls=o.urls?(new e.SessionUrls).copyFromSessionUrls(o.urls):void 0,this.folder=o.folder,this},o}(s);e.Session=S;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestQuestionOption=function(t){return e.prototype.fromRestModelBase.call(this,t),this.isCorrect=t.IsCorrect,this},t.prototype.copyFromQuestionOption=function(t){return e.prototype.copyFromModelBase.call(this,t),this.isCorrect=t.isCorrect,this},t}(e.ModelBase);e.QuestionOption=g;var I=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestQuestion=function(o){t.prototype.fromRestModelBase.call(this,o),this.explanation=o.Explanation,this.questionType=o.QuestionType,this.options=new Array(o.Options?o.Options.length:0);for(var n=0;n<this.options.length;n++)this.options[n]=o.Options[n]?(new e.QuestionOption).fromRestQuestionOption(o.Options[n]):void 0;return this.prompt=o.Prompt,this},o.prototype.copyFromQuestion=function(o){t.prototype.copyFromModelBase.call(this,o),this.explanation=o.explanation,this.questionType=o.questionType,this.options=new Array(o.options?o.options.length:0);for(var n=0;n<this.options.length;n++)this.options[n]=o.options[n]?(new e.QuestionOption).copyFromQuestionOption(o.options[n]):void 0;return this.prompt=o.prompt,this},o}(e.ModelBase);e.Question=I;var b=function(){function t(){}return t.prototype.fromRestQuotaSummary=function(t){return this.modifierSummary=t.ModifierSummary?(new e.QuotaModifierSummary).fromRestQuotaModifierSummary(t.ModifierSummary):void 0,this.valueSummary=t.ValueSummary?(new e.QuotaValueSummary).fromRestQuotaValueSummary(t.ValueSummary):void 0,this},t.prototype.copyFromQuotaSummary=function(t){return this.modifierSummary=t.modifierSummary?(new e.QuotaModifierSummary).copyFromQuotaModifierSummary(t.modifierSummary):void 0,this.valueSummary=t.valueSummary?(new e.QuotaValueSummary).copyFromQuotaValueSummary(t.valueSummary):void 0,this},t}();e.QuotaSummary=b;var R=function(){function t(){}return t.prototype.fromRestQuotaDataByPeriod=function(t){return this.periodStartDate=t.PeriodStartDate,this.periodEndDate=t.PeriodEndDate,this.deliveredSummary=t.DeliveredSummary?(new e.QuotaSummary).fromRestQuotaSummary(t.DeliveredSummary):void 0,this.storedSummary=t.StoredSummary?(new e.QuotaSummary).fromRestQuotaSummary(t.StoredSummary):void 0,this},t.prototype.copyFromQuotaDataByPeriod=function(t){return this.periodStartDate=t.periodStartDate,this.periodEndDate=t.periodEndDate,this.deliveredSummary=t.deliveredSummary?(new e.QuotaSummary).copyFromQuotaSummary(t.deliveredSummary):void 0,this.storedSummary=t.storedSummary?(new e.QuotaSummary).copyFromQuotaSummary(t.storedSummary):void 0,this},t}();e.QuotaDataByPeriod=R;var T=function(){function e(){}return e.prototype.fromRestQuotaModifierSummary=function(e){return this.sumRollover=e.SumRollover,this.sumBase=e.SumBase,this.sumReferral=e.SumReferral,this.sumTotal=e.SumTotal,this},e.prototype.copyFromQuotaModifierSummary=function(e){return this.sumRollover=e.sumRollover,this.sumBase=e.sumBase,this.sumReferral=e.sumReferral,this.sumTotal=e.sumTotal,this},e}();e.QuotaModifierSummary=T;var w=function(){function t(){}return t.prototype.fromRestQuotaValueSummary=function(t){this.secondsByDay=new Array(t.SecondsByDay?t.SecondsByDay.length:0);for(var o=0;o<this.secondsByDay.length;o++)this.secondsByDay[o]=t.SecondsByDay[o];this.sumTotal=t.SumTotal,this.topSessions=new Array(t.TopSessions?t.TopSessions.length:0);for(o=0;o<this.topSessions.length;o++)this.topSessions[o]=t.TopSessions[o]?(new e.QuotaSession).fromRestQuotaSession(t.TopSessions[o]):void 0;return this},t.prototype.copyFromQuotaValueSummary=function(t){this.secondsByDay=new Array(t.secondsByDay?t.secondsByDay.length:0);for(var o=0;o<this.secondsByDay.length;o++)this.secondsByDay[o]=t.secondsByDay[o];this.sumTotal=t.sumTotal,this.topSessions=new Array(t.topSessions?t.topSessions.length:0);for(o=0;o<this.topSessions.length;o++)this.topSessions[o]=t.topSessions[o]?(new e.QuotaSession).copyFromQuotaSession(t.topSessions[o]):void 0;return this},t}();e.QuotaValueSummary=w;var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestQuotaSession=function(t){return e.prototype.fromRestModelBase.call(this,t),this.totalSeconds=t.TotalSeconds,this.sessionWasDeleted=t.SessionWasDeleted,this},t.prototype.copyFromQuotaSession=function(t){return e.prototype.copyFromModelBase.call(this,t),this.totalSeconds=t.totalSeconds,this.sessionWasDeleted=t.sessionWasDeleted,this},t}(e.ModelBase);e.QuotaSession=A;var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestRecurlySubscription=function(t){return e.prototype.fromRestModelBase.call(this,t),this.state=t.State,this.planCode=t.PlanCode,this.currentPeriodStartedAt=t.CurrentPeriodStartedAt,this.currentPeriodEndsAt=t.CurrentPeriodEndsAt,this},t.prototype.copyFromRecurlySubscription=function(t){return e.prototype.copyFromModelBase.call(this,t),this.state=t.state,this.planCode=t.planCode,this.currentPeriodStartedAt=t.currentPeriodStartedAt,this.currentPeriodEndsAt=t.currentPeriodEndsAt,this},t}(e.ModelBase);e.RecurlySubscription=E;var D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestRecurlyBillingInfo=function(t){return e.prototype.fromRestModelBase.call(this,t),this.address1=t.Address1,this.address2=t.Address2,this.city=t.City,this.state=t.State,this.updatedAt=t.UpdatedAt,this.nameOnAccount=t.NameOnAccount,this},t.prototype.copyFromRecurlyBillingInfo=function(t){return e.prototype.copyFromModelBase.call(this,t),this.address1=t.address1,this.address2=t.address2,this.city=t.city,this.state=t.state,this.updatedAt=t.updatedAt,this.nameOnAccount=t.nameOnAccount,this},t}(e.ModelBase);e.RecurlyBillingInfo=D;var M=function(){function e(){}return e.prototype.fromRestDevice=function(e){return this.record=e.Record,this.deviceId=e.DeviceId,this.height=e.Height,this.name=e.Name,this.audioPreviewUrl=e.AudioPreviewUrl,this.videoPreviewUrl=e.VideoPreviewUrl,this.lastPreviewUpdateDateTime=e.LastPreviewUpdateDateTime,this.type=e.Type,this.width=e.Width,this.missingData=e.MissingData,this},e.prototype.copyFromDevice=function(e){return this.record=e.record,this.deviceId=e.deviceId,this.height=e.height,this.name=e.name,this.audioPreviewUrl=e.audioPreviewUrl,this.videoPreviewUrl=e.videoPreviewUrl,this.lastPreviewUpdateDateTime=e.lastPreviewUpdateDateTime,this.type=e.type,this.width=e.width,this.missingData=e.missingData,this},e}();e.Device=M;var U=function(){function e(){}return e.prototype.fromRestQualitySettings=function(e){return this.audioBitrate=e.AudioBitrate,this.framerate=e.Framerate,this.multipleBitrateCount=e.MultipleBitrateCount,this.pixelCount=e.PixelCount,this.videoBitrate=e.VideoBitrate,this},e.prototype.copyFromQualitySettings=function(e){return this.audioBitrate=e.audioBitrate,this.framerate=e.framerate,this.multipleBitrateCount=e.multipleBitrateCount,this.pixelCount=e.pixelCount,this.videoBitrate=e.videoBitrate,this},e}();e.QualitySettings=U;var k=function(){function e(){}return e.prototype.fromRestRecorderTimeZoneInfo=function(e){return this},e.prototype.copyFromRecorderTimeZoneInfo=function(e){return this},e}();e.RecorderTimeZoneInfo=k;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestRetentionPolicyRule=function(t){return e.prototype.fromRestModelBase.call(this,t),this.actionType=t.ActionType,this.metricType=t.MetricType,this.retentionLength=t.RetentionLength,this.retentionPeriod=t.RetentionPeriod,this},t.prototype.copyFromRetentionPolicyRule=function(t){return e.prototype.copyFromModelBase.call(this,t),this.actionType=t.actionType,this.metricType=t.metricType,this.retentionLength=t.retentionLength,this.retentionPeriod=t.retentionPeriod,this},t}(e.ModelBase);e.RetentionPolicyRule=_;var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestRecorderScheduleEntry=function(t){return e.prototype.fromRestModelBase.call(this,t),this.ownerId=t.OwnerId,this.isPrimaryRecorder=t.IsPrimaryRecorder,this.recorderId=t.RecorderId,this.sessionId=t.SessionId,this.startTime=t.StartTime,this.duration=t.Duration,this.suppressPrimaryCapture=t.SuppressPrimaryCapture,this.suppressSecondaryCapture=t.SuppressSecondaryCapture,this.recorderDescription=t.RecorderDescription,this},t.prototype.copyFromRecorderScheduleEntry=function(t){return e.prototype.copyFromModelBase.call(this,t),this.ownerId=t.ownerId,this.isPrimaryRecorder=t.isPrimaryRecorder,this.recorderId=t.recorderId,this.sessionId=t.sessionId,this.startTime=t.startTime,this.duration=t.duration,this.suppressPrimaryCapture=t.suppressPrimaryCapture,this.suppressSecondaryCapture=t.suppressSecondaryCapture,this.recorderDescription=t.recorderDescription,this},t}(s);e.RecorderScheduleEntry=x;var F=function(){function e(){}return e.prototype.fromRestScheduledRecordingRemoteRecorder=function(e){return this.remoteRecorderId=e.RemoteRecorderId,this.suppressPrimary=e.SuppressPrimary,this.suppressSecondary=e.SuppressSecondary,this},e.prototype.copyFromScheduledRecordingRemoteRecorder=function(e){return this.remoteRecorderId=e.remoteRecorderId,this.suppressPrimary=e.suppressPrimary,this.suppressSecondary=e.suppressSecondary,this},e}();e.ScheduledRecordingRemoteRecorder=F;var O=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestSessionReference=function(o){return t.prototype.fromRestModelBase.call(this,o),this.referencedSessionId=o.ReferencedSessionId,this.referencedSessionDuration=o.ReferencedSessionDuration,this.start=o.Start,this.order=o.Order,this.hostSession=o.HostSession?(new e.Session).fromRestSession(o.HostSession):void 0,this},o.prototype.copyFromSessionReference=function(o){return t.prototype.copyFromModelBase.call(this,o),this.referencedSessionId=o.referencedSessionId,this.referencedSessionDuration=o.referencedSessionDuration,this.start=o.start,this.order=o.order,this.hostSession=o.hostSession?(new e.Session).copyFromSession(o.hostSession):void 0,this},o}(s);e.SessionReference=O;var N=function(){function e(){}return e.prototype.fromRestPublicUser=function(e){return this.id=e.Id,this.username=e.Username,this},e.prototype.copyFromPublicUser=function(e){return this.id=e.id,this.username=e.username,this},e}();e.PublicUser=N;var B=function(){function e(){}return e.prototype.fromRestSessionUrls=function(e){return this.viewerUrl=e.ViewerUrl,this.embedUrl=e.EmbedUrl,this.shareSettingsUrl=e.ShareSettingsUrl,this.downloadUrl=e.DownloadUrl,this.captionDownloadUrl=e.CaptionDownloadUrl,this.editorUrl=e.EditorUrl,this.thumbnailUrl=e.ThumbnailUrl,this},e.prototype.copyFromSessionUrls=function(e){return this.viewerUrl=e.viewerUrl,this.embedUrl=e.embedUrl,this.shareSettingsUrl=e.shareSettingsUrl,this.downloadUrl=e.downloadUrl,this.captionDownloadUrl=e.captionDownloadUrl,this.editorUrl=e.editorUrl,this.thumbnailUrl=e.thumbnailUrl,this},e}();e.SessionUrls=B;var j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestUpdateModel=function(t){return e.prototype.fromRestModelBase.call(this,t),this.updateDate=t.UpdateDate,this},t.prototype.copyFromUpdateModel=function(t){return e.prototype.copyFromModelBase.call(this,t),this.updateDate=t.updateDate,this},t}(s);e.UpdateModel=j;var V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestCut=function(t){return e.prototype.fromRestModelBase.call(this,t),this.sessionId=t.SessionId,this.targetId=t.TargetId,this.targetType=t.TargetType,this.start=t.Start,this.duration=t.Duration,this},t.prototype.copyFromCut=function(t){return e.prototype.copyFromModelBase.call(this,t),this.sessionId=t.sessionId,this.targetId=t.targetId,this.targetType=t.targetType,this.start=t.start,this.duration=t.duration,this},t}(s);e.Cut=V;var H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestStream=function(t){return e.prototype.fromRestModelBase.call(this,t),this.url=t.Url,this.httpUrl=t.HttpUrl,this.absoluteStart=t.AbsoluteStart,this.duration=t.Duration,this.isPrimary=t.IsPrimary,this.thumbnailUrlBase=t.ThumbnailUrlBase,this.thumbnailInterval=t.ThumbnailInterval,this.type=t.Type,this.vrType=t.VRType,this},t.prototype.copyFromStream=function(t){return e.prototype.copyFromModelBase.call(this,t),this.url=t.url,this.httpUrl=t.httpUrl,this.absoluteStart=t.absoluteStart,this.duration=t.duration,this.isPrimary=t.isPrimary,this.thumbnailUrlBase=t.thumbnailUrlBase,this.thumbnailInterval=t.thumbnailInterval,this.type=t.type,this.vrType=t.vrType,this},t}(s);e.Stream=H;var L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestSlideDeck=function(t){return e.prototype.fromRestModelBase.call(this,t),this.sessionId=t.SessionId,this},t.prototype.copyFromSlideDeck=function(t){return e.prototype.copyFromModelBase.call(this,t),this.sessionId=t.sessionId,this},t}(s);e.SlideDeck=L;var $=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestQuestionList=function(o){t.prototype.fromRestModelBase.call(this,o),this.revisionId=o.RevisionId,this.questions=new Array(o.Questions?o.Questions.length:0);for(var n=0;n<this.questions.length;n++)this.questions[n]=o.Questions[n]?(new e.Question).fromRestQuestion(o.Questions[n]):void 0;return this.sessionRelativeTime=o.SessionRelativeTime,this.isSessionPlaybackBlocking=o.IsSessionPlaybackBlocking,this.allowRetake=o.AllowRetake,this.showFinalGrade=o.ShowFinalGrade,this.allowReview=o.AllowReview,this.sessionId=o.SessionId,this},o.prototype.copyFromQuestionList=function(o){t.prototype.copyFromModelBase.call(this,o),this.revisionId=o.revisionId,this.questions=new Array(o.questions?o.questions.length:0);for(var n=0;n<this.questions.length;n++)this.questions[n]=o.questions[n]?(new e.Question).copyFromQuestion(o.questions[n]):void 0;return this.sessionRelativeTime=o.sessionRelativeTime,this.isSessionPlaybackBlocking=o.isSessionPlaybackBlocking,this.allowRetake=o.allowRetake,this.showFinalGrade=o.showFinalGrade,this.allowReview=o.allowReview,this.sessionId=o.sessionId,this},o}(s);e.QuestionList=$;var G=function(){function t(){}return t.prototype.fromRestStreamChanges=function(t){this.toAdd=new Array(t.ToAdd?t.ToAdd.length:0);for(var o=0;o<this.toAdd.length;o++)this.toAdd[o]=t.ToAdd[o]?(new e.StreamCreate).fromRestStreamCreate(t.ToAdd[o]):void 0;return this},t.prototype.copyFromStreamChanges=function(t){this.toAdd=new Array(t.toAdd?t.toAdd.length:0);for(var o=0;o<this.toAdd.length;o++)this.toAdd[o]=t.toAdd[o]?(new e.StreamCreate).copyFromStreamCreate(t.toAdd[o]):void 0;return this},t}();e.StreamChanges=G;var Q=function(){function t(){}return t.prototype.fromRestSessionReferenceChanges=function(t){this.toAdd=new Array(t.ToAdd?t.ToAdd.length:0);for(var o=0;o<this.toAdd.length;o++)this.toAdd[o]=t.ToAdd[o]?(new e.SessionReferenceCreate).fromRestSessionReferenceCreate(t.ToAdd[o]):void 0;this.toUpdate=new Array(t.ToUpdate?t.ToUpdate.length:0);for(o=0;o<this.toUpdate.length;o++)this.toUpdate[o]=t.ToUpdate[o]?(new e.SessionReferenceUpdate).fromRestSessionReferenceUpdate(t.ToUpdate[o]):void 0;this.toDelete=new Array(t.ToDelete?t.ToDelete.length:0);for(o=0;o<this.toDelete.length;o++)this.toDelete[o]=t.ToDelete[o];return this},t.prototype.copyFromSessionReferenceChanges=function(t){this.toAdd=new Array(t.toAdd?t.toAdd.length:0);for(var o=0;o<this.toAdd.length;o++)this.toAdd[o]=t.toAdd[o]?(new e.SessionReferenceCreate).copyFromSessionReferenceCreate(t.toAdd[o]):void 0;this.toUpdate=new Array(t.toUpdate?t.toUpdate.length:0);for(o=0;o<this.toUpdate.length;o++)this.toUpdate[o]=t.toUpdate[o]?(new e.SessionReferenceUpdate).copyFromSessionReferenceUpdate(t.toUpdate[o]):void 0;this.toDelete=new Array(t.toDelete?t.toDelete.length:0);for(o=0;o<this.toDelete.length;o++)this.toDelete[o]=t.toDelete[o];return this},t}();e.SessionReferenceChanges=Q;var q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestTranscriptionProvider=function(t){return e.prototype.fromRestModelBase.call(this,t),this.providerType=t.ProviderType,this.credentialType=t.CredentialType,this.companyName=t.CompanyName,this.supportUrl=t.SupportUrl,this.isWhiteLabel=t.IsWhiteLabel,this.allowSendingFolderName=t.AllowSendingFolderName,this.needsCustomerAccountInfo=t.NeedsCustomerAccountInfo,this.needsCustomerPrivateKey=t.NeedsCustomerPrivateKey,this.needsCustomerUserKey=t.NeedsCustomerUserKey,this.showInUI=t.ShowInUI,this.displayName=t.DisplayName,this.description=t.Description,this.price=t.Price,this.turnaroundHours=t.TurnaroundHours,this},t.prototype.copyFromTranscriptionProvider=function(t){return e.prototype.copyFromModelBase.call(this,t),this.providerType=t.providerType,this.credentialType=t.credentialType,this.companyName=t.companyName,this.supportUrl=t.supportUrl,this.isWhiteLabel=t.isWhiteLabel,this.allowSendingFolderName=t.allowSendingFolderName,this.needsCustomerAccountInfo=t.needsCustomerAccountInfo,this.needsCustomerPrivateKey=t.needsCustomerPrivateKey,this.needsCustomerUserKey=t.needsCustomerUserKey,this.showInUI=t.showInUI,this.displayName=t.displayName,this.description=t.description,this.price=t.price,this.turnaroundHours=t.turnaroundHours,this},t}(s);e.TranscriptionProvider=q;var W=function(){function t(){}return t.prototype.fromRestAccessControlPolicy=function(t){return this.principal=t.Principal?(new e.Principal).fromRestPrincipal(t.Principal):void 0,this.role=t.Role?(new e.Role).fromRestRole(t.Role):void 0,this.securable=t.Securable?(new e.Securable).fromRestSecurable(t.Securable):void 0,this.startDate=t.StartDate,this.endDate=t.EndDate,this},t.prototype.copyFromAccessControlPolicy=function(t){return this.principal=t.principal?(new e.Principal).copyFromPrincipal(t.principal):void 0,this.role=t.role?(new e.Role).copyFromRole(t.role):void 0,this.securable=t.securable?(new e.Securable).copyFromSecurable(t.securable):void 0,this.startDate=t.startDate,this.endDate=t.endDate,this},t}();e.AccessControlPolicy=W;var z=function(){function e(){}return e.prototype.fromRestAccessMessage=function(e){return this.content=e.Content,this.shouldSendEmails=e.ShouldSendEmails,this},e.prototype.copyFromAccessMessage=function(e){return this.content=e.content,this.shouldSendEmails=e.shouldSendEmails,this},e}();e.AccessMessage=z;var K=function(){function t(){}return t.prototype.fromRestAPIError=function(t){return this.error=t.Error?(new e.APIErrorInternal).fromRestAPIErrorInternal(t.Error):void 0,this},t.prototype.copyFromAPIError=function(t){return this.error=t.error?(new e.APIErrorInternal).copyFromAPIErrorInternal(t.error):void 0,this},t}();e.APIError=K;var Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestBrand=function(t){return e.prototype.fromRestModelBase.call(this,t),this.affiliationId=t.AffiliationId,this.departmentId=t.DepartmentId,this.accentColor=t.AccentColor,this.webLogoUrl=t.WebLogoUrl,this.viewerLogoUrl=t.ViewerLogoUrl,this.embedLogoUrl=t.EmbedLogoUrl,this.squareLogoUrl=t.SquareLogoUrl,this.faviconUrl=t.FaviconUrl,this},t.prototype.copyFromBrand=function(t){return e.prototype.copyFromModelBase.call(this,t),this.affiliationId=t.affiliationId,this.departmentId=t.departmentId,this.accentColor=t.accentColor,this.webLogoUrl=t.webLogoUrl,this.viewerLogoUrl=t.viewerLogoUrl,this.embedLogoUrl=t.embedLogoUrl,this.squareLogoUrl=t.squareLogoUrl,this.faviconUrl=t.faviconUrl,this},t}(s);e.Brand=Z;var Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestCaption=function(t){return e.prototype.fromRestEvent.call(this,t),this},t.prototype.copyFromCaption=function(t){return e.prototype.copyFromEvent.call(this,t),this},t}(e.Event);e.Caption=Y;var J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestDepartment=function(t){return e.prototype.fromRestModelBase.call(this,t),this.folderId=t.FolderId,this.webLogoUrl=t.WebLogoUrl,this},t.prototype.copyFromDepartment=function(t){return e.prototype.copyFromModelBase.call(this,t),this.folderId=t.folderId,this.webLogoUrl=t.webLogoUrl,this},t}(s);e.Department=J;var X=function(){function e(){}return e.prototype.fromRestEventTypeExtensions=function(e){return this},e.prototype.copyFromEventTypeExtensions=function(e){return this},e}();e.EventTypeExtensions=X;var ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestFFTUserCreateResponse=function(t){return e.prototype.fromRestModelBase.call(this,t),this.preauthenticatedLink=t.PreauthenticatedLink,this.userId=t.UserId,this},t.prototype.copyFromFFTUserCreateResponse=function(t){return e.prototype.copyFromModelBase.call(this,t),this.preauthenticatedLink=t.preauthenticatedLink,this.userId=t.userId,this},t}(e.ModelBase);e.FFTUserCreateResponse=ee;var te=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestFolderAccessItem=function(o){t.prototype.fromRestAccessItem.call(this,o),this.viewUri=o.ViewUri,this.embedViewTag=o.EmbedViewTag,this.isApprovalRequired=o.IsApprovalRequired,this.arePublishersEditable=o.ArePublishersEditable,this.isDropbox=o.IsDropbox,this.folderType=o.FolderType,this.inheritingDescendants=new Array(o.InheritingDescendants?o.InheritingDescendants.length:0);for(var n=0;n<this.inheritingDescendants.length;n++)this.inheritingDescendants[n]=o.InheritingDescendants[n]?(new e.ModelBase).fromRestModelBase(o.InheritingDescendants[n]):void 0;return this.isEditable=o.IsEditable,this},o.prototype.copyFromFolderAccessItem=function(o){t.prototype.copyFromAccessItem.call(this,o),this.viewUri=o.viewUri,this.embedViewTag=o.embedViewTag,this.isApprovalRequired=o.isApprovalRequired,this.arePublishersEditable=o.arePublishersEditable,this.isDropbox=o.isDropbox,this.folderType=o.folderType,this.inheritingDescendants=new Array(o.inheritingDescendants?o.inheritingDescendants.length:0);for(var n=0;n<this.inheritingDescendants.length;n++)this.inheritingDescendants[n]=o.inheritingDescendants[n]?(new e.ModelBase).copyFromModelBase(o.inheritingDescendants[n]):void 0;return this.isEditable=o.isEditable,this},o}(e.AccessItem);e.FolderAccessItem=te;var oe=function(){function e(){}return e.prototype.fromRestFolderUpdate=function(e){return this.name=e.Name,this.description=e.Description,this.parent=e.Parent,this},e.prototype.copyFromFolderUpdate=function(e){return this.name=e.name,this.description=e.description,this.parent=e.parent,this},e}();e.FolderUpdate=oe;var ne=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestGroup=function(o){return t.prototype.fromRestModelBase.call(this,o),this.ownerId=o.OwnerId,this.ownerName=o.OwnerName,this.memberCount=o.MemberCount,this.externalId=o.ExternalId,this.isPrivate=o.IsPrivate,this.isFromEditableMembershipProvider=o.IsFromEditableMembershipProvider,this.isEditable=o.IsEditable,this.isAccessEditable=o.IsAccessEditable,this.builtInType=o.BuiltInType,this.provider=o.Provider?(new e.MembershipProvider).fromRestMembershipProvider(o.Provider):void 0,this.isMembershipViewable=o.IsMembershipViewable,this},o.prototype.copyFromGroup=function(o){return t.prototype.copyFromModelBase.call(this,o),this.ownerId=o.ownerId,this.ownerName=o.ownerName,this.memberCount=o.memberCount,this.externalId=o.externalId,this.isPrivate=o.isPrivate,this.isFromEditableMembershipProvider=o.isFromEditableMembershipProvider,this.isEditable=o.isEditable,this.isAccessEditable=o.isAccessEditable,this.builtInType=o.builtInType,this.provider=o.provider?(new e.MembershipProvider).copyFromMembershipProvider(o.provider):void 0,this.isMembershipViewable=o.isMembershipViewable,this},o}(s);e.Group=ne;var re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestHeatMapAnalytics=function(t){return e.prototype.fromRestModelBase.call(this,t),this.bucketStart=t.BucketStart,this.views=t.Views,this.notes=t.Notes,this.comments=t.Comments,this},t.prototype.copyFromHeatMapAnalytics=function(t){return e.prototype.copyFromModelBase.call(this,t),this.bucketStart=t.bucketStart,this.views=t.views,this.notes=t.notes,this.comments=t.comments,this},t}(s);e.HeatMapAnalytics=re;var ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestJob=function(t){return e.prototype.fromRestAccessItem.call(this,t),this},t.prototype.copyFromJob=function(t){return e.prototype.copyFromAccessItem.call(this,t),this},t}(e.AccessItem);e.Job=ie;var se=function(){function e(){}return e.prototype.fromRestListResponse=function(e){this.results=new Array(e.Results?e.Results.length:0);for(var t=0;t<this.results.length;t++)this.results[t]=e.Results[t];return this},e.prototype.copyFromListResponse=function(e){this.results=new Array(e.results?e.results.length:0);for(var t=0;t<this.results.length;t++)this.results[t]=e.results[t];return this},e}();e.ListResponse=se;var ae=function(){function e(){}return e.prototype.fromRestModelActionExtensions=function(e){return this},e.prototype.copyFromModelActionExtensions=function(e){return this},e}();e.ModelActionExtensions=ae;var ce=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestNetworkAccessRuleGroup=function(o){t.prototype.fromRestModelBase.call(this,o),this.friendlyName=o.FriendlyName,this.editable=o.Editable,this.rules=new Array(o.Rules?o.Rules.length:0);for(var n=0;n<this.rules.length;n++)this.rules[n]=o.Rules[n]?(new e.NetworkAccessRule).fromRestNetworkAccessRule(o.Rules[n]):void 0;return this.isDefault=o.IsDefault,this},o.prototype.copyFromNetworkAccessRuleGroup=function(o){t.prototype.copyFromModelBase.call(this,o),this.friendlyName=o.friendlyName,this.editable=o.editable,this.rules=new Array(o.rules?o.rules.length:0);for(var n=0;n<this.rules.length;n++)this.rules[n]=o.rules[n]?(new e.NetworkAccessRule).copyFromNetworkAccessRule(o.rules[n]):void 0;return this.isDefault=o.isDefault,this},o}(s);e.NetworkAccessRuleGroup=ce;var le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestOauthAllowedUri=function(t){return e.prototype.fromRestModelBase.call(this,t),this.uriId=t.UriId,this.uri=t.Uri,this.uriType=t.UriType,this.clientId=t.ClientId,this},t.prototype.copyFromOauthAllowedUri=function(t){return e.prototype.copyFromModelBase.call(this,t),this.uriId=t.uriId,this.uri=t.uri,this.uriType=t.uriType,this.clientId=t.clientId,this},t}(s);e.OauthAllowedUri=le;var ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestOauthScope=function(t){return e.prototype.fromRestModelBase.call(this,t),this.scopeId=t.ScopeId,this.clientId=t.ClientId,this},t.prototype.copyFromOauthScope=function(t){return e.prototype.copyFromModelBase.call(this,t),this.scopeId=t.scopeId,this.clientId=t.clientId,this},t}(s);e.OauthScope=ue;var de=function(){function e(){}return e.prototype.fromRestPasswordReset=function(e){return this.tokenId=e.TokenId,this.answer=e.Answer,this.password=e.Password,this},e.prototype.copyFromPasswordReset=function(e){return this.tokenId=e.tokenId,this.answer=e.answer,this.password=e.password,this},e}();e.PasswordReset=de;var pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestPlaylistAccessItem=function(t){return e.prototype.fromRestAccessItem.call(this,t),this.viewerUri=t.ViewerUri,this.embedViewerTag=t.EmbedViewerTag,this},t.prototype.copyFromPlaylistAccessItem=function(t){return e.prototype.copyFromAccessItem.call(this,t),this.viewerUri=t.viewerUri,this.embedViewerTag=t.embedViewerTag,this},t}(e.AccessItem);e.PlaylistAccessItem=pe;var fe=function(){function t(){}return t.prototype.fromRestPlaylistWithItems=function(t){this.playlist=t.Playlist?(new e.Playlist).fromRestPlaylist(t.Playlist):void 0,this.items=new Array(t.Items?t.Items.length:0);for(var o=0;o<this.items.length;o++)this.items[o]=t.Items[o]?(new e.Session).fromRestSession(t.Items[o]):void 0;return this},t.prototype.copyFromPlaylistWithItems=function(t){this.playlist=t.playlist?(new e.Playlist).copyFromPlaylist(t.playlist):void 0,this.items=new Array(t.items?t.items.length:0);for(var o=0;o<this.items.length;o++)this.items[o]=t.items[o]?(new e.Session).copyFromSession(t.items[o]):void 0;return this},t}();e.PlaylistWithItems=fe;var he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestQuestionListAnswer=function(t){return e.prototype.fromRestModelBase.call(this,t),this.revisionId=t.RevisionId,this.userId=t.UserId,this.invocationId=t.InvocationId,this.questionListId=t.QuestionListId,this.questionId=t.QuestionId,this.questionOptionId=t.QuestionOptionId,this.textAnswer=t.TextAnswer,this.quizStartTime=t.QuizStartTime,this},t.prototype.copyFromQuestionListAnswer=function(t){return e.prototype.copyFromModelBase.call(this,t),this.revisionId=t.revisionId,this.userId=t.userId,this.invocationId=t.invocationId,this.questionListId=t.questionListId,this.questionId=t.questionId,this.questionOptionId=t.questionOptionId,this.textAnswer=t.textAnswer,this.quizStartTime=t.quizStartTime,this},t}(s);e.QuestionListAnswer=he;var me=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestQuotaDetail=function(o){return t.prototype.fromRestModelBase.call(this,o),this.currentPeriod=o.CurrentPeriod?(new e.QuotaDataByPeriod).fromRestQuotaDataByPeriod(o.CurrentPeriod):void 0,this.lastPeriod=o.LastPeriod?(new e.QuotaDataByPeriod).fromRestQuotaDataByPeriod(o.LastPeriod):void 0,this},o.prototype.copyFromQuotaDetail=function(o){return t.prototype.copyFromModelBase.call(this,o),this.currentPeriod=o.currentPeriod?(new e.QuotaDataByPeriod).copyFromQuotaDataByPeriod(o.currentPeriod):void 0,this.lastPeriod=o.lastPeriod?(new e.QuotaDataByPeriod).copyFromQuotaDataByPeriod(o.lastPeriod):void 0,this},o}(e.ModelBase);e.QuotaDetail=me;var ve=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestRecurlySummary=function(o){t.prototype.fromRestModelBase.call(this,o),this.recurlySubscriptions=new Array(o.RecurlySubscriptions?o.RecurlySubscriptions.length:0);for(var n=0;n<this.recurlySubscriptions.length;n++)this.recurlySubscriptions[n]=o.RecurlySubscriptions[n]?(new e.RecurlySubscription).fromRestRecurlySubscription(o.RecurlySubscriptions[n]):void 0;return this.billingInfo=o.BillingInfo?(new e.RecurlyBillingInfo).fromRestRecurlyBillingInfo(o.BillingInfo):void 0,this},o.prototype.copyFromRecurlySummary=function(o){t.prototype.copyFromModelBase.call(this,o),this.recurlySubscriptions=new Array(o.recurlySubscriptions?o.recurlySubscriptions.length:0);for(var n=0;n<this.recurlySubscriptions.length;n++)this.recurlySubscriptions[n]=o.recurlySubscriptions[n]?(new e.RecurlySubscription).copyFromRecurlySubscription(o.recurlySubscriptions[n]):void 0;return this.billingInfo=o.billingInfo?(new e.RecurlyBillingInfo).copyFromRecurlyBillingInfo(o.billingInfo):void 0,this},o}(e.ModelBase);e.RecurlySummary=ve;var Ce=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestRemoteRecorder=function(o){t.prototype.fromRestModelBase.call(this,o),this.devices=new Array(o.Devices?o.Devices.length:0);for(var n=0;n<this.devices.length;n++)this.devices[n]=o.Devices[n]?(new e.Device).fromRestDevice(o.Devices[n]):void 0;this.lastConnectionDateTime=o.LastConnectionDateTime,this.primaryAudioDeviceId=o.PrimaryAudioDeviceId,this.primaryRecordingQualitySettings=o.PrimaryRecordingQualitySettings?(new e.QualitySettings).fromRestQualitySettings(o.PrimaryRecordingQualitySettings):void 0,this.primaryVideoDeviceId=o.PrimaryVideoDeviceId,this.recordingType=o.RecordingType,this.secondaryRecordingQualitySettings=o.SecondaryRecordingQualitySettings?(new e.QualitySettings).fromRestQualitySettings(o.SecondaryRecordingQualitySettings):void 0,this.state=o.State,this.scheduleVersion=o.ScheduleVersion,this.version=o.Version,this.defaultFolder=o.DefaultFolder?(new e.Folder).fromRestFolder(o.DefaultFolder):void 0,this.defaultRecordingFolder=o.DefaultRecordingFolder?(new e.BasicFolder).fromRestBasicFolder(o.DefaultRecordingFolder):void 0,this.accessRoleTypes=new Array(o.AccessRoleTypes?o.AccessRoleTypes.length:0);for(n=0;n<this.accessRoleTypes.length;n++)this.accessRoleTypes[n]=o.AccessRoleTypes[n];return this.timeZoneDisplayInfo=o.TimeZoneDisplayInfo?(new e.RecorderTimeZoneInfo).fromRestRecorderTimeZoneInfo(o.TimeZoneDisplayInfo):void 0,this.isInheritingTimeZone=o.IsInheritingTimeZone,this},o.prototype.copyFromRemoteRecorder=function(o){t.prototype.copyFromModelBase.call(this,o),this.devices=new Array(o.devices?o.devices.length:0);for(var n=0;n<this.devices.length;n++)this.devices[n]=o.devices[n]?(new e.Device).copyFromDevice(o.devices[n]):void 0;this.lastConnectionDateTime=o.lastConnectionDateTime,this.primaryAudioDeviceId=o.primaryAudioDeviceId,this.primaryRecordingQualitySettings=o.primaryRecordingQualitySettings?(new e.QualitySettings).copyFromQualitySettings(o.primaryRecordingQualitySettings):void 0,this.primaryVideoDeviceId=o.primaryVideoDeviceId,this.recordingType=o.recordingType,this.secondaryRecordingQualitySettings=o.secondaryRecordingQualitySettings?(new e.QualitySettings).copyFromQualitySettings(o.secondaryRecordingQualitySettings):void 0,this.state=o.state,this.scheduleVersion=o.scheduleVersion,this.version=o.version,this.defaultFolder=o.defaultFolder?(new e.Folder).copyFromFolder(o.defaultFolder):void 0,this.defaultRecordingFolder=o.defaultRecordingFolder?(new e.BasicFolder).copyFromBasicFolder(o.defaultRecordingFolder):void 0,this.accessRoleTypes=new Array(o.accessRoleTypes?o.accessRoleTypes.length:0);for(n=0;n<this.accessRoleTypes.length;n++)this.accessRoleTypes[n]=o.accessRoleTypes[n];return this.timeZoneDisplayInfo=o.timeZoneDisplayInfo?(new e.RecorderTimeZoneInfo).copyFromRecorderTimeZoneInfo(o.timeZoneDisplayInfo):void 0,this.isInheritingTimeZone=o.isInheritingTimeZone,this},o}(s);e.RemoteRecorder=Ce;var ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestRetentionActionHistory=function(t){return e.prototype.fromRestModelBase.call(this,t),this.sessionName=t.SessionName,this.deliveryId=t.DeliveryId,this.retentionRuleGroupName=t.RetentionRuleGroupName,this.retentionPolicyRuleActionType=t.RetentionPolicyRuleActionType,this.retentionPolicyRuleMetricType=t.RetentionPolicyRuleMetricType,this.userConfirmationUserName=t.UserConfirmationUserName,this.userConfirmationUserId=t.UserConfirmationUserId,this.actionDate=t.ActionDate,this.ruleViolationDate=t.RuleViolationDate,this.violatedMetricDate=t.ViolatedMetricDate,this},t.prototype.copyFromRetentionActionHistory=function(t){return e.prototype.copyFromModelBase.call(this,t),this.sessionName=t.sessionName,this.deliveryId=t.deliveryId,this.retentionRuleGroupName=t.retentionRuleGroupName,this.retentionPolicyRuleActionType=t.retentionPolicyRuleActionType,this.retentionPolicyRuleMetricType=t.retentionPolicyRuleMetricType,this.userConfirmationUserName=t.userConfirmationUserName,this.userConfirmationUserId=t.userConfirmationUserId,this.actionDate=t.actionDate,this.ruleViolationDate=t.ruleViolationDate,this.violatedMetricDate=t.violatedMetricDate,this},t}(e.ModelBase);e.RetentionActionHistory=ye;var Pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestRetentionConfiguration=function(t){return e.prototype.fromRestModelBase.call(this,t),this.updateFrequency=t.UpdateFrequency,this.executionFrequency=t.ExecutionFrequency,this.updateAnniversary=t.UpdateAnniversary,this.executionAnniversary=t.ExecutionAnniversary,this.requireUserConfirmation=t.RequireUserConfirmation,this.retentionToolingReportMailingList=t.RetentionToolingReportMailingList,this},t.prototype.copyFromRetentionConfiguration=function(t){return e.prototype.copyFromModelBase.call(this,t),this.updateFrequency=t.updateFrequency,this.executionFrequency=t.executionFrequency,this.updateAnniversary=t.updateAnniversary,this.executionAnniversary=t.executionAnniversary,this.requireUserConfirmation=t.requireUserConfirmation,this.retentionToolingReportMailingList=t.retentionToolingReportMailingList,this},t}(e.ModelBase);e.RetentionConfiguration=Pe;var Se=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestRetentionPolicyRuleGroup=function(o){t.prototype.fromRestModelBase.call(this,o),this.friendlyName=o.FriendlyName,this.description=o.Description,this.editable=o.Editable,this.rules=new Array(o.Rules?o.Rules.length:0);for(var n=0;n<this.rules.length;n++)this.rules[n]=o.Rules[n]?(new e.RetentionPolicyRule).fromRestRetentionPolicyRule(o.Rules[n]):void 0;return this.isSitewideDefault=o.IsSitewideDefault,this.isPersonalFolderDefault=o.IsPersonalFolderDefault,this.retentionPolicyType=o.RetentionPolicyType,this},o.prototype.copyFromRetentionPolicyRuleGroup=function(o){t.prototype.copyFromModelBase.call(this,o),this.friendlyName=o.friendlyName,this.description=o.description,this.editable=o.editable,this.rules=new Array(o.rules?o.rules.length:0);for(var n=0;n<this.rules.length;n++)this.rules[n]=o.rules[n]?(new e.RetentionPolicyRule).copyFromRetentionPolicyRule(o.rules[n]):void 0;return this.isSitewideDefault=o.isSitewideDefault,this.isPersonalFolderDefault=o.isPersonalFolderDefault,this.retentionPolicyType=o.retentionPolicyType,this},o}(s);e.RetentionPolicyRuleGroup=Se;var ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestRetentionSessionInfo=function(t){return e.prototype.fromRestModelBase.call(this,t),this.cleanupDate=t.CleanupDate,this.retentionRuleGroupName=t.RetentionRuleGroupName,this.retentionPolicyRuleActionType=t.RetentionPolicyRuleActionType,this.retentionPolicyRuleMetricType=t.RetentionPolicyRuleMetricType,this.retentionApprovalUserName=t.RetentionApprovalUserName,this.retentionLength=t.RetentionLength,this.retentionPeriod=t.RetentionPeriod,this.deliveryDuration=t.DeliveryDuration,this},t.prototype.copyFromRetentionSessionInfo=function(t){return e.prototype.copyFromModelBase.call(this,t),this.cleanupDate=t.cleanupDate,this.retentionRuleGroupName=t.retentionRuleGroupName,this.retentionPolicyRuleActionType=t.retentionPolicyRuleActionType,this.retentionPolicyRuleMetricType=t.retentionPolicyRuleMetricType,this.retentionApprovalUserName=t.retentionApprovalUserName,this.retentionLength=t.retentionLength,this.retentionPeriod=t.retentionPeriod,this.deliveryDuration=t.deliveryDuration,this},t}(e.ModelBase);e.RetentionSessionInfo=ge;var Ie=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestRTMPStream=function(o){return t.prototype.fromRestModelBase.call(this,o),this.parent=o.Parent?(new e.ModelBase).fromRestModelBase(o.Parent):void 0,this.streamKey=o.StreamKey,this},o.prototype.copyFromRTMPStream=function(o){return t.prototype.copyFromModelBase.call(this,o),this.parent=o.parent?(new e.ModelBase).copyFromModelBase(o.parent):void 0,this.streamKey=o.streamKey,this},o}(s);e.RTMPStream=Ie;var be=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestScheduledRecording=function(o){t.prototype.fromRestModelBase.call(this,o),this.recorderScheduleEntries=new Array(o.RecorderScheduleEntries?o.RecorderScheduleEntries.length:0);for(var n=0;n<this.recorderScheduleEntries.length;n++)this.recorderScheduleEntries[n]=o.RecorderScheduleEntries[n]?(new e.RecorderScheduleEntry).fromRestRecorderScheduleEntry(o.RecorderScheduleEntries[n]):void 0;return this.startTime=o.StartTime,this.endTime=o.EndTime,this},o.prototype.copyFromScheduledRecording=function(o){t.prototype.copyFromModelBase.call(this,o),this.recorderScheduleEntries=new Array(o.recorderScheduleEntries?o.recorderScheduleEntries.length:0);for(var n=0;n<this.recorderScheduleEntries.length;n++)this.recorderScheduleEntries[n]=o.recorderScheduleEntries[n]?(new e.RecorderScheduleEntry).copyFromRecorderScheduleEntry(o.recorderScheduleEntries[n]):void 0;return this.startTime=o.startTime,this.endTime=o.endTime,this},o}(s);e.ScheduledRecording=be;var Re=function(){function t(){}return t.prototype.fromRestScheduledRecordingCreate=function(t){this.name=t.Name,this.description=t.Description,this.startTime=t.StartTime,this.endTime=t.EndTime,this.folderId=t.FolderId,this.recorders=new Array(t.Recorders?t.Recorders.length:0);for(var o=0;o<this.recorders.length;o++)this.recorders[o]=t.Recorders[o]?(new e.ScheduledRecordingRemoteRecorder).fromRestScheduledRecordingRemoteRecorder(t.Recorders[o]):void 0;return this.isBroadcast=t.IsBroadcast,this},t.prototype.copyFromScheduledRecordingCreate=function(t){this.name=t.name,this.description=t.description,this.startTime=t.startTime,this.endTime=t.endTime,this.folderId=t.folderId,this.recorders=new Array(t.recorders?t.recorders.length:0);for(var o=0;o<this.recorders.length;o++)this.recorders[o]=t.recorders[o]?(new e.ScheduledRecordingRemoteRecorder).copyFromScheduledRecordingRemoteRecorder(t.recorders[o]):void 0;return this.isBroadcast=t.isBroadcast,this},t}();e.ScheduledRecordingCreate=Re;var Te=function(){function e(){}return e.prototype.fromRestScheduledRecordingUpdate=function(e){return this.startTime=e.StartTime,this.endTime=e.EndTime,this},e.prototype.copyFromScheduledRecordingUpdate=function(e){return this.startTime=e.startTime,this.endTime=e.endTime,this},e}();e.ScheduledRecordingUpdate=Te;var we=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestScopedAnalytics=function(t){return e.prototype.fromRestModelBase.call(this,t),this.repositoryKey=t.RepositoryKey,this.isPublic=t.IsPublic,this.timeStamp=t.TimeStamp,this.folderId=t.FolderId,this.folderFriendlyName=t.FolderFriendlyName,this.rootFolderId=t.RootFolderId,this.rootFolderFriendlyName=t.RootFolderFriendlyName,this.userId=t.UserId,this.userName=t.UserName,this.userFriendlyName=t.UserFriendlyName,this.sessionId=t.SessionId,this.sessionFriendlyName=t.SessionFriendlyName,this.creatorId=t.CreatorId,this.creatorName=t.CreatorName,this.creatorFriendlyName=t.CreatorFriendlyName,this.views=t.Views,this.minutesViewed=t.MinutesViewed,this.uniqueViewers=t.UniqueViewers,this.uniqueSessions=t.UniqueSessions,this.percentCompleted=t.PercentCompleted,this.totalComments=t.TotalComments,this.totalNotes=t.TotalNotes,this.averageMinutesViewed=t.AverageMinutesViewed,this},t.prototype.copyFromScopedAnalytics=function(t){return e.prototype.copyFromModelBase.call(this,t),this.repositoryKey=t.repositoryKey,this.isPublic=t.isPublic,this.timeStamp=t.timeStamp,this.folderId=t.folderId,this.folderFriendlyName=t.folderFriendlyName,this.rootFolderId=t.rootFolderId,this.rootFolderFriendlyName=t.rootFolderFriendlyName,this.userId=t.userId,this.userName=t.userName,this.userFriendlyName=t.userFriendlyName,this.sessionId=t.sessionId,this.sessionFriendlyName=t.sessionFriendlyName,this.creatorId=t.creatorId,this.creatorName=t.creatorName,this.creatorFriendlyName=t.creatorFriendlyName,this.views=t.views,this.minutesViewed=t.minutesViewed,this.uniqueViewers=t.uniqueViewers,this.uniqueSessions=t.uniqueSessions,this.percentCompleted=t.percentCompleted,this.totalComments=t.totalComments,this.totalNotes=t.totalNotes,this.averageMinutesViewed=t.averageMinutesViewed,this},t}(s);e.ScopedAnalytics=we;var Ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestSessionAccessItem=function(t){return e.prototype.fromRestAccessItem.call(this,t),this.viewerUri=t.ViewerUri,this.embedViewerTag=t.EmbedViewerTag,this},t.prototype.copyFromSessionAccessItem=function(t){return e.prototype.copyFromAccessItem.call(this,t),this.viewerUri=t.viewerUri,this.embedViewerTag=t.embedViewerTag,this},t}(e.AccessItem);e.SessionAccessItem=Ae;var Ee=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestSessionChangeSet=function(o){t.prototype.fromRestUpdateModel.call(this,o),this.sessionId=o.SessionId,this.cutsToReplace=new Array(o.CutsToReplace?o.CutsToReplace.length:0);for(var n=0;n<this.cutsToReplace.length;n++)this.cutsToReplace[n]=o.CutsToReplace[n]?(new e.Cut).fromRestCut(o.CutsToReplace[n]):void 0;this.streamsToUpdate=new Array(o.StreamsToUpdate?o.StreamsToUpdate.length:0);for(n=0;n<this.streamsToUpdate.length;n++)this.streamsToUpdate[n]=o.StreamsToUpdate[n]?(new e.Stream).fromRestStream(o.StreamsToUpdate[n]):void 0;this.slideDecksToDelete=new Array(o.SlideDecksToDelete?o.SlideDecksToDelete.length:0);for(n=0;n<this.slideDecksToDelete.length;n++)this.slideDecksToDelete[n]=o.SlideDecksToDelete[n]?(new e.SlideDeck).fromRestSlideDeck(o.SlideDecksToDelete[n]):void 0;this.eventsToAdd=new Array(o.EventsToAdd?o.EventsToAdd.length:0);for(n=0;n<this.eventsToAdd.length;n++)this.eventsToAdd[n]=o.EventsToAdd[n]?(new e.Event).fromRestEvent(o.EventsToAdd[n]):void 0;this.eventsToUpdate=new Array(o.EventsToUpdate?o.EventsToUpdate.length:0);for(n=0;n<this.eventsToUpdate.length;n++)this.eventsToUpdate[n]=o.EventsToUpdate[n]?(new e.Event).fromRestEvent(o.EventsToUpdate[n]):void 0;this.eventsToDelete=new Array(o.EventsToDelete?o.EventsToDelete.length:0);for(n=0;n<this.eventsToDelete.length;n++)this.eventsToDelete[n]=o.EventsToDelete[n]?(new e.Event).fromRestEvent(o.EventsToDelete[n]):void 0;this.questionListRevisions=new Array(o.QuestionListRevisions?o.QuestionListRevisions.length:0);for(n=0;n<this.questionListRevisions.length;n++)this.questionListRevisions[n]=o.QuestionListRevisions[n]?(new e.QuestionList).fromRestQuestionList(o.QuestionListRevisions[n]):void 0;this.questionListIdsToDelete=new Array(o.QuestionListIdsToDelete?o.QuestionListIdsToDelete.length:0);for(n=0;n<this.questionListIdsToDelete.length;n++)this.questionListIdsToDelete[n]=o.QuestionListIdsToDelete[n];return this.streamChanges=o.StreamChanges?(new e.StreamChanges).fromRestStreamChanges(o.StreamChanges):void 0,this.sessionReferences=o.SessionReferences?(new e.SessionReferenceChanges).fromRestSessionReferenceChanges(o.SessionReferences):void 0,this.ownerName=o.OwnerName,this.ownerId=o.OwnerId,this},o.prototype.copyFromSessionChangeSet=function(o){t.prototype.copyFromUpdateModel.call(this,o),this.sessionId=o.sessionId,this.cutsToReplace=new Array(o.cutsToReplace?o.cutsToReplace.length:0);for(var n=0;n<this.cutsToReplace.length;n++)this.cutsToReplace[n]=o.cutsToReplace[n]?(new e.Cut).copyFromCut(o.cutsToReplace[n]):void 0;this.streamsToUpdate=new Array(o.streamsToUpdate?o.streamsToUpdate.length:0);for(n=0;n<this.streamsToUpdate.length;n++)this.streamsToUpdate[n]=o.streamsToUpdate[n]?(new e.Stream).copyFromStream(o.streamsToUpdate[n]):void 0;this.slideDecksToDelete=new Array(o.slideDecksToDelete?o.slideDecksToDelete.length:0);for(n=0;n<this.slideDecksToDelete.length;n++)this.slideDecksToDelete[n]=o.slideDecksToDelete[n]?(new e.SlideDeck).copyFromSlideDeck(o.slideDecksToDelete[n]):void 0;this.eventsToAdd=new Array(o.eventsToAdd?o.eventsToAdd.length:0);for(n=0;n<this.eventsToAdd.length;n++)this.eventsToAdd[n]=o.eventsToAdd[n]?(new e.Event).copyFromEvent(o.eventsToAdd[n]):void 0;this.eventsToUpdate=new Array(o.eventsToUpdate?o.eventsToUpdate.length:0);for(n=0;n<this.eventsToUpdate.length;n++)this.eventsToUpdate[n]=o.eventsToUpdate[n]?(new e.Event).copyFromEvent(o.eventsToUpdate[n]):void 0;this.eventsToDelete=new Array(o.eventsToDelete?o.eventsToDelete.length:0);for(n=0;n<this.eventsToDelete.length;n++)this.eventsToDelete[n]=o.eventsToDelete[n]?(new e.Event).copyFromEvent(o.eventsToDelete[n]):void 0;this.questionListRevisions=new Array(o.questionListRevisions?o.questionListRevisions.length:0);for(n=0;n<this.questionListRevisions.length;n++)this.questionListRevisions[n]=o.questionListRevisions[n]?(new e.QuestionList).copyFromQuestionList(o.questionListRevisions[n]):void 0;this.questionListIdsToDelete=new Array(o.questionListIdsToDelete?o.questionListIdsToDelete.length:0);for(n=0;n<this.questionListIdsToDelete.length;n++)this.questionListIdsToDelete[n]=o.questionListIdsToDelete[n];return this.streamChanges=o.streamChanges?(new e.StreamChanges).copyFromStreamChanges(o.streamChanges):void 0,this.sessionReferences=o.sessionReferences?(new e.SessionReferenceChanges).copyFromSessionReferenceChanges(o.sessionReferences):void 0,this.ownerName=o.ownerName,this.ownerId=o.ownerId,this},o}(e.UpdateModel);e.SessionChangeSet=Ee;var De=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestSessionList=function(o){t.prototype.fromRestUpdateModel.call(this,o),this.specialType=o.SpecialType,this.items=new Array(o.Items?o.Items.length:0);for(var n=0;n<this.items.length;n++)this.items[n]=o.Items[n]?(new e.Session).fromRestSession(o.Items[n]):void 0;return this},o.prototype.copyFromSessionList=function(o){t.prototype.copyFromUpdateModel.call(this,o),this.specialType=o.specialType,this.items=new Array(o.items?o.items.length:0);for(var n=0;n<this.items.length;n++)this.items[n]=o.items[n]?(new e.Session).copyFromSession(o.items[n]):void 0;return this},o}(e.UpdateModel);e.SessionList=De;var Me=function(){function e(){}return e.prototype.fromRestSessionUpdate=function(e){return this.name=e.Name,this.description=e.Description,this.folder=e.Folder,this},e.prototype.copyFromSessionUpdate=function(e){return this.name=e.name,this.description=e.description,this.folder=e.folder,this},e}();e.SessionUpdate=Me;var Ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestSharingConnection=function(t){return e.prototype.fromRestModelBase.call(this,t),this.recipient=t.Recipient,this.sender=t.Sender,this.state=t.State,this},t.prototype.copyFromSharingConnection=function(t){return e.prototype.copyFromModelBase.call(this,t),this.recipient=t.recipient,this.sender=t.sender,this.state=t.state,this},t}(s);e.SharingConnection=Ue;var ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestSlide=function(t){return e.prototype.fromRestModelBase.call(this,t),this.slideDeckId=t.SlideDeckId,this.slideNumber=t.SlideNumber,this.content=t.Content,this.imageUrl=t.ImageUrl,this},t.prototype.copyFromSlide=function(t){return e.prototype.copyFromModelBase.call(this,t),this.slideDeckId=t.slideDeckId,this.slideNumber=t.slideNumber,this.content=t.content,this.imageUrl=t.imageUrl,this},t}(s);e.Slide=ke;var _e=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.fromRestTranscriptionProviderInstance=function(o){return t.prototype.fromRestModelBase.call(this,o),this.provider=o.Provider?(new e.TranscriptionProvider).fromRestTranscriptionProvider(o.Provider):void 0,this.userKey=o.UserKey,this.username=o.Username,this.password=o.Password,this.havePassword=o.HavePassword,this.havePrivateKey=o.HavePrivateKey,this.haveUserKey=o.HaveUserKey,this.privateKey=o.PrivateKey,this.creatorsCanRequest=o.CreatorsCanRequest,this.enabled=o.Enabled,this.sendFolderName=o.SendFolderName,this.displayName=o.DisplayName,this},o.prototype.copyFromTranscriptionProviderInstance=function(o){return t.prototype.copyFromModelBase.call(this,o),this.provider=o.provider?(new e.TranscriptionProvider).copyFromTranscriptionProvider(o.provider):void 0,this.userKey=o.userKey,this.username=o.username,this.password=o.password,this.havePassword=o.havePassword,this.havePrivateKey=o.havePrivateKey,this.haveUserKey=o.haveUserKey,this.privateKey=o.privateKey,this.creatorsCanRequest=o.creatorsCanRequest,this.enabled=o.enabled,this.sendFolderName=o.sendFolderName,this.displayName=o.displayName,this},o}(s);e.TranscriptionProviderInstance=_e;var xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestTranscriptionRequest=function(t){return e.prototype.fromRestModelBase.call(this,t),this.transcriptionProvider=t.TranscriptionProvider,this.transcriptReceived=t.TranscriptReceived,this.requestCreated=t.RequestCreated,this.lastProviderUpdate=t.LastProviderUpdate,this.requestSent=t.RequestSent,this.requestStatus=t.RequestStatus,this.transcriptionProviderInstanceName=t.TranscriptionProviderInstanceName,this.transcriptionProviderTypeName=t.TranscriptionProviderTypeName,this},t.prototype.copyFromTranscriptionRequest=function(t){return e.prototype.copyFromModelBase.call(this,t),this.transcriptionProvider=t.transcriptionProvider,this.transcriptReceived=t.transcriptReceived,this.requestCreated=t.requestCreated,this.lastProviderUpdate=t.lastProviderUpdate,this.requestSent=t.requestSent,this.requestStatus=t.requestStatus,this.transcriptionProviderInstanceName=t.transcriptionProviderInstanceName,this.transcriptionProviderTypeName=t.transcriptionProviderTypeName,this},t}(s);e.TranscriptionRequest=xe;var Fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestUser=function(t){return e.prototype.fromRestModelBase.call(this,t),this.key=t.Key,this.email=t.Email,this.firstName=t.FirstName,this.lastName=t.LastName,this.initialPassword=t.InitialPassword,this.fftTargetURL=t.FFTTargetURL,this.signupTokenId=t.SignupTokenId,this.providerName=t.ProviderName,this.providerAuthToken=t.ProviderAuthToken,this},t.prototype.copyFromUser=function(t){return e.prototype.copyFromModelBase.call(this,t),this.key=t.key,this.email=t.email,this.firstName=t.firstName,this.lastName=t.lastName,this.initialPassword=t.initialPassword,this.fftTargetURL=t.fftTargetURL,this.signupTokenId=t.signupTokenId,this.providerName=t.providerName,this.providerAuthToken=t.providerAuthToken,this},t}(s);e.User=Fe;var Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestZoomExternalProvider=function(t){return e.prototype.fromRestModelBase.call(this,t),this.publicId=t.PublicId,this.accountId=t.AccountId,this.status=t.Status,this.lastSuccessfulApiCall=t.LastSuccessfulApiCall,this.defaultFolder=t.DefaultFolder,this.enableZoomForAllUsers=t.EnableZoomForAllUsers,this.automaticallyGrantVideoAccessToParticipants=t.AutomaticallyGrantVideoAccessToParticipants,this.deleteRecordingsFromZoomAfterIngestion=t.DeleteRecordingsFromZoomAfterIngestion,this.enableUserCustomFolderSelection=t.EnableUserCustomFolderSelection,this},t.prototype.copyFromZoomExternalProvider=function(t){return e.prototype.copyFromModelBase.call(this,t),this.publicId=t.publicId,this.accountId=t.accountId,this.status=t.status,this.lastSuccessfulApiCall=t.lastSuccessfulApiCall,this.defaultFolder=t.defaultFolder,this.enableZoomForAllUsers=t.enableZoomForAllUsers,this.automaticallyGrantVideoAccessToParticipants=t.automaticallyGrantVideoAccessToParticipants,this.deleteRecordingsFromZoomAfterIngestion=t.deleteRecordingsFromZoomAfterIngestion,this.enableUserCustomFolderSelection=t.enableUserCustomFolderSelection,this},t}(s);e.ZoomExternalProvider=Oe;var Ne=function(){function e(){}return e.prototype.fromRestZoomExternalProviderCreate=function(e){return this.affiliationId=e.AffiliationId,this.name=e.Name,this.description=e.Description,this.accountId=e.AccountId,this.oAuth2Token=e.OAuth2Token,this.oAuth2RefreshToken=e.OAuth2RefreshToken,this.tokenExipration=e.TokenExipration,this.lastSuccessfulAPICall=e.LastSuccessfulAPICall,this.defaultSessionGroupPublicId=e.DefaultSessionGroupPublicId,this.enableZoomForAllUsers=e.EnableZoomForAllUsers,this.automaticallyGrantVideoAccessToParticipants=e.AutomaticallyGrantVideoAccessToParticipants,this.deleteRecordingsFromZoomAfterIngestion=e.DeleteRecordingsFromZoomAfterIngestion,this},e.prototype.copyFromZoomExternalProviderCreate=function(e){return this.affiliationId=e.affiliationId,this.name=e.name,this.description=e.description,this.accountId=e.accountId,this.oAuth2Token=e.oAuth2Token,this.oAuth2RefreshToken=e.oAuth2RefreshToken,this.tokenExipration=e.tokenExipration,this.lastSuccessfulAPICall=e.lastSuccessfulAPICall,this.defaultSessionGroupPublicId=e.defaultSessionGroupPublicId,this.enableZoomForAllUsers=e.enableZoomForAllUsers,this.automaticallyGrantVideoAccessToParticipants=e.automaticallyGrantVideoAccessToParticipants,this.deleteRecordingsFromZoomAfterIngestion=e.deleteRecordingsFromZoomAfterIngestion,this},e}();e.ZoomExternalProviderCreate=Ne;var Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromRestZoomExternalProviderUpdate=function(t){return e.prototype.fromRestModelBase.call(this,t),this.defaultFolder=t.DefaultFolder,this.enableZoomForAllUsers=t.EnableZoomForAllUsers,this.automaticallyGrantVideoAccessToParticipants=t.AutomaticallyGrantVideoAccessToParticipants,this.deleteRecordingsFromZoomAfterIngestion=t.DeleteRecordingsFromZoomAfterIngestion,this.enableUserCustomFolderSelection=t.EnableUserCustomFolderSelection,this},t.prototype.copyFromZoomExternalProviderUpdate=function(t){return e.prototype.copyFromModelBase.call(this,t),this.defaultFolder=t.defaultFolder,this.enableZoomForAllUsers=t.enableZoomForAllUsers,this.automaticallyGrantVideoAccessToParticipants=t.automaticallyGrantVideoAccessToParticipants,this.deleteRecordingsFromZoomAfterIngestion=t.deleteRecordingsFromZoomAfterIngestion,this.enableUserCustomFolderSelection=t.enableUserCustomFolderSelection,this},t}(s);e.ZoomExternalProviderUpdate=Be;var je=function(){function e(){}return e.prototype.fromRestZoomIntegrationUserSettings=function(e){return this.zoomImportFolderPublicId=e.ZoomImportFolderPublicId,this},e.prototype.copyFromZoomIntegrationUserSettings=function(e){return this.zoomImportFolderPublicId=e.zoomImportFolderPublicId,this},e}();e.ZoomIntegrationUserSettings=je}(AutoClientModels||(AutoClientModels={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=function(e){var t=function(e){e.apiVersion||Panopto.Core.Constants.ApiVersion;var t=e.alternateUrl||PanoptoTS.StringHelpers.format("{0}/Api/",Panopto.appRoot),o=e.paramsObj?"?"+Panopto.Core.StringHelpers.serializeObjectToQueryString(e.paramsObj):"",n=e.id?"/"+e.id:"",r=e.path?"/"+e.path:"",i=e.serviceName||"";return PanoptoTS.StringHelpers.format("{0}{1}{2}{3}{4}",t,i,n,r,o)},o=function(e){var t=PanoptoCore.CookieHelpers.getCookie(Panopto.Core.Constants.CsrfTokenCookieName);t&&e.setRequestHeader(Panopto.Core.Constants.CsrfTokenHeaderName,t)};return e.makeCall=function(e,n,r,i,s,a){!function(e,t,n,r){e.success=t||$.noop,e.error=n||$.noop,e.complete=r||$.noop,e.contentType=e.contentType||"application/json; charset=utf-8",e.dataType=e.dataType||"json",e.xhrFields=e.xhrFields||{withCredentials:!0},e.data=e.data?JSON.stringify(e.data):e.data,e.beforeSend=o,$.ajax(e)}({type:e,url:t(n),data:n.data,headers:n.headers,async:!a},r,i,s)},e.sendBeacon=function(e){var o=new Blob([JSON.stringify(e.data)],{type:"application/json; charset=utf-8"});navigator.sendBeacon(t(e),o)},e.makeChunkedIdCalls=function(e,t,o,n){var r,i,s,a="&ids=".length+Panopto.Core.Constants.EmptyGuid.length,c=Math.floor(Panopto.Core.Constants.MaxQueryStringLength/a),l=[],u=[],d=[],p=function(){r||o(l,u,d)},f=(i=[],(s=function(e){e.length&&(i.push(_.first(e,c)),s(_.rest(e,c)))})(t),i);r=f.length,p(),_.each(f,function(t){e(t,function(e){n(e,l,u),r-=1,p()},function(e){d.push(e),r-=1,p()})})},e.makeChunkedDeleteCalls=function(t,o,n){e.makeChunkedIdCalls(t,o,n,function(e,t,o){var n=Panopto.Core.ServiceInterface.Rest.Objects.BatchResult(e,function(e){return e});_.each(n.succeeded,function(e){t.push(e)}),_.each(n.failed,function(e){o.push(e)})})},e.makeChunkedGetCalls=function(t,o,n,r){e.makeChunkedIdCalls(t,o,n,function(e,t){var o=_.map(e,r);_.each(o,function(e){t.push(e)})})},e.getAll=function(e,t,o,n){var r=[],i=0,s=function(){e(_.extend(t,{page:i}),function(e){r=r.concat(e.results),e.hasMorePages?(i++,s()):o(r)},n)};s()},e.ResponseCountKey="Total-Count",e.HasMorePagesKey="Has-More-Pages",e.BatchPath="batch",e.LastModified="Last-Modified",e.IfUnmodifiedSince="If-Unmodified-Since",e}(Panopto.Core.ServiceInterface.Rest.Api||{}),function(e){!function(t){!function(t){var o=function(){function t(e){this.api=e}return t.prototype.getViewingAnalytics=function(o,n,r,i){var s;o.includeInteractivity?delete(s=__assign({"names[0]":"interactivity"},o)).includeInteractivity:s=o,this.api.makeCall(e.API.Rest.HttpMethods.get,{serviceName:t.serviceName+t.viewingEndpoint,paramsObj:s},function(t,o,r){var i=new e.API.Rest.Objects.DataPage;i.fromResponse(t,r,function(e){return(new AutoClientModels.ScopedAnalytics).fromRestScopedAnalytics(e)}),n(i)},r,i)},t.prototype.getHeatMapAnalytics=function(o,n,r,i){this.api.makeCall(e.API.Rest.HttpMethods.get,{serviceName:t.serviceName+t.heatMapEndpoint,paramsObj:o},function(t,o,r){var i=new e.API.Rest.Objects.DataPage;i.fromResponse(t,r,function(e){return(new AutoClientModels.HeatMapAnalytics).fromRestHeatMapAnalytics(e)}),n(i)},r,i)},t.serviceName="stats/",t.viewingEndpoint="viewing",t.heatMapEndpoint="heatmap",t}();t.AnalyticsService=o}(t.Rest||(t.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){!function(t){var o=function(){function t(){}return t.prototype.save=function(o,n,r,i){t.restAPI.makeCall(o.id?e.API.Rest.HttpMethods.put:e.API.Rest.HttpMethods.post,{serviceName:t.serviceName,data:(new AutoRestModels.Department).fromClientDepartment(o)},function(e,t,o){n&&n((new AutoClientModels.Department).fromRestDepartment(e),t,o)},r,i)},t.prototype.delete=function(o,n,r,i){t.restAPI.makeCall(e.API.Rest.HttpMethods.delete,{serviceName:t.serviceName,id:o},n,r,i)},t.prototype.getOne=function(o,n,r,i){t.restAPI.makeCall(e.API.Rest.HttpMethods.get,{serviceName:t.serviceName,id:o},function(e){n&&n((new AutoClientModels.Department).fromRestDepartment(e))},r,i)},t.prototype.get=function(o,n,r,i){t.restAPI.makeCall(e.API.Rest.HttpMethods.get,{serviceName:t.serviceName,paramsObj:o},function(t,o,r){var i=new e.API.Rest.Objects.DataPage;i.fromResponse(t,r,function(e){return(new AutoClientModels.Department).fromRestDepartment(e)}),n(i)},r,i)},t.prototype.getAll=function(e,o){var n=this;t.restAPI.getAll(function(e,t,o){n.get(e,t,o)},{},e,o)},t.prototype.getAccessControlPolicies=function(o,n,r,i){t.restAPI.makeCall(e.API.Rest.HttpMethods.get,{serviceName:t.serviceName,id:o,path:t.accessControlPoliciesPath},function(e){n&&n(e.map(function(e){return(new AutoClientModels.AccessControlPolicy).fromRestAccessControlPolicy(e)}))},r,i)},t.prototype.addAccessControlPolicies=function(o,n,r,i,s){t.restAPI.makeCall(e.API.Rest.HttpMethods.post,{serviceName:t.serviceName,id:o,path:t.accessControlPoliciesPath,data:n.map(function(e){return(new AutoRestModels.AccessControlPolicy).fromClientAccessControlPolicy(e)})},r,i,s)},t.prototype.deleteAccessControlPolicy=function(o,n,r,i,s){t.restAPI.makeCall(e.API.Rest.HttpMethods.delete,{serviceName:t.serviceName,id:o,path:t.accessControlPoliciesPath,data:[(new AutoRestModels.AccessControlPolicy).fromClientAccessControlPolicy(n)]},r,i,s)},t.serviceName="Departments",t.accessControlPoliciesPath="accessControlPolicies",t.restAPI=Panopto.Core.ServiceInterface.Rest.Api,t}();t.DepartmentsService=o}(t.Rest||(t.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){!function(t){var o=function(){function t(e){this.api=e}return t.prototype.getZoomProvider=function(o,n,r){this.api.makeCall(e.API.Rest.HttpMethods.get,{serviceName:t.serviceName,path:"zoom"},function(e){o&&o((new AutoClientModels.ZoomExternalProvider).fromRestZoomExternalProvider(e))},n,r)},t.prototype.setZoomProviderAdminSettings=function(o,n,r,i){this.api.makeCall(e.API.Rest.HttpMethods.put,{serviceName:t.serviceName,path:"zoom/adminSettings",data:o},function(e){n&&n((new AutoClientModels.ZoomExternalProvider).fromRestZoomExternalProvider(e))},r,i)},t.serviceName="externalProviders",t}();t.ExternalProviderService=o}(t.Rest||(t.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){!function(t){var o=function(){function t(e){this.api=e}return t.prototype.getOne=function(o,n,r,i){this.api.makeCall(e.API.Rest.HttpMethods.get,{serviceName:t.serviceName,id:o},function(e){n&&n((new AutoClientModels.Folder).fromRestFolder(e))},r,i)},t.serviceName="folders",t}();t.FolderService=o}(t.Rest||(t.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.NotFound=404]="NotFound",e[e.InternalError=500]="InternalError"}(e.HttpStatusCode||(e.HttpStatusCode={}))}(e.Rest||(e.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){this.playlistsService=Panopto.Core.ServiceInterface.Rest.Playlists,this.sessionListsService=Panopto.Core.ServiceInterface.Rest.SessionLists}return e.prototype.getPlaylist=function(e,t){var o=this,n=$.Deferred();return this.playlistsService.getOne({id:e,onSuccess:function(e){o.sessionListsService.getOne(e.sessionListId,t,function(t){var o=new AutoClientModels.PlaylistWithItems;o.playlist=e,o.items=t.items,n.resolve(o)})}}),n.promise()},e}();e.PlaylistWithSessionsService=t}(e.Rest||(e.Rest={}))}(e.API||(e.API={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){!function(t){var o=function(){function t(){}return t.prototype.save=function(o,n,r,i){t.restAPI.makeCall(o.id?e.API.Rest.HttpMethods.put:e.API.Rest.HttpMethods.post,{serviceName:t.serviceName,data:(new AutoRestModels.RetentionPolicyRuleGroup).fromClientRetentionPolicyRuleGroup(o)},function(e,t,o){n&&n((new AutoClientModels.RetentionPolicyRuleGroup).fromRestRetentionPolicyRuleGroup(e),t,o)},r,i)},t.prototype.delete=function(o,n,r,i){t.restAPI.makeCall(e.API.Rest.HttpMethods.delete,{serviceName:t.serviceName,id:o},n,r,i)},t.prototype.setSitewideDefault=function(o,n,r,i){t.restAPI.makeCall(e.API.Rest.HttpMethods.put,{serviceName:t.serviceName,path:"site",id:o},n,r,i)},t.prototype.setUsersFolderDefault=function(o,n,r,i){t.restAPI.makeCall(e.API.Rest.HttpMethods.put,{serviceName:t.serviceName,path:"users",id:o},n,r,i)},t.prototype.getOne=function(o,n,r,i){t.restAPI.makeCall(e.API.Rest.HttpMethods.get,{serviceName:t.serviceName,id:o},function(e){n&&n((new AutoClientModels.RetentionPolicyRuleGroup).fromRestRetentionPolicyRuleGroup(e))},r,i)},t.prototype.get=function(o,n,r,i){t.restAPI.makeCall(e.API.Rest.HttpMethods.get,{serviceName:t.serviceName,paramsObj:o},function(t,o,r){var i=new e.API.Rest.Objects.DataPage;i.fromResponse(t,r,function(e){return(new AutoClientModels.RetentionPolicyRuleGroup).fromRestRetentionPolicyRuleGroup(e)}),n(i)},r,i)},t.prototype.getAll=function(e,o){var n=this;t.restAPI.getAll(function(e,t,o){n.get(e,t,o)},{},e,o)},t.serviceName="RetentionPolicyRuleGroups",t.restAPI=Panopto.Core.ServiceInterface.Rest.Api,t}();t.RetentionPolicyService=o}(t.Rest||(t.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){!function(t){var o=function(){function t(){}return t.prototype.getRetentionSessionInfo=function(o,n,r,i){t.restAPI.makeCall(e.API.Rest.HttpMethods.get,{serviceName:t.serviceName,path:"sessions",paramsObj:o},function(t,o,r){var i=new e.API.Rest.Objects.DataPage;i.fromResponse(t,r,function(e){return(new AutoClientModels.RetentionSessionInfo).fromRestRetentionSessionInfo(e)}),n(i)},r,i)},t.prototype.getRetentionActionHistory=function(o,n,r,i){t.restAPI.makeCall(e.API.Rest.HttpMethods.get,{serviceName:t.serviceName,path:"actions",paramsObj:o},function(t,o,r){var i=new e.API.Rest.Objects.DataPage;i.fromResponse(t,r,function(e){return(new AutoClientModels.RetentionActionHistory).fromRestRetentionActionHistory(e)}),n(i)},r,i)},t.prototype.retainDeliveries=function(o,n,r,i){t.restAPI.makeCall(e.API.Rest.HttpMethods.put,{serviceName:t.serviceName,path:"batchRetain",data:o},n,r,i)},t.prototype.approveRetentionActions=function(o,n,r,i){t.restAPI.makeCall(e.API.Rest.HttpMethods.put,{serviceName:t.serviceName,path:"batchApproveRetentionActions",data:o},n,r,i)},t.prototype.setDeliveryRetentionPolicy=function(o,n,r,i,s){t.restAPI.makeCall(e.API.Rest.HttpMethods.put,{serviceName:t.serviceName,path:"batchSetDeliveryRetentionPolicy",id:o,data:n},r,i,s)},t.prototype.getRetentionConfiguration=function(o,n,r){t.restAPI.makeCall(e.API.Rest.HttpMethods.get,{serviceName:t.serviceName,path:"configuration"},function(e){o&&o((new AutoClientModels.RetentionConfiguration).fromRestRetentionConfiguration(e))},n,r)},t.prototype.updateRetentionConfiguration=function(o,n,r,i){t.restAPI.makeCall(e.API.Rest.HttpMethods.put,{serviceName:t.serviceName,path:"configuration",data:(new AutoRestModels.RetentionConfiguration).fromClientRetentionConfiguration(o)},function(e){n&&n((new AutoClientModels.RetentionConfiguration).fromRestRetentionConfiguration(e))},r,i)},t.serviceName="Retention",t.restAPI=Panopto.Core.ServiceInterface.Rest.Api,t}();t.RetentionService=o}(t.Rest||(t.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){!function(t){var o=e.API.Rest.Filters.DateTimeBucketSize,n=function(){function t(){this.subfolders=["English 111","English 1010","English 201","English 201: Lab","English Dept. Shared","English Dept. Misc"],this.sessions=["Introduction and Syllabus Overview (9/17/18)","guest speaker: David Sedaris (9/19/18)","Extra Credit Assignment Review","TA Presentation (9/20/18)","roundtable on the works of William Faulkner","English Modernism Overview: Joyce & Woolf"],this.users=[{id:"user1",name:"mbrewster"},{id:"user2",name:"tsullivan",friendlyName:"Tim"},{id:"user3",name:"gyoung",friendlyName:"Greg"},{id:"user4",name:"jferris"},{id:"user5",friendlyName:"tvanbaak@panopto.com"},{id:"user6",name:"mpatel",friendlyName:"Meghal"}]}return t.prototype.getViewingAnalytics=function(t,n,r,i){var s=[];t.endTime||(t.endTime=moment(new Date).format()),t.startTime||(t.startTime=moment().subtract(3,"years").format());var a,c=moment(t.endTime).diff(moment(t.startTime));switch(t.bucketSize){case o.Week:a=moment.duration(c).asWeeks();break;case o.Month:a=moment.duration(c).asMonths();break;case o.Year:a=moment.duration(c).asYears();break;case o.Day:default:a=moment.duration(c).asDays()}a=Math.round(a);for(var l=0;l<a;l++)for(var u=0,d=this.subfolders;u<d.length;u++){var p=d[u];if(!_.contains(this.subfolders,t.folderId)||p===t.folderId)for(var f=0,h=this.sessions;f<h.length;f++){var m=h[f];if(!t.sessionId||t.sessionId===m)for(var v=0,C=this.users;v<C.length;v++){var y=C[v];if(!t.userId||t.userId===y.id){var P=new AutoClientModels.ScopedAnalytics;P.timeStamp=moment(t.startTime).add(l*c/a,"milliseconds").format("/[Date](xZZ)/"),P.views=Math.round(3*Math.random()),P.minutesViewed=Math.round(Math.random()*P.views*60),P.averageMinutesViewed=0===P.views?0:Math.round(P.minutesViewed/P.views),P.folderId=P.folderFriendlyName=p,P.rootFolderId=P.rootFolderFriendlyName=p,P.sessionId=P.sessionFriendlyName=m,P.userId=y.id,P.userName=y.name,P.userFriendlyName=y.friendlyName,P.creatorId=this.users[2].id,P.creatorName=this.users[2].name,P.creatorFriendlyName=this.users[2].friendlyName,t.includeInteractivity&&(P.totalNotes=2,P.totalComments=1),s.push(P)}}}}var S=new e.API.Rest.Objects.DataPage;S.results=s,setTimeout(function(){n(S)},500)},t.prototype.getHeatMapAnalytics=function(t,o,n,r){for(var i=[],s=0;s<30;s++){var a=new AutoClientModels.HeatMapAnalytics;a.bucketStart=60*s,a.views=Math.round(20*Math.random()),a.notes=Math.round(6*Math.random()),a.comments=Math.round(10*Math.random()),i.push(a)}var c=new e.API.Rest.Objects.DataPage;c.results=i,setTimeout(function(){o(c)},500)},t}();t.MockAnalyticsService=n}(t.Rest||(t.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.prototype.getOne=function(e,t,o,n){window.setTimeout(function(){var o=new AutoClientModels.Folder;switch(o.id=e,e){case"department":o.name="English Department";break;default:o.name="English 101",o.parent=new AutoClientModels.Folder,o.parent.name="English Department",o.parent.id="department"}t(o)},500)},e}();e.MockFolderService=t}(e.Rest||(e.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.prototype.getOne=function(e,t,o,n){window.setTimeout(function(){var o=new AutoClientModels.Session;o.id=e,o.name="Introduction and Syllabus Overview (9/17/18)",o.parent=new AutoClientModels.Folder,o.parent.id=o.parent.name="English 101",o.isWebcast=!0,t(o)},500)},e}();e.MockSessionService=t}(e.Rest||(e.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){!function(t){var o=function(){function t(e){this.api=e}return t.prototype.getOne=function(o,n,r,i){this.api.makeCall(e.API.Rest.HttpMethods.get,{serviceName:t.serviceName,id:o},function(e){n&&n((new AutoClientModels.Session).fromRestSession(e))},r,i)},t.serviceName="sessions",t}();t.SessionService=o}(t.Rest||(t.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.prototype.getOne=function(e,t,o,n){window.setTimeout(function(){var o=new AutoClientModels.User;o.id=e,o.name="Greg",o.key="gyoung",t(o)},500)},e}();e.MockUserService=t}(e.Rest||(e.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){!function(t){var o=function(){function t(e){this.api=e}return t.prototype.getOne=function(o,n,r,i){this.api.makeCall(e.API.Rest.HttpMethods.get,{serviceName:t.serviceName,id:o},function(e){n&&n((new AutoClientModels.User).fromRestUser(e))},r,i)},t.serviceName="users",t}();t.UserService=o}(t.Rest||(t.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){!function(t){var o=function(){function o(){}return o.useMockService=function(){return"true"===e.StringHelpers.parseQueryString(window.location.search,!0,!0).mock},o.getAnalyticsService=function(){return o.useMockService()?new t.MockAnalyticsService:new t.AnalyticsService(o.RestAPI)},o.getFolderService=function(){return o.useMockService()?new t.MockFolderService:new t.FolderService(o.RestAPI)},o.getSessionService=function(){return o.useMockService()?new t.MockSessionService:new t.SessionService(o.RestAPI)},o.getUserService=function(){return o.useMockService()?new t.MockUserService:new t.UserService(o.RestAPI)},o.getExternalProviderService=function(){return o.useMockService()?new t.MockExternalProviderService:new t.ExternalProviderService(o.RestAPI)},o.RestAPI=Panopto.Core.ServiceInterface.Rest.Api,o}();t.ServiceFactory=o}(t.Rest||(t.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.prototype.getZoomProvider=function(e,t,o){window.setTimeout(function(){var t=new AutoClientModels.ZoomExternalProvider;t.publicId="00000000-0000-0000-0000-000000000000",t.accountId="abcdefg12345",t.status=AutoRestModels.ExternalProviderZoomStatus.HasValidOAuthCredentials,t.lastSuccessfulApiCall="2019-09-09 21:12:45",t.enableZoomForAllUsers=!0,t.automaticallyGrantVideoAccessToParticipants=!1,t.deleteRecordingsFromZoomAfterIngestion=!1,t.enableUserCustomFolderSelection=!0,e(t)},500)},e.prototype.setZoomProviderAdminSettings=function(e,t,o,n){window.setTimeout(function(){var e=new AutoClientModels.ZoomExternalProvider;e.publicId="00000000-0000-0000-0000-000000000000",e.accountId="abcdefg12345",e.status=AutoRestModels.ExternalProviderZoomStatus.HasValidOAuthCredentials,e.lastSuccessfulApiCall="2019-09-09 21:12:45",e.enableZoomForAllUsers=!0,e.automaticallyGrantVideoAccessToParticipants=!1,e.deleteRecordingsFromZoomAfterIngestion=!1,e.enableUserCustomFolderSelection=!0,t(e)},500)},e}();e.MockExternalProviderService=t}(e.Rest||(e.Rest={}))}(e.API||(e.API={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){var t=function(){function e(){}return e.averageReduce=function(e,t){var o;if(e.length<=t)o=e;else{o=new Array(t);for(var n=t/e.length,r=0,i=0,s=0,a=0,c=0;c<e.length;c++,r+=n)r>=i+1&&(o[i]=s/a,s=0,a=0,i++),s+=e[c],a++;o[i]=s/a}return o},e}();e.ArrayMath=t}(e.Data||(e.Data={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){var t=function(){function e(e,t,o){this.viewportChanged=$.Callbacks(),this.data=e,this.rangeAbsoluteMax=o,this.rangeAbsoluteMin=t,this.rangeViewportMin=this.rangeAbsoluteMin,this.rangeViewportMax=this.rangeAbsoluteMax,this.viewportMinIndex=0,this.viewportMaxIndex=this.data.length-1}return e.prototype.getRangeAbsoluteMin=function(){return this.rangeAbsoluteMin},e.prototype.getRangeAbsoluteMax=function(){return this.rangeAbsoluteMax},e.prototype.setRangeScale=function(e,t){e===this.rangeAbsoluteMin&&t===this.rangeAbsoluteMax||(this.rangeAbsoluteMin=e,this.rangeAbsoluteMax=t,this.setRangeViewport(this.rangeViewportMin,this.rangeViewportMax))},e.prototype.setRangeViewport=function(e,t){this.rangeViewportMin=e,this.rangeViewportMax=t;var o=Math.floor((this.rangeViewportMin-this.rangeAbsoluteMin)*this.data.length/(this.rangeAbsoluteMax-this.rangeAbsoluteMin)),n=Math.ceil((this.rangeViewportMax-this.rangeAbsoluteMin)*this.data.length/(this.rangeAbsoluteMax-this.rangeAbsoluteMin))-1,r=!1;return o===this.viewportMinIndex&&n===this.viewportMaxIndex||(this.viewportMinIndex=o,this.viewportMaxIndex=n,this.onViewportChanged(),r=!0),r},e.prototype.getData=function(){return void 0===this.viewportData&&(0===this.viewportMinIndex&&this.viewportMaxIndex===this.data.length-1?this.viewportData=this.data:this.viewportData=this.data.slice(this.viewportMinIndex,this.viewportMaxIndex+1)),this.viewportData},e.prototype.onViewportChanged=function(){this.viewportData=void 0,this.viewportChanged.fire()},e}();e.ArrayViewport=t}(e.Data||(e.Data={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){var t=function(){function e(e,t,o,n,r,i){this.positionChanged=$.Callbacks(),this.widthChanged=$.Callbacks(),this.draw=$.Callbacks(),this.updateVisualRatios(e,t),i&&(this.expandFactor=i.expandFactor||1,i.positionChanged&&this.positionChanged.add(i.positionChanged),i.widthChanged&&this.widthChanged.add(i.widthChanged),i.draw&&this.draw.add(i.draw)),this.updateViewport(o,n,r)}return e.prototype.getDrawnLeftPosition=function(){return this.drawnLeftPosition},e.prototype.getDrawnWidth=function(){return this.drawnWidth},e.prototype.getVisualWidth=function(){return this.visualWidth},e.prototype.updateViewport=function(e,t,o){this.viewportLeftPosition=e,this.viewportWidth=t,this.totalWidth=o;var n,r=!1,i=Math.min(t*this.expandFactor,o),s=Math.clamp(e-t*(this.expandFactor-1)/2,0,o),a=Math.floor(this.visualLeftPositionRatio*o),c=Math.ceil(this.visualWidthRatio*o),l=Math.round(Math.min(i,c)),u=Panopto.Core.Math.clamp(s,a,a+c-l);u+l>s&&u<s+i?n=u-a:(l=0,n=0),c!==this.visualWidth&&(this.visualWidth=c,r=!0),(r||e<this.absoluteDrawnLeftPosition||e+t>this.absoluteDrawnLeftPosition+this.drawnWidth)&&(l!==this.drawnWidth&&(this.drawnWidth=l,this.widthChanged.fire(this.drawnWidth),r=!0),n!=this.drawnLeftPosition&&(this.drawnLeftPosition=n,this.absoluteDrawnLeftPosition=u,this.positionChanged.fire(this.drawnLeftPosition),r=!0)),r&&this.draw.fire(this)},e.prototype.updateVisualRatios=function(e,t){this.visualLeftPositionRatio=e,this.visualWidthRatio=t,void 0!==this.viewportLeftPosition&&void 0!==this.viewportWidth&&void 0!==this.totalWidth&&this.updateViewport(this.viewportLeftPosition,this.viewportWidth,this.totalWidth)},e}();e.VisualViewport=t}(e.Data||(e.Data={}))}(PanoptoTS||(PanoptoTS={})),function(e){var t=function(){function t(){}return t.toWCFString=function(t){return e.StringHelpers.format("/Date({0})/",t.getTime())},t}();e.DateHelpers=t}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.ElementHelpers=function(e){var t=Panopto.Core.Constants;return e.blurActiveElement=function(){document.activeElement&&document.activeElement instanceof HTMLElement&&!$(document.activeElement).is("body")&&document.activeElement.blur()},e.clampSliderValue=function(e,t){return Math.clamp(t,e.slider("option","min"),e.slider("option","max"))},e.measureText=function(e,t){var o,n;return $("body").append("<div id='ruler'></div>"),(n=$("#ruler")).css("display","inline-block"),n.css("font-size",e.css("font-size")),n.css("font-family",e.css("font-family")),n.text(t),o=n.width(),n.remove(),o},e.inputEllipsis=function(t,o,n){for(var r=1e3,i=!1;e.measureText(t,o)>t.width()&&r--;)i=!0,o=o.substring(0,o.length-(n.length+1)).concat(n);return{text:o,ellipsied:i}},e.silenceInputValuePropertyChange=function(e,t){if(e instanceof HTMLInputElement&&"onpropertychange"in e){var o=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");Object.defineProperty(e,"value",{get:function(){return o.get.call(this)},set:function(e){t(e),o.set.call(this,e)}})}},e.verticalEllipsis=function(e,t){_.each(e,function(e){var o=$(e),n=parseInt(o.css("min-height"),10),r=Math.max(parseInt(o.css("max-height"),10),n),i=function(e){var n=(void 0===e?{}:e).truncated,s=void 0!==n&&n,a=o.text();if(a&&o[0].scrollHeight>r){var c=_.last(a.trim().split(" "));a=a.substr(0,a.lastIndexOf(c)).trim(),o.text(a),i({truncated:!0})}else if(s&&a.length>t.length){var l=a.slice(0,a.length-t.length-1)+t;o.text(l)}};i()})},e.toggleEnabledButton=function(e,t){e.prop("disabled",!t),e.toggleClass("disabled",!t)},e.putFocusIntoModal=function(e){e.prop("tabindex",0).addClass("modal-focus").focus(),e.one("blur",function(){e.removeAttr("tabindex").removeClass("modal-focus")})},e.removePointerEvents=function(e,t){e.css("pointer-events","none"),_.each(t,function(t){e.on(t+".pointer-event",function(o){var n=$.Event(t);n.pageX=o.pageX,n.pageY=o.pageY,e.toggle(!1),$(document.elementFromPoint(o.pageX,o.pageY)).trigger(n),e.toggle(!0),o.stopPropagation(),o.preventDefault()})})},e.reattachPointerEvents=function(e){e.css("pointer-events",""),e.off(".pointer-event")},e.toggleHidden=function(e,t){e.css("visibility",t?"hidden":"visible")},$(document).on("mouseenter."+t.EllipsisClass,"."+t.EllipsisClass,function(e){var o=e.currentTarget,n=null;$(o).hasClass(t.NoTooltipClass)||((o.offsetWidth<o.scrollWidth||o.offsetHeight<o.scrollHeight)&&(n=jQuery.trim($(o).text())),$(o).attr("title",n))}),e}(Panopto.Core.ElementHelpers||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},function(e){var t=function(){function e(){}return e.getImageUrl=function(e){return Panopto.cacheRoot+"/Styles/Less/Application/Images/"+e},e}();e.ImageHelpers=t}(PanoptoTS||(PanoptoTS={})),Panopto.Core.ImageHelpers=function(e){return e.saltImageUrl=function(e){return e.substring(0,e.lastIndexOf("=")+1)+Math.random()},e.bufferAndReplaceImageUrl=function(e,t,o,n){n=n||$.noop;var r;if(e.length){var i=o||(r=e.attr("src")).substring(0,r.lastIndexOf("=")+1)+Math.random();t.load(function(o){var r,s;t.unbind("load"),s=i,(r=e).is("img")?r.attr("src",s):r.css("background-image",PanoptoTS.StringHelpers.format("url({0})",s)).css("z-index",r.css("z-index")),n(o.target)}).attr("src",i)}},e.queueLoad=function(e,t){if(e.length>0){var o=new Panopto.Core.JobQueue({maxDegreeOfParallelism:t,maxAttempts:1,autoStart:!0}),n=[],r=setInterval(function(){var t=_.groupBy(n,function(e){return 0!==e.width||0!==e.height});n=t[(!1).toString()]||[],_.each(t[(!0).toString()],function(e){var t=$(e).data("jobId");o.cancelJob(t)}),n.length||o.hasQueuedJobs()||(clearInterval(r),e.removeData("jobId"))},250);_.each(e,function(e){var t=o.queueJob({attempt:function(t){n.push(e);var o=$(e);o.on("load error",function(){n.splice(n.indexOf(e),1),t(!0)}),o.attr("src",o.data("src"))}});$(e).data("jobId",t)})}},e.getAspectRatio=function(e,t){var o=new Image;o.onload=function(){t(o.width/o.height||1)},o.onerror=function(){t(1)},o.src=e},e}(Panopto.Core.ImageHelpers||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.TextHelpers=function(e){var t=Panopto.Core.Constants,o=function(e){return e.innerHTML.replace(/&amp;/g,"&")};return e.appendText=function(e,t){e.appendChild(document.createTextNode(t))},e.highlightMatches=function(t,n,r,i){var s,a,c;return i=i||{},t&&n&&r?(_.isRegExp(n)||(a=i.caseSensitive?"":"i",n=new RegExp(Panopto.Core.StringHelpers.escapeRegex(n),a)),c=document.createElement("div"),e.cleanTextWithReplacement(t,c,n,function(e){return $("<span>").addClass(r).text(e[0]).get(0)}),s=o(c)):s=_.escape(t),s},e.cleanTextWithHighlighting=function(n,r){r=r||document.createElement("div");var i=new RegExp(t.HitMatcher.source+"|"+t.SafeBreakMatcher.source);return e.cleanTextWithReplacement(n,r,i,function(e){return e[0]===t.SafeBreakMatcher.source?$("<br>")[0]:$("<span>").addClass("match").text(e[1])[0]}),o(r)},e.cleanTextWithoutHighlighting=function(n,r){return r=r||document.createElement("div"),e.cleanTextWithReplacement(n,r,t.HitMatcher,function(e){return document.createTextNode(e[1])}),o(r)},e.trimTextToMatch=function(o,n){if((o=e.cleanTextWithHighlighting(o))&&o.length>n){var r=0,i=new RegExp(t.HitMatcher.source),s=i.exec(o);o="";var a=RegExp.leftContext,c=!1;for(s.index+s[1].length>n&&(a=a.substring(RegExp.leftContext.indexOf(" ",s.index+s[1].length-n+2)+1),c=!0),c&&(o+="…"),r+=(o+=a).length,o+=s[0],r+=s[1].length,a=RegExp.rightContext,c=!1;s=i.exec(a);)r+RegExp.leftContext.length+s[1].length<=n?(o+=RegExp.leftContext+s[0],r+=RegExp.leftContext.length+s[1].length,a=RegExp.rightContext):(c=!0,a=RegExp.leftContext);var l=a.substring(0,a.lastIndexOf(" ",n-r-2));o+=l,(l!==a||c)&&(o+="…")}return o},e.cleanTextWithReplacement=function(t,o,n,r){var i;for(o.innerHTML="";i=n.exec(t);)RegExp.leftContext&&e.appendText(o,RegExp.leftContext),t=RegExp.rightContext,o.appendChild(r(i));t&&e.appendText(o,t)},e.addMultilineStringToElement=function(e,t){for(var o=e.replace("\r\n","\n").split("\n"),n=0;n<o.length;n++)t.appendChild(document.createTextNode(o[n])),n<o.length-1&&t.appendChild(document.createElement("br"))},e.innerText=function(e){return e=e||"",$("<span>"+e+"</span>").text()},e.hasHtmlTags=function(e){return e.search(/<\s*[a-zA-Z]+[^>]*>{0,1}/g)>=0},e.hasMatch=function(e){return null!==new RegExp(t.HitMatcher.source).exec(e)},e.urlsToLinks=function(e,t){t=t||"<a href='<@= word @>' target='_blank'><@= word @></a>";var o=e.split(" ");return(o=_.map(o,function(e){return e.match(Panopto.Core.Constants.UrlMatcher)?_.template(t)({word:e}):e})).join(" ")},e.displayLineBreaks=function(e,t){var o=void 0===t?{}:t,n=o.replacement,r=void 0===n?"<br />":n,i=o.collapseMultiple;return void 0!==i&&i?e.replace(/(\s*(\r|\n))+/g,r):e.replace(/(?:\r\n|\r|\n)/g,r)},e}(Panopto.Core.TextHelpers||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.TimeHelpers=function(e){return e.formatWin32EpochTimeToDate=function(e){var t=new moment(Panopto.Core.Constants.Win32EpochDateISO);return t.add(e,"seconds"),t.toDate()},e.dateToWin32EpochTime=function(e){return(e.getTime()-Panopto.Core.Constants.Win32EpochDate)/1e3},e.currentWin32EpochTime=function(){return e.dateToWin32EpochTime(new Date)},e.formatTime=function(e,t,o,n,r,i,s){var a="";return s&&(a+=".",a+=("0".repeat(s)+Math.floor(n/Math.pow(10,3-s))).slice(-s)),a=("0"+o).slice(-2)+a,a=e||i?e+r+(a=("0"+t).slice(-2)+r+a):t+r+a},e.toLocalPanoptoTime=function(t,o){var n=e.adjustForDST(t,o);return moment(moment(t).utcOffset(n).format("YYYY-MM-DD HH:mm")).toDate()},e.fromLocalPanoptoTime=function(t,o){var n=e.adjustForDST(t,o);if(t){var r=moment(t).format("YYYY-MM-DD HH:mm");t=moment(r+=" "+n,"YYYY-MM-DD HH:mm Z").toDate()}return t},e.adjustForDST=function(e,t){var o=parseInt(t.totalHours,10),n=t.supportsDST&&moment(e).isDST()?o+1:o;return(n<0?"-":"+")+("0"+Math.abs(n)).slice(-2)+t.baseUtcOffset.slice(-6)},e.observesDST=function(){var e=new Date;return new Date(e.getFullYear(),0,1).getTimezoneOffset()!==new Date(e.getFullYear(),6,1).getTimezoneOffset()},e.getBaseUTCOffset=function(){var e=new Date;return Math.max(new Date(e.getFullYear(),0,1).getTimezoneOffset(),new Date(e.getFullYear(),6,1).getTimezoneOffset())},e.formatDuration=function(t,o,n,r){void 0===r&&(r=0);var i=Math.round(t*Math.pow(10,r))/Math.pow(10,r),s=i<0,a=moment.duration(Math.abs(i),"seconds"),c=e.formatTime(a.hours(),a.minutes(),a.seconds(),a.milliseconds(),o,n,r);return s?"-"+c:c},e.validateFormattedDuration=function(e,t,o){var n=e,r=new RegExp("^-?[0-9]*:[0-5][0-9]:[0-5][0-9]"+(o?"(.[0-9]{0,"+o+"})?":"")+"$");return n&&(n=n.replaceAll(t,":")),r.test(n)},e.durationFromFormattedString=function(e,t){var o=e.split(".")[1];return o&&(e+="0".repeat(3-o.length)),moment.duration(e.replaceAll(t,":")).asSeconds()},e.utcDateToFormattedString=function(e,t){return moment.utc(e).local().locale(Panopto.lang).format(t)},e}(Panopto.Core.TimeHelpers||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UrlHelpers=function(e){var t=function(e){var t=document.createElement("a");return t.href=e,t};return e.getHost=function(e){return t(e).hostname},e.getProtocol=function(e){return t(e).protocol},e.removeParams=function(){window.history&&window.history.replaceState&&window.history.replaceState("","",document.location.pathname)},e.getStateURL=function(e,t){var o,n,r=e,i=[];if("object"==typeof t){for(var s in r+="#",t)null!==t[s]&&(o=Sys.Serialization.JavaScriptSerializer.serialize(t[s]),n=s+"="+encodeURIComponent(o),i.push(n));r+=i.join("&")}return r},e}(Panopto.Core.UrlHelpers||{}),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){}return e.prototype.applyState=function(e){this.timelineState=e},Object.defineProperty(e.prototype,"offsetFromFirstPrimaryToFirstStream",{get:function(){for(var e=Number.MAX_VALUE,t=Number.MAX_VALUE,o=0,n=this.timelineState.streams();o<n.length;o++){var r=n[o];t=Math.min(t,r.absoluteStart),r.isPrimary&&(e=Math.min(e,r.absoluteStart))}return e-t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstPrimaryWin32EpochRelative",{get:function(){for(var e=Number.MAX_VALUE,t=0,o=this.timelineState.streams();t<o.length;t++){var n=o[t];n.isPrimary&&(e=Math.min(e,n.absoluteStart))}return e},enumerable:!0,configurable:!0}),e}();e.CommonConverter=t}(e.Time||(e.Time={}))}(e.Logic||(e.Logic={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){var t=function(){function t(e){this.commonConverter=e}return t.prototype.applyState=function(e){this.timelineState=e},t.prototype.toFirstPrimaryRelative=function(t){if(t instanceof e.FirstStreamRelative)return this.fromFirstStreamRelativeToFirstPrimaryRelative(t);throw"Unsupported source type '"+typeof t+"'"},t.prototype.fromFirstStreamRelativeToFirstPrimaryRelative=function(t){return new e.FirstPrimaryRelative(t.ticks()-this.commonConverter.offsetFromFirstPrimaryToFirstStream)},t}();e.FirstPrimaryRelativeConverter=t}(e.Time||(e.Time={}))}(e.Logic||(e.Logic={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){var t=function(){function t(e){this.commonConverter=e}return t.prototype.applyState=function(e){this.timelineState=e},t.prototype.getSessionReferenceOffsetTicks=function(e){var t=0;return _.chain(this.timelineState.sessionReferences).reverse().each(function(o){var n=e.ticks()+(t-o.referencedSessionDuration)*Panopto.Core.Constants.TimelineChunkMultiplier;o.start<=n&&(t-=o.referencedSessionDuration)}),t*Panopto.Core.Constants.TimelineChunkMultiplier},t.prototype.toFirstStreamRelative=function(t){if(t instanceof e.FirstPrimaryRelative)return this.fromFirstPrimaryRelativeToFirstStreamRelative(t);if(t instanceof e.UneditedFirstPrimaryRelative)return this.fromUneditedFirstPrimaryRelativeToFirstStreamRelative(t);throw"Unsupported source type '"+typeof t+"'"},t.prototype.fromFirstPrimaryRelativeToFirstStreamRelative=function(t){var o=this.commonConverter.offsetFromFirstPrimaryToFirstStream;return new e.FirstStreamRelative(t.ticks()+o)},t.prototype.fromUneditedFirstPrimaryRelativeToFirstStreamRelative=function(t){var o=this.getSessionReferenceOffsetTicks(t),n=new e.FirstPrimaryRelative(t.ticks()+o);return this.toFirstStreamRelative(n)},t}();e.FirstStreamRelativeConverter=t}(e.Time||(e.Time={}))}(e.Logic||(e.Logic={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){var t=function(){function t(){this.commonConverter=new e.CommonConverter,this.win32EpochRelativeConverter=new e.Win32EpochRelativeConverter(this.commonConverter),this.uneditedFirstPrimaryRelativeConverter=new e.UneditedFirstPrimaryRelativeConverter(this.commonConverter),this.firstPrimaryRelativeConverter=new e.FirstPrimaryRelativeConverter(this.commonConverter),this.firstStreamRelativeConverter=new e.FirstStreamRelativeConverter(this.commonConverter),this.converters=[this.commonConverter,this.win32EpochRelativeConverter,this.uneditedFirstPrimaryRelativeConverter,this.firstPrimaryRelativeConverter,this.firstStreamRelativeConverter]}return t.prototype.applyState=function(e){this.converters.forEach(function(t){return t.applyState(e)})},t.prototype.toWin32EpochRelative=function(e){return this.win32EpochRelativeConverter.toWin32EpochRelative(e)},t.prototype.toFirstStreamRelative=function(e){return this.firstStreamRelativeConverter.toFirstStreamRelative(e)},t.prototype.toFirstPrimaryRelative=function(e){return this.firstPrimaryRelativeConverter.toFirstPrimaryRelative(e)},t.prototype.toUneditedFirstPrimaryRelative=function(e){return this.uneditedFirstPrimaryRelativeConverter.toUneditedFirstPrimaryRelative(e)},t}();e.TimeConverter=t}(e.Time||(e.Time={}))}(e.Logic||(e.Logic={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(e){this.ticksValue=e}return e.prototype.ticks=function(){return this.ticksValue},e.prototype.milliseconds=function(){return this.ticksValue/Panopto.Core.Constants.TimelineChunkToMillisMultiplier},e.prototype.seconds=function(){return this.ticksValue/Panopto.Core.Constants.TimelineChunkMultiplier},e}(),o=function(e){function t(t){var o=e.call(this,t)||this;return o.Kind="Win32EpochRelative",o}return __extends(t,e),t}(t);e.Win32EpochRelative=o;var n=function(e){function t(t){var o=e.call(this,t)||this;return o.Kind="FirstPrimaryRelative",o}return __extends(t,e),t}(t);e.FirstPrimaryRelative=n;var r=function(e){function t(t){var o=e.call(this,t)||this;return o.Kind="FirstStreamRelative",o}return __extends(t,e),t}(t);e.FirstStreamRelative=r;var i=function(e){function t(t){var o=e.call(this,t)||this;return o.Kind="UneditedFirstPrimaryRelative",o}return __extends(t,e),t}(t);e.UneditedFirstPrimaryRelative=i}(e.Time||(e.Time={}))}(e.Logic||(e.Logic={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){var t=function(){function t(e){this.commonConverter=e}return t.prototype.applyState=function(e){this.timelineState=e},t.prototype.getSessionReferenceOffsetTicks=function(e){var t=0;return _.chain(this.timelineState.sessionReferences).filter(function(t){return t.start<=e.ticks()}).each(function(e){return t+=e.referencedSessionDuration}),t*Panopto.Core.Constants.TimelineChunkMultiplier},t.prototype.toUneditedFirstPrimaryRelative=function(t){if(t instanceof e.FirstPrimaryRelative)return this.fromFirstPrimaryRelativeToUneditedFirstPrimaryRelative(t);if(t instanceof e.FirstStreamRelative)return this.fromFirstStreamRelativeToUneditedFirstPrimaryRelative(t);throw"Unsupported source type '"+typeof t+"'"},t.prototype.fromFirstPrimaryRelativeToUneditedFirstPrimaryRelative=function(t){var o=this.getSessionReferenceOffsetTicks(t);return new e.UneditedFirstPrimaryRelative(t.ticks()+o)},t.prototype.fromFirstStreamRelativeToUneditedFirstPrimaryRelative=function(t){var o=new e.FirstPrimaryRelative(t.ticks()-this.commonConverter.offsetFromFirstPrimaryToFirstStream);return this.fromFirstPrimaryRelativeToUneditedFirstPrimaryRelative(o)},t}();e.UneditedFirstPrimaryRelativeConverter=t}(e.Time||(e.Time={}))}(e.Logic||(e.Logic={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){var t=function(){function t(e){this.commonConverter=e}return t.prototype.applyState=function(e){this.timelineState=e},t.prototype.getSessionReferenceOffsetTicks=function(e){var t=0;return _.chain(this.timelineState.sessionReferences).filter(function(t){return t.editorStartTime<e.ticks()}).each(function(e){return t-=e.referencedSessionDuration}),t*Panopto.Core.Constants.TimelineChunkMultiplier},t.prototype.toWin32EpochRelative=function(t){if(t instanceof e.UneditedFirstPrimaryRelative)return this.fromUneditedFirstPrimaryRelativeToWin32EpochRelative(t);throw"Unsupported source type '"+typeof t+"'"},t.prototype.fromUneditedFirstPrimaryRelativeToWin32EpochRelative=function(t){return new e.Win32EpochRelative(this.getSessionReferenceOffsetTicks(t)+t.ticks()+this.commonConverter.firstPrimaryWin32EpochRelative)},t}();e.Win32EpochRelativeConverter=t}(e.Time||(e.Time={}))}(e.Logic||(e.Logic={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Logic=Panopto.Core.Logic||{},Panopto.Core.Logic.Timeline=Panopto.Core.Logic.Timeline||{},Panopto.Core.Logic.Timeline.CutEditor=function(e){var t=function(t,o){return _.filter(e,function(e){return e.targetId===t&&e.targetType===o})};return{addCut:function(o,n,r,i,s){if(n<=o)console.error("Could not create cut. Operation will create a negative cut.",o,n);else{var a=Panopto.Core.ServiceInterface.Rest.Objects.Cut({targetId:r,targetType:i,start:o,duration:n-o}),c=!1;_.each(t(r,i),function(t){s&&!c&&function(e,t){return t.start>=e.start&&t.end()<=e.end()}(t,a)&&(c=!0,e.splice(e.indexOf(t),1),e.push.apply(e,function(e,t){var o=t.start-e.start,n=e.end()-t.end(),r=[];return o>0&&r.push(Panopto.Core.ServiceInterface.Rest.Objects.Cut({targetId:e.targetId,targetType:e.targetType,start:e.start,duration:o})),n>0&&r.push(Panopto.Core.ServiceInterface.Rest.Objects.Cut({targetId:e.targetId,targetType:e.targetType,start:t.end(),duration:n})),r}(t,a))),!c&&function(e,t){return t.end()>=e.start&&t.start<=e.end()}(t,a)&&(function(e,t){var o=Math.min(e.start,t.start),n=Math.max(e.end(),t.end());n<=o?(console.error("Could not merge cuts. Operation will create a negative cut.",e,t),t.start=e.start,t.duration=e.duration):(t.start=o,t.duration=n-o)}(t,a),e.splice(e.indexOf(t),1))}),c||e.push(a),e.sort(function(e,t){return e.start-t.start})}},removeCut:function(o,n,r){var i;(i=_.find(t(n,r),function(e){return e.start===o}))&&e.splice(e.indexOf(i),1)},removeAll:function(o,n){_.each(t(o,n),function(t){e.splice(e.indexOf(t),1)})},cuts:function(t){if(!t)return e;e=t}}},function(e){!function(e){!function(e){!function(e){var t=function(){function e(e,t){this.stream=e,this.offset=t}return e.prototype.toString=function(){return"[Stream '"+this.stream.id+"' at "+this.offset+"]"},e}();e.StreamReference=t}(e.Timeline||(e.Timeline={}))}(e.Logic||(e.Logic={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Logic=Panopto.Core.Logic||{},Panopto.Core.Logic.Timeline=Panopto.Core.Logic.Timeline||{},Panopto.Core.Logic.Timeline.Timeline=function(e,t,o){e=e||[],t=t||[];var n,r,i={},s=[],a=function(e){var t,o,n=-1,r=function(e){var t=e;return{element:_.find(s,function(e){if(e.length()>t)return!0;t-=e.length()}),offset:t}}(e),i=r.element,a=r.offset;return i?(o=s.indexOf(i),0===a?n=o:a===i.length()?n=o+1:(t=i.split(a),n=o+1,s.splice(n,0,t))):0===a&&(n=s.length),n},c=function(e,t){return a(e),a(e+t),function(e,t){var o=e,n=[];return t>0&&_.find(s,function(e){return e.length()>o&&n.push(e),(o-=e.length())+t<=0}),n}(e,t)},l=function(t){var o,r,s;switch(t.targetType){case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session:o=t.start;break;case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Stream:r=_.find(e,function(e){return t.targetId===e.id}),o=t.start+r.absoluteStart-n;break;case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference:o=t.start+i[t.targetId]}s=c(o,t.duration),_.each(s,function(e){r?e.remove(r):e.clear()})},u=function(e){var t=c(e.absoluteStart-n,e.duration),o=0;_.each(t,function(t){t.add(e,o),o+=t.length()})},d=function(){if(s.length=0,e.length?(n=_.min(_.pluck(e,"absoluteStart")),r=_.max(_.map(e,function(e){return e.absoluteEnd()})),s.push(new PanoptoTS.Core.Logic.Timeline.TimelineElement(r-n))):(n=1/0,r=1/0),_.each(e,u),_.chain(t).filter(function(e){return e.targetType!==Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference}).each(function(e){return l(e)}),o){var i=[];_.each(s,function(e){e.containsPrimary()||i.push(e)}),_.each(i,function(e){s.splice(s.indexOf(e),1)})}};return d(),{insertReference:function(e,o){if(i[e.id]=e.start,s.length){var n=a(e.start);-1!==n?s.splice.apply(s,[n,0].concat(o.elements())):s.push.apply(s,o.elements())}else s.push.apply(s,o.elements());_.chain(t).filter(function(t){return t.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference&&t.targetId===e.id}).each(function(e){return l(e)})},reset:function(o,n){e=o,t=n,d()},elements:function(){return s},toString:function(){return _.reduce(s,function(e,t){return e+t.toString()+"\n"},"")},firstPrimaryIndex:function(){return _.findIndex(s,function(e){return e.containsPrimary()})},lastPrimaryIndex:function(){return _.findLastIndex(s,function(e){return e.containsPrimary()})}}},function(e){!function(t){!function(t){!function(t){var o=e.Core.Logic.Timeline.StreamReference,n=function(){function e(e){this.streamReferences=[],this.elementLength=e}return e.prototype.streams=function(){return this.streamReferences},e.prototype.length=function(){return this.elementLength},e.prototype.getStreamById=function(e){return _.find(this.streamReferences,function(t){return t.stream.id===e})},e.prototype.containsPrimary=function(){return _.any(this.streamReferences,function(e){return e.stream.isPrimary})},e.prototype.add=function(e,t){this.streamReferences.push(new o(e,t))},e.prototype.remove=function(e){this.streamReferences=_.reject(this.streamReferences,function(t){return t.stream.id===e.id})},e.prototype.clear=function(){this.streamReferences.length=0},e.prototype.split=function(t){var o=new e(this.elementLength-t);return _.each(this.streamReferences,function(e){o.add(e.stream,e.offset+t)}),this.elementLength=t,o},e.prototype.toString=function(){var e=_.reduce(this.streamReferences,function(e,t){return e+t.toString()+" "},"");return length+" "+e},e}();t.TimelineElement=n}(t.Timeline||(t.Timeline={}))}(t.Logic||(t.Logic={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){var t=function(){function e(){}return e.prototype.copyFromQuestionList=function(e){this.id=e.id,this.name=e.name,this.revisionId=e.revisionId,this.sessionId=e.sessionId,this.firstStreamRelativeTicks=e.firstStreamRelativeTicks,this.isSessionPlaybackBlocking=e.isSessionPlaybackBlocking,this.allowRetake=e.allowRetake,this.showFinalGrade=e.showFinalGrade,this.allowReview=e.allowReview,this.questions=e.questions},e}();e.QuestionList=t}(e.Models||(e.Models={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){!function(t){var o=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.copyFromEditableQuestionList=function(e){this.copyFromQuestionList(e),this.isEdited=e.isEdited},o.prototype.toClientModel=function(){var e=new AutoClientModels.QuestionList;return e.allowRetake=this.allowRetake,e.allowReview=this.allowReview,e.id=this.id,e.isSessionPlaybackBlocking=this.isSessionPlaybackBlocking,e.name=this.name,e.questions=this.questions,e.revisionId=this.revisionId,e.showFinalGrade=this.showFinalGrade,e.sessionId=this.sessionId,e.sessionRelativeTime=this.firstStreamRelativeTicks.ticks(),e},o.prototype.copyFromClientModel=function(t){this.allowRetake=t.allowRetake,this.allowReview=t.allowReview,this.id=t.id,this.isSessionPlaybackBlocking=t.isSessionPlaybackBlocking,this.name=t.name,this.questions=t.questions,this.revisionId=t.revisionId,this.showFinalGrade=t.showFinalGrade,this.sessionId=t.sessionId,this.firstStreamRelativeTicks=new e.Core.Logic.Time.FirstStreamRelative(t.sessionRelativeTime)},o}(e.Models.QuestionList);t.EditableQuestionList=o}(t.Editor||(t.Editor={}))}(e.Models||(e.Models={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Access=function(e,t,o){return e.getAccess=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"Access",paramsObj:e},function(e,t,r){n&&n(o.PagingResponse(e,r,o.Access))},r,i)},e.deleteAccess=function(e,n,r,i){t.makeCall(o.HttpMethods.Delete,{serviceName:"Access",id:e},n,r,i)},e.batchDelete=function(e,n){t.makeChunkedDeleteCalls(function(e,n,r,i){t.makeCall(o.HttpMethods.Delete,{serviceName:"Access",paramsObj:{ids:e},path:t.BatchPath},n,r,i)},e,n)},e.createAccess=function(e,n,r,i){t.makeCall(o.HttpMethods.Post,{serviceName:"Access",data:e.toModel()},function(e){n(o.Access(e))},r,i)},e.batchCreate=function(e,n,r,i,s,a){var c={shouldSendEmails:n,content:r};t.makeCall(o.HttpMethods.Post,{serviceName:"Access",path:t.BatchPath,data:_.map(e,function(e){return e.toModel()}),paramsObj:c},function(e){i(Panopto.Core.ServiceInterface.Rest.Objects.BatchResult(e,o.Access))},s,a)},e.readReceiverSuggestions=function(e,n,r,i,s){t.makeCall(o.HttpMethods.Post,{serviceName:"Access",path:"receiverSuggestions",data:e,paramsObj:{pageSize:n}},function(e,t,n){r&&r(_.map(e,function(e){return o[e.TypeName](e)}))},i,s)},e}(Panopto.Core.ServiceInterface.Rest.Access||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.PublicAPI=Panopto.Core.ServiceInterface.PublicAPI||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.AccessManagement=function(e,t,o){return e.getSelfUserAccessDetails=function(e,n,r){t.ajax("AccessManagement","GetSelfUserAccessDetails",{},t.Versions.V42,function(t){e(o.UserAccessDetails(t))},n,r)},e}(Panopto.Core.ServiceInterface.AccessManagement||{},Panopto.Core.ServiceInterface.PublicAPI,Panopto.Core.ServiceInterface.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.AnalyticsIngest=function(e,t){var o=function(e){return PanoptoTS.StringHelpers.format("{0}://{1}{2}/Services/Analytics.svc/{3}",Panopto.Core.ServiceInterface.uriScheme,window.location.host,Panopto.Core.ServiceInterface.baseUrl,e)},n=function(e){return{ID:e.id||0,InvocationID:e.invocationId,PlaybackSpeed:e.playbackSpeed,StreamID:e.streamId,StartPosition:e.startPosition,StartReason:e.startReason,StopReason:e.stopReason,SecondsListened:e.secondsListened,SecondsRejected:e.secondsRejected,TimeStamp:e.timestamp.toWCFString(),ClientTimeStamp:e.timestamp.toWCFString(),UpdatesRejected:e.updatesRejected}};return e.addStreamRequests=function(e,t,r,i,s){var a={streamRequests:_.map(e,n)},c=!1;if(s&&navigator.sendBeacon)try{c=navigator.sendBeacon(o("AddStreamRequests"),new Blob([JSON.stringify(a)],{type:"application/json; charset=utf-8"}))}catch(e){}c||function(e,t,n,r,i,s){var a;window.location.protocol!==Panopto.Core.ServiceInterface.uriScheme&&(a={withCredentials:!0}),$.ajax({type:"POST",url:o(e),contentType:"application/json; charset=utf-8",data:JSON.stringify(t),dataType:"json",success:n,error:r,complete:i,xhrFields:a,async:!s})}("AddStreamRequests",a,t,r,i,!!s)},e}(Panopto.Core.ServiceInterface.AnalyticsIngest||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.WCFRest=Panopto.Core.ServiceInterface.WCFRest||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.WCFRest.AnalyticsReports=function(e,t){var o=PanoptoTS.StringHelpers.format("{0}/Services/",Panopto.appRoot),n="AnalyticsReports.svc";return e.describeReportType=function(e,r,i,s){t.makeCall(Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods.Get,{alternateUrl:o,serviceName:n,path:"DescribeReportType",paramsObj:{reportType:e}},r,i,s)},e.getRecentReports=function(e,r,i,s){var a={alternateUrl:o,serviceName:n};void 0!==e?_.extend(a,{path:"GetRecentReportsByType",paramsObj:{reportType:e}}):_.extend(a,{path:"GetRecentReports"}),t.makeCall(Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods.Get,a,r,i,s)},e.queueReport=function(e,r,i,s){t.makeCall(Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods.Get,{alternateUrl:o,serviceName:n,path:"QueueReport",paramsObj:e},r,i,s)},e.cancelReport=function(e,r,i,s){t.makeCall(Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods.Get,{alternateUrl:o,serviceName:n,path:"CancelReport",paramsObj:e},r,i,s)},e.getRecurringReports=function(e,r,i,s){var a={alternateUrl:o,serviceName:n};void 0!==e?_.extend(a,{path:"GetRecurringReportsByType",paramsObj:{reportType:e}}):_.extend(a,{path:"GetRecurringReports"}),t.makeCall(Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods.Get,a,r,i,s)},e.createRecurringReport=function(e,r,i,s){t.makeCall(Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods.Get,{alternateUrl:o,serviceName:n,path:"CreateRecurringReport",paramsObj:e},r,i,s)},e.deleteRecurringReport=function(e,r,i,s){t.makeCall(Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods.Get,{alternateUrl:o,serviceName:n,path:"DeleteRecurringReport",paramsObj:e},r,i,s)},e}(Panopto.Core.ServiceInterface.WCFRest.AnalyticsReports||{},Panopto.Core.ServiceInterface.Rest.Api),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.PublicAPI=Panopto.Core.ServiceInterface.PublicAPI||{},Panopto.Core.ServiceInterface.Auth=function(e,t){return e.getAuthenticatedUrl=function(e,o,n,r){t.ajax("Auth","GetAuthenticatedUrl",{targetUrl:e},t.Versions.V42,o,n,r)},e}(Panopto.Core.ServiceInterface.Auth||{},Panopto.Core.ServiceInterface.PublicAPI),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.WCFRest=Panopto.Core.ServiceInterface.WCFRest||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.WCFRest.DataCS=function(e,t,o){var n=function(e,n,r,i,s){t.makeCall(o.HttpMethods.Post,{alternateUrl:String.format("{0}/Services/",Panopto.appRoot),serviceName:"Data.svc",path:e,data:n},r,i,s)};return e.getSessions=function(e,t,r,i){n("GetSessions",{queryParameters:e},function(e){t(_.map(e.d.Results,o.Session.fromSessionRow))},r,i)},e.getFolders=function(e,t,r,i){n("GetFolders",{queryParameters:e},function(e){t(_.map(e.d.Results,o.Folder.fromFolderRow))},r,i)},e.submitViewerClientLog=function(e,t,o,r){n("SubmitViewerClientLog",{log:e},function(e){t(e.d)},o,r)},e}(Panopto.Core.ServiceInterface.WCFRest.DataCS||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Departments=function(e,t,o){return e.save=function(e,n,r,i){t.makeCall(e.id?o.HttpMethods.Put:o.HttpMethods.Post,{serviceName:"Departments",data:e.toModel()},function(e){n&&n(o.Department(e))},r,i)},e.delete=function(e,n,r,i){t.makeCall(o.HttpMethods.Delete,{serviceName:"Departments",id:e.id},n,r,i)},e.getOne=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"Departments",id:e},function(e){n&&n(o.Department(e))},r,i)},e.get=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"Departments",paramsObj:e},function(e,t,r){n(o.PagingResponse(e,r,o.Department))},r,i)},e.getAll=function(o,n){t.getAll(function(t,o,n){e.get(t,o,n)},{},o,n)},e}(Panopto.Core.ServiceInterface.Rest.Departments||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.FolderAccessItems=function(e,t,o){var n="FolderAccessItems";return e.getOne=function(e,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:n,id:e},function(e){r&&r(o.FolderAccessItem(e))},i,s)},e.getMany=function(e,r){t.makeChunkedGetCalls(function(e,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:n,paramsObj:{ids:e}},r,i,s)},e,r,o.FolderAccessItem)},e.validateCreate=function(e,r,i,s){t.makeCall(o.HttpMethods.Post,{serviceName:n,data:e.toModel(),paramsObj:{validateOnly:!0}},function(e){r&&r(o.FolderAccessItem(e))},i,s)},e.create=function(e,r,i,s){t.makeCall(o.HttpMethods.Post,{serviceName:n,data:e.toModel()},function(e){r&&r(o.FolderAccessItem(e))},i,s)},e.saveOne=function(e,r,i,s){t.makeCall(o.HttpMethods.Put,{serviceName:n,data:e.toModel()},function(e){r&&r(o.FolderAccessItem(e))},i,s)},e.saveMany=function(e,r,i,s){t.makeCall(o.HttpMethods.Put,{serviceName:n,path:t.BatchPath,data:_.map(e,function(e){return e.toModel()})},function(e){r&&r(Panopto.Core.ServiceInterface.Rest.Objects.BatchResult(e,o.FolderAccessItem))},i,s)},e.saveIsInheritingAccess=function(e,r,i,s,a,c){t.makeCall(o.HttpMethods.Post,{serviceName:n,path:PanoptoTS.StringHelpers.format("{0}/IsInheritingAccess/{1}",e,r),data:_.map(i,function(e){return e.id})},function(e){s&&s(o.FolderAccessItem(e))},a,c)},e}(Panopto.Core.ServiceInterface.Rest.FolderAccessItems||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Sort=Panopto.Core.ServiceInterface.Rest.Sort||{},Panopto.Core.ServiceInterface.Rest.Folders=function(e,t,o,n){return e.Sort={Recent:"RecentlyUsed"},e.getOne=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"Folders",id:e},function(e){n&&n(o.Folder(e))},r,i)},e.getFolders=function(e,n,r,i){var s={serviceName:"Folders",paramsObj:e};t.makeCall(o.HttpMethods.Get,s,function(e,t,r){n&&n(o.PagingResponse(e,r,o.Folder))},r,i)},e.getAllFolders=function(o,n,r){t.getAll(function(t,o,n){e.getFolders(t,o,n)},{},n,r)},e.getMyFolder=function(e,n,r){var i={serviceName:"Folders",path:"myFolder"};t.makeCall(o.HttpMethods.Get,i,function(t){e&&e(o.Folder(t))},n,r)},e.getDefaultFolder=function(e,n,r){var i={serviceName:"Folders",path:"defaultFolder"};t.makeCall(o.HttpMethods.Get,i,function(t){e&&e(t?o.Folder(t):null)},n,r)},e.createPersonalFolder=function(e,n,r,i){var s={serviceName:"Folders",path:PanoptoTS.StringHelpers.format("personal/{0}",e)};t.makeCall(o.HttpMethods.Post,s,function(e){n&&n(o.Folder(e))},r,i)},e.archivePersonalFolder=function(e,n,r,i){var s={serviceName:"Folders",path:PanoptoTS.StringHelpers.format("personal/{0}",e)};t.makeCall(o.HttpMethods.Delete,s,function(e){n&&n(e)},r,i)},e.get=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"Folders",paramsObj:e},function(e,t,r){n(o.PagingResponse(e,r,o.Folder))},r,i)},e.getRecentlyUsed=function(t,o,n,r,i){e.get({pageSize:t,sort:e.Sort.Recent,sortDescending:!0,folderSet:o},n,r,i)},e.setParent=function(e){t.makeCall(o.HttpMethods.Put,{serviceName:"Folders",path:PanoptoTS.StringHelpers.format("{0}/setParent",e.folderId),data:e.parentId},e.onSuccess,e.onFailure,e.onComplete)},e.getSelectedPlaylists=function(n){t.makeCall(o.HttpMethods.Get,{serviceName:"Folders",path:PanoptoTS.StringHelpers.format("{0}/selectedPlaylists",n.folderId),paramsObj:e.createIncludeParamsObj(n.includeItems)},function(e){if(n.onSuccess){var t=_.map(e,o.PlaylistWithItems);n.onSuccess(t)}},n.onFailure,n.onComplete)},e.setSelectedPlaylists=function(e){var n={serviceName:"Folders",path:PanoptoTS.StringHelpers.format("{0}/selectedPlaylists",e.folderId),data:e.playlists};t.makeCall(o.HttpMethods.Put,n,e.onSuccess,e.onFailure,e.onComplete)},e.createIncludeParamsObj=function(e){var t={};return e&&(t={"collections[0].name":"items"}),t},e}(Panopto.Core.ServiceInterface.Rest.Folders||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects,Panopto.Core.ServiceInterface.Rest.Sort),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Groups=function(e,t,o){return e.saveGroup=function(e,n,r,i){e.id?t.makeCall(o.HttpMethods.Put,{serviceName:"Groups",data:e.toModel()},n,r,i):t.makeCall(o.HttpMethods.Post,{serviceName:"Groups",data:e.toModel()},n,r,i)},e.batchSave=function(e,n,r,i,s){t.makeCall(o.HttpMethods.Post,{serviceName:"Groups",path:t.BatchPath,data:_.map(e,function(e){return e.toModel()}),paramsObj:{validateOnly:n}},function(e){r(Panopto.Core.ServiceInterface.Rest.Objects.BatchResult(e,o.Group))},i,s)},e.getGroups=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"Groups",paramsObj:e},function(e,t,r){n(o.PagingResponse(e,r,o.Group))},r,i)},e.addMembers=function(e,n,r,i,s){t.makeCall(o.HttpMethods.Post,{serviceName:"Groups",id:e,path:"members",data:n},function(e){r(Panopto.Core.ServiceInterface.Rest.Objects.BatchResult(e,o.User))},i,s)},e.deleteGroup=function(e,n,r,i){t.makeCall(o.HttpMethods.Delete,{serviceName:"Groups",id:e},n,r,i)},e.deleteGroups=function(e,n){t.makeChunkedDeleteCalls(function(e,n,r,i){t.makeCall(o.HttpMethods.Delete,{serviceName:"Groups",path:t.BatchPath,paramsObj:{ids:e}},n,r,i)},e,n)},e.getGroup=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"Groups",id:e},function(e){n(o.Group(e))},r,i)},e.getGroupMembers=function(e,n,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:"Groups",id:e,path:"members",paramsObj:n},function(e,t,n){r(o.PagingResponse(e,n,o.User))},i,s)},e.removeGroupMember=function(e,n,r,i,s){var a=String.format("{0}/{1}","members",n);t.makeCall(o.HttpMethods.Delete,{serviceName:"Groups",id:e,path:a},r,i,s)},e}(Panopto.Core.ServiceInterface.Rest.Groups||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.MembershipProviders=function(e,t,o){return e.getAllProviders=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"membershipProviders"},function(t){if(n){var r=_.map(t,function(t){return o.MembershipProvider(t,e)});n(r)}},r,i)},e}(Panopto.Core.ServiceInterface.Rest.MembershipProviders||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),function(e){!function(e){var t=function(){function e(){this.ruleGroups=[{Id:123,Name:"Somebody that I used to know",IsEditable:!0,IsDefault:!0,Rules:[{Name:"hello",Value:"10.10.10.10"},{Name:"goodbye",Value:"9.9.9.9"}]},{Id:456,Name:"Why you gotta be so rude?",IsEditable:!0,IsDefault:!1,Rules:[{Name:"",Value:"127.0.0.1"}]},{Id:789,Name:"Is it me you're looking for?",IsEditable:!0,IsDefault:!1,Rules:[{Name:"bhat",Value:"9.9.9.9"},{Name:"khalo",Value:"200.2.1.3"}]}],this.ruleGroup={Id:123456789,Name:"Everybody",IsEditable:!1,IsDefault:!0,Rules:[{Name:"the first rule",Value:"1.0.1.0"},{Name:"the second rule",Value:"2.1.2.1"},{Name:"the third rule",Value:"3.2.1.0"}]}}return e.prototype.getRuleGroups=function(){return this.ruleGroups},e.prototype.getExisting=function(){return this.ruleGroup},e.prototype.getBlank=function(){return{}},e.prototype.update=function(e,t,o,n,r){},e.prototype.updateRuleGroup=function(e){this.ruleGroup.Name=e},e.prototype.delete=function(e,t,o,n){},e.prototype.post=function(e,t){this.ruleGroup.Name=e,this.ruleGroup.Rules.push(t)},e}();e.MockNetworkRuleService=t}(e.ServiceInterface||(e.ServiceInterface={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){var o=function(){function t(){}return t.prototype.getQuotaDetail=function(e,t,o){var n=this;window.setTimeout(function(){t(n.getDetail())},500)},t.prototype.getQuotaSnapshot=function(e,t,o){var n=this;window.setTimeout(function(){t(n.getDetail())},500)},t.prototype.getDetail=function(){return new e.ServiceInterface.Objects.QuotaDetail({CurrentPeriod:{PeriodStartDate:moment(new Date).subtract(6,"day").utc().format(),PeriodEndDate:moment(new Date).add(25,"day").utc().format(),DeliveredSummary:{ModifierSummary:{SumBase:18e4,SumRollover:0,SumReferral:36e3,SumTotal:0},ValueSummary:{SecondsByDay:_.map([0,3,8,11,12,14,70],function(e){return 60*e*60}),SumTotal:252e3,TopSessions:[{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Longest session",TotalSeconds:28800},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Shorter session",TotalSeconds:10800},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Even shorter session",TotalSeconds:7200,SessionWasDeleted:!0},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Even shorter session than the other one",TotalSeconds:2520},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Shortest session",TotalSeconds:.03*60*60}]}},StoredSummary:{ModifierSummary:{SumBase:0,SumRollover:0,SumReferral:0,SumTotal:18e3},ValueSummary:{SecondsByDay:[],SumTotal:21600,TopSessions:[{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Longest session",TotalSeconds:7200},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Shorter session",TotalSeconds:2160},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Even shorter session",TotalSeconds:720},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Even shorter session than the other one",TotalSeconds:360},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Shortest session",TotalSeconds:36}]}}},LastPeriod:{PeriodStartDate:moment(new Date).subtract(35,"day").utc().format(),PeriodEndDate:moment(new Date).subtract(6,"day").utc().format(),DeliveredSummary:{ModifierSummary:{SumBase:18e4,SumRollover:36e3,SumReferral:18e3,SumTotal:0},ValueSummary:{SecondsByDay:_.map([0,1,3,4,6,8,10,11,14,17,18,19,21,23,28,29,31,34,35,37,39,45,47,51,53,54,56,58,59,60],function(e){return 60*e*60}),SumTotal:216e3,TopSessions:[]}},StoredSummary:{ModifierSummary:{SumBase:0,SumRollover:0,SumReferral:0,SumTotal:18e3},ValueSummary:{SecondsByDay:[],SumTotal:10800,TopSessions:[]}}}})},t}();t.MockUserService=o}(e.ServiceInterface||(e.ServiceInterface={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.MultipartUploadManagement=function(e){var t,o=(t=function(e,t){var o,n,r;t([e.status,e.statusText].join(" "),e.responseText?(new DOMParser).parseFromString(e.responseText,"application/xml"):"",(o=e.getAllResponseHeaders(),n={},r=o.split(String.fromCharCode(10)),_.each(r,function(e){var t=e.trim().split(":");t.length>1&&(n[t[0].trim()]=t.slice(1).join(":").trim())}),n))},function(e,o,n,r,i,s){var a=$.ajax({url:o,type:e,data:n,processData:!1,xhr:function(){var e=$.ajaxSettings.xhr();return e.upload&&r&&e.upload.addEventListener("progress",r,!1),e},success:function(e,o,n){i&&t(n,function(e,t,o){i(t,o)})},error:function(e,t,o){s&&"abort"!==t&&s(e,t,o)}});return new Panopto.Core.CancellableRequest(function(){a.abort()})}),n=function(e){return Panopto.Core.StringHelpers.cleanFilename(e,{maxLength:Panopto.Core.Constants.UploadFilenameLengthLimit})};return e.openUpload=function(e,t,r,i){var s=n(t);return o("POST",e+"/"+s,void 0,null,function(e){r(e.getElementsByTagName("UploadId")[0].childNodes[0].nodeValue,e)},i)},e.uploadSlice=function(e,t,r,i,s,a,c){var l=(i-1)*r,u=t.slice(l,l+r),d=new Panopto.Core.CancellableRequest,p=n(t.name),f=new FileReader;return f.onload=function(t){var n=[e,"/",p,"?partNumber=",i].join("");d=o("PUT",n,t.target.result,s,function(e,t){a(u.size,t.ETag)},c)},f.readAsArrayBuffer(u),new Panopto.Core.CancellableRequest(function(){f&&f.readyState===FileReader.LOADING&&f.abort(),d.cancel()})},e.closeUpload=function(e,t,r,i,s,a){for(var c=[e,"/",n(t),"?uploadId=",r].join(""),l=1;l<i.length;l++)i[l]=["<Part><PartNumber>",l,"</PartNumber><ETag>",i[l],"</ETag></Part>"].join("");return o("POST",c,["<CompleteMultipartUpload>",i.join(""),"</CompleteMultipartUpload>"].join(""),null,function(e,t){s(e)},a)},e}(Panopto.Core.ServiceInterface.MultipartUploadManagement||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.MultipartUploadManager=function(e){var t,o,n,r,i,s=(t=s||{},(i=function(){o=0,n=0,r=0})(),t.confidenceThreshold=3,t.getEffectiveByterate=function(){return 1e3*o},t.resetEffectiveByterate=i,t.logTransfer=function(e,t){o=(o*n+e)/(n+t),n+=t,r++},t.predictRemainingSeconds=function(e){return e&&r>=t.confidenceThreshold?e/t.getEffectiveByterate():-1},t);e.fileSliceSize=e.fileSliceSize||5242880;var a={},c=new Panopto.Core.JobQueue({maxDegreeOfParallelism:2}),l=function(t,o,n,r,i,s,a){var l=new Panopto.Core.CancellableRequest;c.queueJob({priority:1,correlationId:t.fileId,attempt:function(a){n(),l=Panopto.Core.ServiceInterface.MultipartUploadManagement.uploadSlice(t.uploadUri,t.file,e.fileSliceSize,o,r,function(e,t){i(e,t),a(!0)},function(){s(),a()})},onFailure:a,onCancel:function(){l.cancel()}})},u=function(e,t,o,n){var r=new Panopto.Core.CancellableRequest;c.queueJob({correlationId:e.fileId,attempt:function(n){r=Panopto.Core.ServiceInterface.MultipartUploadManagement.closeUpload(e.uploadUri,e.file.name,e.uploadId,t,function(){o(e.fileId),n(!0)},function(){n()})},onFailure:n,onCancel:function(){r.cancel()}})};return e.queueUpload=function(t,o,n,r){!function(e,t,o){var n=new Panopto.Core.CancellableRequest;c.queueJob({correlationId:e.fileId,attempt:function(o){n=Panopto.Core.ServiceInterface.MultipartUploadManagement.openUpload(e.uploadUri,"",function(n){e.uploadId=n,t(e),o(!0)},function(){o()})},onFailure:o,onCancel:function(){n.cancel()}})}(t,function(t){a[t.fileId]=t.file.size;for(var i=Math.ceil(t.file.size/e.fileSliceSize),c=0,d=0,p=[],f=1;f<=i;f++)!function(e){var f,h=0;l(t,e,function(){f=new Date},function(e){var n=e.loaded-h;h=e.loaded;var r=+new Date-f;f=new Date,s.logTransfer(n,r),d+=n,a[t.fileId]-=n,o(d)},function(o,s){p[e]=s,++c===i&&u(t,p,function(e){delete a[t.fileId],n(e)},r)},function(){a[t.fileId]+=h,d-=h,h=0,o(d)},r)}(f)},r)},e.upload=function(){c.isRunning()||c.doJobs()},e.cancelUpload=function(e){c.isRunning()&&c.cancelCorrelatedJobs(e)},e.resetTimer=function(){s.resetEffectiveByterate()},e.predictRemainingSeconds=function(e){return Math.round(s.predictRemainingSeconds(a[e])/c.getMaxDegreeOfParallelism())},e.isRunning=function(){return c.isRunning()},e}(Panopto.Core.ServiceInterface.MultipartUploadManager||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.NetworkAccessRuleGroups=function(e,t,o){var n="NetworkAccessRuleGroups";return e.getAll=function(e,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:n,paramsObj:e},function(e,t,n){r&&r(o.PagingResponse(e,n,function(e){return(new AutoClientModels.NetworkAccessRuleGroup).fromRestNetworkAccessRuleGroup(e)}))},i,s)},e.getRuleGroup=function(e,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:n,id:e},function(e){r((new AutoClientModels.NetworkAccessRuleGroup).fromRestNetworkAccessRuleGroup(e))},i,s)},e.saveRuleGroup=function(e,r,i,s){e.id?t.makeCall(o.HttpMethods.Put,{serviceName:n,data:(new AutoRestModels.NetworkAccessRuleGroup).fromClientNetworkAccessRuleGroup(e)},r,i,s):t.makeCall(o.HttpMethods.Post,{serviceName:n,data:(new AutoRestModels.NetworkAccessRuleGroup).fromClientNetworkAccessRuleGroup(e)},function(e){r((new AutoClientModels.NetworkAccessRuleGroup).fromRestNetworkAccessRuleGroup(e))},i,s)},e.setAsDefaultRuleGroup=function(e,r,i,s){t.makeCall(o.HttpMethods.Put,{serviceName:n,id:e},r,i,s)},e.deleteRuleGroup=function(e,r,i,s){t.makeCall(o.HttpMethods.Delete,{serviceName:n,id:e},r,i,s)},e}(Panopto.Core.ServiceInterface.Rest.NetworkAccessRuleGroups||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.OauthClients=function(e,t,o){return e.save=function(e,n,r,i){t.makeCall(e.id?o.HttpMethods.Put:o.HttpMethods.Post,{serviceName:"OauthClient",data:e.toModel()},function(e){n&&n(o.OauthClient(e))},r,i)},e.get=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"OauthClient",paramsObj:e},function(e,t,r){n(o.PagingResponse(e,r,o.OauthClient))},r,i)},e.getAll=function(o,n){t.getAll(function(t,o,n){e.get(t,o,n)},{},o,n)},e.deleteClient=function(e,n,r,i){t.makeCall(o.HttpMethods.Delete,{serviceName:"OauthClient",id:e},n,r,i)},e.generateSecretValue=function(e,n,r){t.makeCall(o.HttpMethods.Get,{serviceName:"OauthClient",path:"generateSecret"},e,n,r)},e}(Panopto.Core.ServiceInterface.Rest.OauthClients||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.OauthClientUris=function(e,t,o){return e.save=function(e,n,r,i){t.makeCall(e.id?o.HttpMethods.Put:o.HttpMethods.Post,{serviceName:"OauthClientUri",data:e.toModel()},function(e){n&&n(o.OauthAllowedUri(e))},r,i)},e.deleteClient=function(e,n,r,i){t.makeCall(o.HttpMethods.Delete,{serviceName:"OauthClientUri",id:e},n,r,i)},e}(Panopto.Core.ServiceInterface.Rest.OauthClientUris||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.OauthScopes=function(e,t,o){return e.save=function(e,n,r,i){t.makeCall(e.id?o.HttpMethods.Put:o.HttpMethods.Post,{serviceName:"OauthScopes",data:e.toModel()},function(e){n&&n(o.OauthAllowedUri(e))},r,i)},e}(Panopto.Core.ServiceInterface.Rest.OauthScopes||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.PlaylistAccessItems=function(e,t,o){return e.create=function(e,n,r,i){t.makeCall(o.HttpMethods.Post,{serviceName:"PlaylistAccessItems",data:e.toModel()},function(e){n&&n(o.PlaylistAccessItem(e))},r,i)},e.getOne=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"PlaylistAccessItems",id:e},function(e){n&&n(o.PlaylistAccessItem(e))},r,i)},e.getMany=function(e,n){t.makeChunkedGetCalls(function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"PlaylistAccessItems",paramsObj:{ids:e}},n,r,i)},e,n,o.PlaylistAccessItem)},e}(Panopto.Core.ServiceInterface.Rest.PlaylistAccessItems||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Playlists=function(e,t,o){return e.create=function(e,n,r,i){t.makeCall(o.HttpMethods.Post,{serviceName:"Playlists",data:e.toModel()},function(e){n&&n(o.Playlist(e))},r,i)},e.getOne=function(e){t.makeCall(o.HttpMethods.Get,{serviceName:"Playlists",id:e.id},function(t){e.onSuccess&&e.onSuccess(o.Playlist(t))},e.onFailure,e.onComplete)},e.getMany=function(e,n){t.makeChunkedGetCalls(function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"Playlists",paramsObj:{ids:e}},n,r,i)},e,n,o.Playlist)},e.update=function(e,n,r,i){t.makeCall(o.HttpMethods.Put,{serviceName:"Playlists",data:e.toModel()},function(e){n(o.Playlist(e))},r,i)},e.deletePlaylist=function(e,n,r,i){t.makeCall(o.HttpMethods.Delete,{serviceName:"Playlists",id:e},n,r,i)},e}(Panopto.Core.ServiceInterface.Rest.Playlists||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.PublicAPI=function(e){return e.Versions={V42:"4.2",V46:"4.6"},e.ajax=function(e,t,o,n,r,i,s){r=r||$.noop,i=i||$.noop,s=s||$.noop;$.ajax({type:"POST",url:PanoptoTS.StringHelpers.format("{0}/PublicAPI/{1}/{2}.svc/json/{3}",Panopto.Core.ServiceInterface.baseUrl,n,e,t),data:JSON.stringify(o),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){r(e.d)},error:i,complete:s,xhrFields:{withCredentials:!0}})},e}(Panopto.Core.ServiceInterface.PublicAPI||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Recorder=function(e,t){var o=function(e,t,o,n){$.ajax({type:"POST",url:PanoptoTS.StringHelpers.format("{0}/Services/Recorder.asmx/{1}",Panopto.Core.ServiceInterface.baseUrl,e),contentType:"application/json; charset=utf-8",data:JSON.stringify(t),dataType:"json",success:function(e){o&&o(e.d)},error:function(e){n&&n(JSON.stringify(e))}})};return t.SessionIdPair=function(e){return{sessionId:e.publicID,deliveryId:e.deliveries[0].PublicID}},e.getDeliveryIdsFromSessionIds=function(e,n,r){o("GetSessions",{sessionIDs:e},function(e){var o=_.map(e,t.SessionIdPair);n(o)},r)},e.getBroadcastData=function(e,n,r,i){o("GetBroadcastData",{sessionPublicID:e,cutoff:n},function(e){r(e.ViewerCount,_.map(e.Questions,t.RecorderQuestion))},i)},e.logout=function(e,t){o("Logout",void 0,e,t)},e.hasWriteAccessToFolder=function(e,t,n){o("GetWriteableSessionGroup",{sessionGroupId:e},t,n)},e.getFirstWriteableFolder=function(e,t){o("GetSessionGroups",void 0,function(t){var o;t&&t.length>0&&(o=t[0].publicID),e&&e(o)},t)},e.addSession=function(e,t,n,r,i){o("AddSession",{sessionGroupID:e,sessionName:t,bBroadcast:n},function(e){if(r){var t=e?e.publicID:null;r(t)}},i)},e}(Panopto.Core.ServiceInterface.Recorder||{},Panopto.Core.ServiceInterface.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.RecorderScheduleEntries=function(e,t,o){return e.save=function(e,n,r,i,s){t.makeCall(e.id?o.HttpMethods.Put:o.HttpMethods.Post,{serviceName:"RecorderScheduleEntries",paramsObj:{resolveConflicts:n},data:e.toModel()},function(e){r&&r(o.recorderScheduleEntry(e))},i,s)},e.getRecorderScheduleEntries=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"RecorderScheduleEntries",paramsObj:e},function(e){n&&n(_.map(e,o.recorderScheduleEntry))},r,i)},e}(Panopto.Core.ServiceInterface.Rest.RecorderScheduleEntries||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.PublicAPI=Panopto.Core.ServiceInterface.PublicAPI||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.RemoteRecorderManagement=function(e,t,o){return e.getRemoteRecorders=function(e,n,r,i){t.ajax("RemoteRecorderManagement","GetRemoteRecordersById",{remoteRecorderIds:e},t.Versions.V42,function(e){n(_.map(e,o.RemoteRecorder))},r,i)},e.getRemoteRecorder=function(t,o,n,r){e.getRemoteRecorders([t],function(e){o(e[0])},n,r)},e}(Panopto.Core.ServiceInterface.RemoteRecorderManagement||{},Panopto.Core.ServiceInterface.PublicAPI,Panopto.Core.ServiceInterface.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.RemoteRecorders=function(e,t,o){return e.getSuggestions=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"remoteRecorders",paramsObj:{query:e}},function(e){n(_.map(e,o.RemoteRecorder))},r,i)},e.updateTimeZone=function(e,n,r,i){t.makeCall(o.HttpMethods.Put,{serviceName:"remoteRecorders",data:e.toModel()},function(e){n&&n(o.RemoteRecorder(e))},r,i)},e.updateLastAccessed=function(e,n,r,i){t.makeCall(o.HttpMethods.Post,{serviceName:"remoteRecorders",id:e,path:"updatelastaccessed"},n,r,i)},e.getRemoteRecorders=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{paramsObj:e,serviceName:"remoteRecorders"},function(e,t,r){n(o.PagingResponse(e,r,o.RemoteRecorder))},r,i)},e.getRemoteRecorder=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"remoteRecorders",id:e},function(e){n(o.RemoteRecorder(e))},r,i)},e}(Panopto.Core.ServiceInterface.Rest.RemoteRecorders||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.PublicAPI=Panopto.Core.ServiceInterface.PublicAPI||{},Panopto.Core.ServiceInterface.PublicAPI.Services=function(e){var t=function(e,t,o,n,r,i){$.ajax({url:t,type:e,headers:o,data:n,contentType:"application/json; charset=utf-8",success:function(e,t,o){r&&r(e,o)},error:function(e,t,o){i&&i(e,t,o)}})},o=function(e){return _.map(e,function(e){return e.State=Panopto.Core.ServiceInterface.Objects.SessionState[e.State],new Panopto.Core.ServiceInterface.Objects.Session(e)})};return e.getSessions=function(e,n,r,i){t("GET",PanoptoTS.StringHelpers.format("{0}/PublicAPI/4.1/Sessions?id={1}&fields={2}",Panopto.Core.ServiceInterface.baseUrl,e.join(","),n.join(",")),{Pragma:"no-cache"},null,function(e,t){var n=o(e);r(n,t)},i)},e.getSessionsMany=function(e,n,r,i){t("POST",PanoptoTS.StringHelpers.format("{0}/PublicAPI/4.1/SessionsMany?fields={1}",Panopto.Core.ServiceInterface.baseUrl,n.join(",")),{Pragma:"no-cache"},JSON.stringify({ids:e}),function(e,t){var n=o(e);r(n,t)},i)},e}(Panopto.Core.ServiceInterface.PublicAPI.Services||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.SessionAccessItems=function(e,t,o){return e.create=function(e,n,r,i){t.makeCall(o.HttpMethods.Post,{serviceName:"SessionAccessItems",data:e.toModel()},function(e){n&&n(o.SessionAccessItem(e))},r,i)},e.getOne=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"SessionAccessItems",id:e},function(e){n&&n(o.SessionAccessItem(e))},r,i)},e.getMany=function(e,n){t.makeChunkedGetCalls(function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"SessionAccessItems",paramsObj:{ids:e}},n,r,i)},e,n,o.SessionAccessItem)},e}(Panopto.Core.ServiceInterface.Rest.SessionAccessItems||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.SessionChangeSets=function(e,t,o){var n="SessionChangeSets";return e.get=function(e,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:n,paramsObj:{sessionId:e,isCommitted:!1}},function(e,t,n){r&&r(o.PagingResponse(e,n,o.SessionChangeSet))},i,s)},e.save=function(e,r,i,s){t.makeCall(e.id?o.HttpMethods.Put:o.HttpMethods.Post,{serviceName:n,data:e.toModel()},function(e){r&&r(o.SessionChangeSet(e))},i,s)},e.deleteChangeSet=function(e,r,i,s,a){t.makeCall(o.HttpMethods.Delete,{serviceName:n,id:e},r,i,s,a)},e.commitChanges=function(e,r,i,s){t.makeCall(o.HttpMethods.Post,{serviceName:n,id:e.id,data:e.toModel(),path:"commitChanges"},function(e){r&&r(o.SessionChangeSet(e))},i,s)},e.updateOwner=function(e,r,i,s,a){t.makeCall(o.HttpMethods.Post,{serviceName:n,id:e,path:"updateOwner",data:{ownerId:r}},function(e){i&&i(o.SessionChangeSet(e))},s,a)},e}(Panopto.Core.ServiceInterface.Rest.SessionChangeSets||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.SessionLists=function(e,t,o){return e.HomePageListId="homePage",e.UnpublishedHomePageListId="homePageUnpublished",e.create=function(e,n,r,i){var s={serviceName:"SessionLists",data:o.SessionList({specialType:e}).toModel()};t.makeCall(o.HttpMethods.Post,s,function(e){n&&n(o.SessionList(e))},r,i)},e.getOne=function(n,r,i,s,a){var c=r.includeEmbedViewableOnly,l=r.includeViewableOnly||r.includeItems&&n===e.HomePageListId,u=r.includeItems&&!l&&!c,d={serviceName:"SessionLists",id:n,paramsObj:e.createIncludeParamsObj(u,l,c,r.includeBuiltInGroupAccess)};t.makeCall(o.HttpMethods.Get,d,function(e){i&&i(o.SessionList(e))},s,a)},e.getSessionLists=function(e,n,r,i){var s={serviceName:"SessionLists",paramsObj:e};t.makeCall(o.HttpMethods.Get,s,function(e){n&&n(_.map(e,o.SessionList))},r,i)},e.update=function(e,n,r,i){var s={serviceName:"SessionLists",id:e.id,data:e.toModel()};t.makeCall(o.HttpMethods.Put,s,function(e){n&&n(o.SessionList(e))},r,i)},e.copyTo=function(n,r,i,s,a,c){var l=e.createUpdateDateOptions(i);l.id=n,l.paramsObj.sourceId=r,t.makeCall(o.HttpMethods.Put,l,function(e){s&&s(o.SessionList(e))},a,c)},e.getItems=function(n,r,i,s,a){var c={serviceName:"SessionLists",id:n,path:PanoptoTS.StringHelpers.format("items/{0}",""),paramsObj:e.createIncludeParamsObj(!0,!1,!1,r.includeBuiltInGroupAccess)};c.paramsObj.PageSize=r.pageSize,t.makeCall(o.HttpMethods.Get,c,function(e){i&&i(_.map(e,o.Session))},s,a)},e.insertItem=function(n,r,i,s,a,c,l){var u=e.createUpdateDateOptions(r);u.id=n,u.path=PanoptoTS.StringHelpers.format("items/{0}",s),u.data=i.toModel(),t.makeCall(o.HttpMethods.Put,u,function(e){a&&a(moment.utc(e).toDate())},c,l)},e.moveItem=function(n,r,i,s,a,c,l){var u=e.createUpdateDateOptions(r);u.id=n,u.path=PanoptoTS.StringHelpers.format("items/{0}",i),u.paramsObj.destinationIndex=s,t.makeCall(o.HttpMethods.Put,u,function(e){a&&a(moment.utc(e).toDate())},c,l)},e.deleteItem=function(n,r,i,s,a,c){var l=e.createUpdateDateOptions(r);l.id=n,l.path=PanoptoTS.StringHelpers.format("items/{0}",i),t.makeCall(o.HttpMethods.Delete,l,function(e){s&&s(moment.utc(e).toDate())},a,c)},e.createUpdateDateOptions=function(e){var t=moment(e),o={};return o[Panopto.Core.ServiceInterface.Rest.Api.IfUnmodifiedSince]=t.toISOString(),{serviceName:"SessionLists",headers:o,paramsObj:{updateDate:t.toISOString()}}},e.createIncludeParamsObj=function(e,t,o,n){var r={};return e?r={"collections[0].maxCount":500,"collections[0].name":"items"}:t?r={"collections[0].maxCount":500,"collections[0].name":"ViewableItemsOnly"}:o&&(r={"collections[0].maxCount":500,"collections[0].name":"EmbedViewableItemsOnly"}),(e||t||o)&&n&&(r["names[0]"]="Items.BuiltInGroupAccess"),r},e.GetItemsWithAccessIssues=function(e){var n={serviceName:"SessionLists",id:e.id,path:"GetItemsWithAccessIssues"};t.makeCall(o.HttpMethods.Get,n,function(t){e.onSuccess&&e.onSuccess(_.map(t,o.Access))},e.onFailure||$.noop,e.onComplete||$.noop)},e.FixAccessIssues=function(e){var n={serviceName:"SessionLists",id:e.id,path:"FixItemsWithAccessIssues"};t.makeCall(o.HttpMethods.Put,n,function(t){e.onSuccess&&e.onSuccess(t)},e.onFailure,e.onComplete)},e}(Panopto.Core.ServiceInterface.Rest.SessionLists||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.PublicAPI=Panopto.Core.ServiceInterface.PublicAPI||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.SessionManagement=function(e,t,o){var n="SessionManagement";return e.addSession=function(e,r,i,s,a,c){t.ajax(n,"AddSession",{name:e,folderId:r,isBroadcast:i},t.Versions.V42,function(e){s(o.Session(e))},a,c)},e.deleteSessions=function(e,o,r,i){t.ajax(n,"DeleteSessions",{sessionIds:e},t.Versions.V42,o,r,i)},e.deleteSession=function(t,o,n,r){e.deleteSessions([t],o,n,r)},e.updateSessionName=function(e,o,r,i,s){t.ajax(n,"UpdateSessionName",{sessionId:e,name:o},t.Versions.V42,r,i,s)},e.updateSessionDescription=function(e,o,r,i,s){t.ajax(n,"UpdateSessionDescription",{sessionId:e,description:o},t.Versions.V42,r,i,s)},e.moveSessions=function(e,o,r,i,s){t.ajax(n,"MoveSessions",{sessionIds:e,folderId:o},t.Versions.V42,r,i,s)},e.moveSession=function(t,o,n,r,i){e.moveSessions([t],o,n,r,i)},e.getSessions=function(e,r,i,s){t.ajax(n,"GetSessionsById",{sessionIds:e},t.Versions.V42,function(e){r(_.map(e,o.Session))},i,s)},e.getSession=function(t,o,n,r){e.getSessions([t],function(e){o(e[0])},n,r)},e.addFolder=function(e,r,i,s,a,c){t.ajax(n,"AddFolder",{name:e,parentFolder:r,isPublic:i},t.Versions.V42,function(e){s(o.Folder(e))},a,c)},e.getFoldersList=function(e,r,i,s,a){t.ajax(n,"GetFoldersList",{request:e,searchQuery:r},t.Versions.V42,function(e){i(_.map(e.Results,o.Folder),e.TotalNumberResults)},s,a)},e.getCreatorFoldersList=function(e,r,i,s,a){t.ajax(n,"GetCreatorFoldersList",{request:e,searchQuery:r},t.Versions.V46,function(e){i(_.map(e.Results,o.Folder),e.TotalNumberResults)},s,a)},e.getFoldersById=function(e,r,i,s){t.ajax(n,"GetFoldersById",{folderIds:e},t.Versions.V42,function(e){r(_.map(e,o.Folder))},i,s)},e}(Panopto.Core.ServiceInterface.SessionManagement||{},Panopto.Core.ServiceInterface.PublicAPI,Panopto.Core.ServiceInterface.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.SessionReferences=function(e,t,o){return e.get=function(e,n,r,i){var s={serviceName:"sessionReferences",paramsObj:e};t.makeCall(o.HttpMethods.Get,s,function(e,t,r){n&&n(o.PagingResponse(e,r,function(e){return new PanoptoTS.Core.ServiceInterface.Rest.Objects.SessionReference(e)}))},r,i)},e}(Panopto.Core.ServiceInterface.Rest.SessionReferences||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Sessions=function(e,t,o){return e.create=function(e,n,r,i){t.makeCall(o.HttpMethods.Post,{serviceName:"Sessions",data:e.toModel()},function(e){n&&n(o.Session(e))},r,i)},e.getOne=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"Sessions",id:e},function(e){n&&n(o.Session(e))},r,i)},e.getMany=function(e,n){t.makeChunkedGetCalls(function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"Sessions",paramsObj:{ids:e}},n,r,i)},e,n,o.Session)},e.update=function(e,n,r,i){t.makeCall(o.HttpMethods.Put,{serviceName:"Sessions",data:e.toModel()},function(e){n(o.Session(e))},r,i)},e.getStreams=function(e,n,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:"Sessions",id:e,path:"streams",paramsObj:n},function(e,t,n){r(o.PagingResponse(e,n,o.Stream))},i,s)},e.getAllStreams=function(o,n,r){t.getAll(function(t,n,r){e.getStreams(o,t,n,r)},{},n,r)},e.getCuts=function(e,n,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:"Sessions",id:e,path:"cuts",paramsObj:n},function(e,t,n){r(o.PagingResponse(e,n,o.Cut))},i,s)},e.getAllCuts=function(o,n,r){t.getAll(function(t,n,r){e.getCuts(o,t,n,r)},{},n,r)},e.getEvents=function(e,n,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:"Sessions",id:e,path:"events",paramsObj:n},function(e,t,n){r(o.PagingResponse(e,n,o.Event))},i,s)},e.getAllEvents=function(o,n,r,i){t.getAll(function(t,n,r){e.getEvents(o,t,n,r)},n,r,i)},e.getCaptions=function(e,n,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:"Sessions",id:e,path:"captions",paramsObj:n},function(e,t,n){r(o.PagingResponse(e,n,o.Event))},i,s)},e.getAllCaptions=function(o,n,r,i){t.getAll(function(t,n,r){e.getCaptions(o,t,n,r)},n,r,i)},e.getSlideEvents=function(e,n,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:"Sessions",id:e,path:"slideEvents",paramsObj:n},function(e,t,n){r(o.PagingResponse(e,n,o.Event))},i,s)},e.getAllSlideEvents=function(o,n,r,i){t.getAll(function(t,n,r){e.getSlideEvents(o,t,n,r)},n,r,i)},e.getSlideDecks=function(e,n,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:"Sessions",id:e,path:"slideDecks",paramsObj:n},function(e,t,n){r(o.PagingResponse(e,n,o.SlideDeck))},i,s)},e.getAllSlideDecks=function(o,n,r){t.getAll(function(t,n,r){e.getSlideDecks(o,t,n,r)},{},n,r)},e.getQuestionLists=function(e,n,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:"Sessions",id:e,path:"questionLists",paramsObj:n},function(e,t,n){r(o.PagingResponse(e,n,function(e){var t=new AutoClientModels.QuestionList;return t.fromRestQuestionList(e),t}))},i,s)},e.getAllQuestionLists=function(o,n,r){t.getAll(function(t,n,r){e.getQuestionLists(o,t,n,r)},{},n,r)},e.deleteSession=function(e,n,r,i){t.makeCall(o.HttpMethods.Delete,{serviceName:"Sessions",id:e},n,r,i)},e.batchUpdate=function(e,n,r,i){var s=_.map(e,function(e){return Panopto.Core.ServiceInterface.Rest.Objects.Session.fromSessionRow(e)});t.makeCall(o.HttpMethods.Put,{serviceName:"Sessions",data:s,path:"batch"},function(e){n(Panopto.Core.ServiceInterface.Rest.Objects.BatchResult(e,o.Session))},r,i)},e.batchErase=function(e,n,r,i){var s=_.map(e,function(e){return e.DeliveryID});t.makeCall(o.HttpMethods.Delete,{serviceName:"Sessions",data:s,path:"batchErase"},n,r,i)},e.batchRestore=function(e,n,r,i){var s=_.map(e,function(e){return e.DeliveryID});t.makeCall(o.HttpMethods.Put,{serviceName:"Sessions",data:s,path:"batchRestore"},n,r,i)},e}(Panopto.Core.ServiceInterface.Rest.Sessions||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.SessionUploadManagement=function(e){var t=function(e,t,o,n,r,i){var s=$.ajax({url:t,type:e,data:JSON.stringify(n),headers:o,cache:!1,processData:!1,success:function(e,t,o){r&&r(e,o)},error:function(e,t,o){i&&"abort"!==t&&i(e,t,o)}});return new Panopto.Core.CancellableRequest(function(){s.abort()})},o="http://localhost",n="/Panopto/PublicAPI/REST/",r={"Accept-Language":"en-US,en;q=0.8,zh-CN;q=0.6,zh;q=0.4,fr;q=0.2,ko;q=0.2,es;q=0.2",Accept:"application/json, text/javascript, */*; q=0.01","Content-Type":"application/json; charset=utf-8","Cache-Control":"no-cache"};return e.setHost=function(e){o=e},e.openUpload=function(e,i,s){var a={SessionID:e.sessionId,UploadTarget:e.filename,StreamStartTime:"object"==typeof e.startTime&&null!==e.startTime?["/Date(",e.startTime.getTime(),")/"].join(""):null,UserFilename:e.filename};return e.streamType&&(a.StreamType=e.streamType),t("POST",[o,n,"upload?accessPoint=","17"].join(""),r,a,i,s)},e.closeUpload=function(e,i,s){var a=_.extend(e,{State:Panopto.Core.UploadStatus.UploadComplete});return t("PUT",[o,n,"upload/",e.ID].join(""),r,a,i,s)},e.getUpload=function(e,i,s){return t("GET",[o,n,"upload/",e].join(""),r,"",i,s)},e.deleteUpload=function(e,i,s){return t("DELETE",[o,n,"upload/",e].join(""),r,"",i,s)},e.getUploads=function(e,i,s){return t("GET",[o,n,"session/",e,"/uploads"].join(""),r,"",i,s)},e}(Panopto.Core.ServiceInterface.SessionUploadManagement||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.SharingConnections=function(e,t,o){return e.get=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"sharingConnections",paramsObj:e},function(e,t,r){n&&n(o.PagingResponse(e,r,function(e){return(new AutoClientModels.SharingConnection).fromRestSharingConnection(e)}))},r,i)},e.update=function(e,n,r,i){t.makeCall(o.HttpMethods.Put,{serviceName:"sharingConnections",data:(new AutoRestModels.SharingConnection).fromClientSharingConnection(e)},function(e){n((new AutoClientModels.SharingConnection).fromRestSharingConnection(e))},r,i)},e.delete=function(e,n,r,i){t.makeCall(o.HttpMethods.Delete,{serviceName:"sharingConnections",id:e},n,r,i)},e}(Panopto.Core.ServiceInterface.Rest.SharingConnections||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.SlideDecks=function(e,t,o){return e.getSlides=function(e,n,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:"SlideDecks",id:e,path:"slides",paramsObj:n},function(e,t,n){r(o.PagingResponse(e,n,o.Slide))},i,s)},e.getAllSlides=function(o,n,r){t.getAll(function(t,n,r){e.getSlides(o,t,n,r)},{},n,r)},e}(Panopto.Core.ServiceInterface.Rest.SlideDecks||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Streams=function(e,t,o){return e.getHistogram=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"Streams",id:e,path:"histogram"},n,r,i)},e}(Panopto.Core.ServiceInterface.Rest.Streams||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.TranscriptionProviderInstances=function(e,t,o){var n="TranscriptionProviderInstances";return e.save=function(e,r,i,s){t.makeCall(e.id?o.HttpMethods.Put:o.HttpMethods.Post,{serviceName:n,data:e.toModel()},function(e){r&&r(o.TranscriptionProviderInstance(e))},i,s)},e.getOne=function(e,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:n,id:e},function(e){r&&r(o.TranscriptionProviderInstance(e))},i,s)},e.get=function(e,r,i,s){t.makeCall(o.HttpMethods.Get,{serviceName:n,paramsObj:e},function(e,t,n){r(o.PagingResponse(e,n,o.TranscriptionProviderInstance))},i,s)},e.getAll=function(o,n){t.getAll(function(t,o,n){e.get(t,o,n)},{},o,n)},e}(Panopto.Core.ServiceInterface.Rest.TranscriptionProviderInstances||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.TranscriptionProviders=function(e,t,o){return e.get=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"TranscriptionProviders",paramsObj:e},function(e,t,r){n(o.PagingResponse(e,r,o.TranscriptionProvider))},r,i)},e.getAll=function(o,n){t.getAll(function(t,o,n){e.get(t,o,n)},{},o,n)},e}(Panopto.Core.ServiceInterface.Rest.TranscriptionProviders||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.PublicAPI=Panopto.Core.ServiceInterface.PublicAPI||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.UserManagement=function(e,t,o){return e.getUsers=function(e,n,r,i){t.ajax("UserManagement","GetUsers",{userIds:e},t.Versions.V42,function(e){n(_.map(e,o.User))},r,i)},e.getUser=function(t,o,n,r){e.getUsers([t],function(e){o(e[0])},n,r)},e}(Panopto.Core.ServiceInterface.UserManagement||{},Panopto.Core.ServiceInterface.PublicAPI,Panopto.Core.ServiceInterface.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Users=function(e,t,o){return e.getSuggestions=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"Users",path:"suggestions",paramsObj:e},function(e){n(_.map(e,Panopto.Core.ServiceInterface.Rest.Objects.User))},r)},e.getUser=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"Users",id:e},function(e){n(o.User(e))},r,i)},e.changeForgottonPassword=function(e,n,r,i,s){t.makeCall(o.HttpMethods.Post,{serviceName:"Users",id:e,path:"passwordReset",data:n},r,i,s)},e.getQuotaDetail=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"Users",id:e,path:"quota/detail"},function(e){n(new PanoptoTS.ServiceInterface.Objects.QuotaDetail(e))},r,i)},e.getQuotaSnapshot=function(e,n,r,i){t.makeCall(o.HttpMethods.Get,{serviceName:"Users",id:e,path:"quota/snapshot"},function(e){n(new PanoptoTS.ServiceInterface.Objects.QuotaDetail(e))},r,i)},e.subscribeToPro=function(e,n,r,i){t.makeCall(o.HttpMethods.Post,{serviceName:"Users",path:"fft/subscribeToPro",data:e},function(e){n(e)},r,i)},e.updateProBillingInfo=function(e,n,r,i){t.makeCall(o.HttpMethods.Post,{serviceName:"Users",path:"fft/updateBillingData",data:e},function(e){n(e)},r,i)},e.getRecurlySummary=function(e,n,r){t.makeCall(o.HttpMethods.Get,{serviceName:"Users",path:"fft/getRecurlySummary"},function(t){e(t)},n,r)},e.joinGroups=function(e,t,o,n,r){var i=t.length,s=!1;_.each(t,function(t){Panopto.Core.ServiceInterface.Rest.Groups.addMembers(t.id,[e],$.noop,function(){s=!0},function(){--i||(s?n&&n():o&&o(),r&&r())})})},e}(Panopto.Core.ServiceInterface.Rest.Users||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Access=function(e){var t={};return t.id=e.id||e.Id,t.isEditable=e.isEditable||e.IsEditable,t.name=e.name||e.Name,t.role="number"==typeof e.role?e.role:e.Role,t.item=e.item||(e.Item?Panopto.Core.ServiceInterface.Rest.Objects[e.Item.TypeName](e.Item):null),t.receiver=e.receiver||(e.Receiver?Panopto.Core.ServiceInterface.Rest.Objects[e.Receiver.TypeName](e.Receiver):null),t.isInherited=e.isInherited||e.IsInherited,t.typeName=e.typeName||e.TypeName,t.toModel=function(){return{Id:t.id,Name:t.name,Role:t.role,Item:t.item.toModel(),Receiver:t.receiver.toModel(),TypeName:t.typeName}},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.AccessItem=function(e){var t,o,n;return{builtInGroupAccess:e.BuiltInGroupAccess?Panopto.Core.ServiceInterface.Rest.Objects.Access(e.BuiltInGroupAccess):null,builtInGroupShareOptions:_.map(e.BuiltInGroupShareOptions,Panopto.Core.ServiceInterface.Rest.Objects.Access),parent:e.Parent?Panopto.Core.ServiceInterface.Rest.Objects.Folder(e.Parent):null,isInheritingAccess:e.IsInheritingAccess,inheritableAncestor:e.InheritableAncestor?Panopto.Core.ServiceInterface.Rest.Objects.FolderAccessItem(e.InheritableAncestor):null,accessRoleTypes:(t=e.AccessRoleTypes,o={},n=_.values(Panopto.Core.AccessRoleType),_.each(n,function(e){o[e]=!1}),_.each(t,function(e){o[n[e-1]]=!0}),o)}},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Objects.ApprovalActionType=function(e){return e.Request=0,e.Cancel=1,e.Clear=2,e.Approve=3,e.Reject=4,e}(Panopto.Core.ServiceInterface.Objects.ApprovalActionType||{}),Panopto.Core.ServiceInterface.Objects.ApprovalResult=function(e){return e.Success=0,e.NoAccess=1,e.ApprovalsDisabledForFolder=2,e.InvalidTransition=3,e.ApprovalStateChanged=4,e.NoPrimaryStream=5,e.UnknownError=6,e}(Panopto.Core.ServiceInterface.Objects.ApprovalResult||{}),Panopto.Core.ServiceInterface.Objects.ApprovalState=function(e){var t=Panopto.Core.ServiceInterface.Objects.ApprovalActionType;return{actionId:e.ApprovalActionId,actionType:"number"==typeof e.ApprovalActionType&&e.ApprovalActionType!==t.Clear?e.ApprovalActionType:t.Cancel,message:e.Message,username:e.Username,isPublisherAction:e.IsPublisherAction,date:e.ActionDate?moment.utc(e.ActionDate).toDate():new Date,availableActions:e.AvailableActions||[],result:e.Status}},Panopto.Core.ServiceInterface.Objects.ApprovalRequest=function(e,t,o,n){var r={};return r.deliveryId=e,void 0!==o&&(r.currentApprovalState=t,r.approvalAction=o,r.message=n),r},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Objects.BatchOperationsResults=function(e){return{itemFailedCount:e.ItemFailedCount,itemResults:_.map(e.ItemResults,function(e){return Panopto.Core.ServiceInterface.Objects.BatchOperationsResult(e)})}},Panopto.Core.ServiceInterface.Objects.BatchOperationsResult=function(e){return{deliveryId:e.DeliveryID,description:e.Description,message:e.Message,newSessionID:e.NewSessionID,succeeded:e.Succeeded}},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Cut=function(e){var t={};return t.id=e.Id||e.id||_.uniqueId("cut"),t.targetType=e.TargetType||e.targetType,t.targetId=e.TargetId||e.targetId,t.start="number"==typeof e.Start?e.Start:e.start,t.duration="number"==typeof e.Duration?e.Duration:e.duration,t.toModel=function(){return{Id:t.id,TargetType:t.targetType,TargetId:t.targetId,Start:t.start,Duration:t.duration}},t.copy=function(){return Panopto.Core.ServiceInterface.Rest.Objects.Cut(t)},t.end=function(){return t.start+t.duration},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Department=function(e){var t={};return t.id=e.Id||e.id,t.name=e.Name||e.name,t.folderId=e.FolderId||e.folderId,t.webLogoUrl=e.WebLogoUrl||e.webLogoUrl,t.toModel=function(){return{Id:t.id,Name:t.name,FolderId:t.folderId,WebLogoUrl:t.webLogoUrl}},t.copy=function(){return Panopto.Core.ServiceInterface.Rest.Objects.Department(t)},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Event=function(e){var t={},o=window.location.protocol+"//",n=/^.*?:\/\//;return t.id=e.Id||e.id||_.uniqueId("event"),t.name=e.Name||e.name,t.sessionId=e.SessionId||e.sessionId,t.streamId=e.StreamId||e.streamId,t.type="number"==typeof e.Type?e.Type:e.type,t.metadata=e.Metadata||e.metadata,t.timelineTime="number"==typeof e.TimelineTime?e.TimelineTime:e.timelineTime,t.creationTime="number"==typeof e.CreationTime?e.CreationTime:e.creationTime,t.relativeTime="number"==typeof e.RelativeTime?e.RelativeTime:e.relativeTime,t.channel=e.Channel||e.channel,t.creator=e.Creator?Panopto.Core.ServiceInterface.Rest.Objects.User(e.Creator):e.creator,t.thumbnailUrl=e.ThumbnailUrl||e.thumbnailUrl,t.link=e.Link||e.link,t.slideUrl=e.SlideUrl||e.slideUrl,t.isDefaultThumbnail=e.IsDefaultThumbnail||e.isDefaultThumbnail,t.slideId=e.SlideId||e.slideId,t.slideDeckId=e.SlideDeckId||e.slideDeckId,t.forceShow=e.forceShow,t.link=t.link?o+t.link.replace(n,""):t.link,t.toModel=function(){var e=t.link?t.link.replace(n,""):t.link;return{Id:t.id,Name:t.name,SessionId:t.sessionId,StreamId:t.streamId,Type:t.type,Metadata:t.metadata,TimelineTime:t.timelineTime,RelativeTime:t.relativeTime,Channel:t.channel,Link:e,IsDefaultThumbnail:t.isDefaultThumbnail,ThumbnailUrl:t.thumbnailUrl,SlideUrl:t.slideUrl,SlideId:t.slideId,SlideDeckId:t.slideDeckId}},t.copy=function(){return Panopto.Core.ServiceInterface.Rest.Objects.Event(t)},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Objects.Folder=function(e){return{id:e.Id,name:e.Name,description:e.Description,childFolders:e.ChildFolders,parentFolder:e.ParentFolder,isPublic:e.IsPublic,sessions:e.Sessions,presenters:e.Presenters}},Panopto.Core.ServiceInterface.Objects.ListFoldersRequest=function(e){return{Pagination:{MaxNumberResults:e.maxResults,PageNumber:e.pageNumber},SortBy:e.sortBy,SortIncreasing:e.sortIncreasing,ParentFolderId:e.parentFolderId,PublicOnly:e.publicOnly,WildcardSearchNameOnly:e.wildcardSearchNameOnly}},Panopto.Core.ServiceInterface.Rest.Objects.Folder=function(e){var t={id:e.Id,name:e.Name,isEditable:e.IsEditable,isDropbox:e.IsDropbox,folderType:e.FolderType,parent:e.Parent?Panopto.Core.ServiceInterface.Rest.Objects.Folder(e.Parent):null,userCanCreateFolders:e.UserCanCreateFolders,userCanCreateSessions:e.UserCanCreateSessions,isEnumerable:e.IsEnumerable,hasAccessibleChildren:e.HasAccessibleChildren,typeName:e.TypeName,sessionCount:e.SessionCount,isDepartment:e.IsDepartment,departmentId:e.DepartmentId,userCanManageDepartmentSettings:e.UserCanManageDepartmentSettings,toModel:function(){return{Id:t.id,Name:t.name,Parent:t.parent?t.parent.toModel():null,TypeName:t.typeName}}};return t},Panopto.Core.ServiceInterface.Rest.Objects.Folder.fromFolderRow=function(e){var t=Panopto.Core.ServiceInterface.Rest.Objects.Folder({Id:e.ID,Name:Panopto.Core.TextHelpers.cleanTextWithoutHighlighting(e.Name),FolderType:e.FolderType,IsDropbox:e.IsDropbox,TypeName:Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Folder});return e.ParentFolderId&&(t.parent=Panopto.Core.ServiceInterface.Rest.Objects.Folder({Id:e.ParentFolderId,Name:Panopto.Core.TextHelpers.cleanTextWithoutHighlighting(e.ParentFolderName),TypeName:Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Folder})),t},Panopto.Core.ServiceInterface.Rest.Objects.Folder.SortOrder=function(e){e.Name=0,e.Depth=1,e.RecentlyUsed=2;var t=_.invert(e);return e.getName=function(e){return t[e]},e}(Panopto.Core.ServiceInterface.Rest.Objects.Folder.SortOrder||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.FolderAccessItem=function(e){var t=Panopto.Core.ServiceInterface.Rest.Objects.AccessItem(e);return t.id=e.Id,t.name=e.Name,t.isApprovalRequired=e.IsApprovalRequired,t.arePublishersEditable=e.ArePublishersEditable,t.typeName=e.TypeName,t.isDropbox=e.IsDropbox,t.embedViewTag=e.EmbedViewTag,t.viewUri=e.ViewUri,t.inheritingDescendants=_.map(e.InheritingDescendants,Panopto.Core.ServiceInterface.Rest.Objects.Folder),t.isEditable=e.IsEditable,t.folderType=e.FolderType,t.toModel=function(){return{Id:t.id,Name:t.name,Parent:t.parent?t.parent.toModel():null,IsInheritingAccess:t.isInheritingAccess,IsApprovalRequired:t.isApprovalRequired,TypeName:t.typeName}},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.FolderFilter=function(e){var t={};return _.each(["parentId","folderSet","searchTerm","includeMyFolder","includePersonalFolders"],function(o){_.isUndefined(e[o])||(t[o]=e[o])}),t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Group=function(e){var t={};return t.externalId=e.externalId||e.ExternalId,t.id=e.id||e.Id,t.isPrivate=e.isPrivate||e.IsPrivate,t.memberCount="number"==typeof e.memberCount?e.memberCount:e.MemberCount,t.name=e.name||e.Name,t.ownerId=e.ownerId||e.OwnerId,t.ownerName=e.ownerName||e.OwnerName,t.provider=e.provider||e.Provider?Panopto.Core.ServiceInterface.Rest.Objects.MembershipProvider(e.provider||e.Provider):null,t.isFromEditableMembershipProvider=e.isFromEditableMembershipProvider||e.IsFromEditableMembershipProvider,t.isEditable=e.isEditable||e.IsEditable,t.isAccessEditable=e.isAccessEditable||e.IsAccessEditable,t.typeName=e.typeName||e.TypeName,t.builtInType=e.builtInType||e.BuiltInType,t.isMembershipViewable=e.isMembershipViewable||e.IsMembershipViewable,t.save=function(e,o,n){Panopto.Core.ServiceInterface.Rest.Groups.saveGroup(t,e,o,n)},t.deleteGroup=function(e,o,n){Panopto.Core.ServiceInterface.Rest.Groups.deleteGroup(t.id,e,o,n)},t.addMembers=function(e,o,n,r){Panopto.Core.ServiceInterface.Rest.Groups.addMembers(t.id,_.map(e,function(e){return e.toModel()}),o,n,r)},t.removeMember=function(e,o,n,r){Panopto.Core.ServiceInterface.Rest.Groups.removeGroupMember(t.id,e,o,n,r)},t.searchForNewMember=function(e,o,n,r){Panopto.Core.ServiceInterface.Rest.Users.getSuggestions({searchTerm:e,isNotInGroup:t.id},o,n,r)},t.validate=function(e){var o=[];return t.name||o.push(e.Groups_Create_ErrorNoName),!t.externalId&&t.provider&&t.provider.name!==Panopto.Core.Constants.InternalMembershipProviderName&&o.push(e.Group_Create_ErrorNoExternalId),t.name&&Panopto.Core.TextHelpers.hasHtmlTags(t.name)&&o.push(e.Groups_HtmlNameError),t.externalId&&Panopto.Core.TextHelpers.hasHtmlTags(t.externalId)&&o.push(e.Groups_HtmlExternalIdError),o},t.isEqual=function(e){return t.externalId===e.externalId&&t.id===e.id&&t.isPrivate===e.isPrivate&&t.memberCount===e.memberCount&&t.name===e.name&&t.ownerId===e.ownerId&&t.ownerName===e.ownerName&&(!t.provider&&!e.provider||t.provider&&e.provider&&t.provider.name===e.provider.name)&&t.type===e.type},t.toModel=function(){return{ExternalId:t.externalId,Id:t.id,IsPrivate:t.isPrivate,MemberCount:t.memberCount,Name:t.name,OwnerId:t.ownerId,OwnerName:t.ownerName,Provider:t.provider?{Name:t.provider.name}:null,BuiltInType:t.builtInType,TypeName:t.typeName}},t},Panopto.Core.ServiceInterface.Rest.Objects.BuiltInGroupType=function(e){return e.None=0,e.AllUsers=1,e.Public=2,e}(Panopto.Core.ServiceInterface.Rest.Objects.BuiltInGroupType||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods=function(e){return e.Put="PUT",e.Post="POST",e.Get="GET",e.Delete="DELETE",e}(Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.HttpStatusCode=function(e){return e.BadRequest=400,e.Unauthorized=401,e.NotFound=404,e.InternalError=500,e}(Panopto.Core.ServiceInterface.Rest.Objects.HttpStatusCode||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.MembershipProvider=function(e,t){return{name:e.name||e.Name,isInternal:e.isInternal||e.IsInternal,description:e.description||e.Description,typeName:e.typeName||e.TypeName,unifyAccounts:e.unifyAccounts||e.UnifyAccounts}},Panopto.Core.ServiceInterface.Rest.Objects.InternalProvider=function(e){return Panopto.Core.ServiceInterface.Rest.Objects.MembershipProvider({name:Panopto.Core.Constants.InternalMembershipProviderName,description:Panopto.Core.Constants.InternalMembershipProviderName,isInternal:!0},e)},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.GlobalResources=Panopto.GlobalResources||{},Panopto.Core.ServiceInterface.Rest.Objects.OauthAllowedUri=function(e){var t={};return t.uriId=e.UriId,t.uri=e.Uri,t.uriType=e.UriType,t.clientId=e.ClientId,t.toModel=function(){return{UriId:t.uriId,Uri:t.uri,UriType:t.uriType,ClientId:t.clientId}},t},Panopto.Core.ServiceInterface.Rest.Objects.OauthClientUriType=function(e){return e.CorsOrigin={id:1,name:Panopto.GlobalResources.OauthClient_OauthClientUriType_CorsOrigin},e.PostLogoutRedirect={id:2,name:Panopto.GlobalResources.OauthClient_OauthClientUriType_PostLogoutRedirect},e.Redirect={id:3,name:Panopto.GlobalResources.OauthClient_OauthClientUriType_Redirect},e}(Panopto.Core.ServiceInterface.Rest.Objects.OauthClientUriType||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.OauthClient=function(e){var t={};return t.id=e.Id,t.name=e.Name,t.apiKey=e.ApiKey,t.clientUrl=e.ClientURL,t.enabled=e.Enabled,t.oauthFlowType=e.OauthFlowType,t.allowedClientUris=e.AllowedClientUris?_.map(e.AllowedClientUris,function(e){return Panopto.Core.ServiceInterface.Rest.Objects.OauthAllowedUri(e)}):[],t.user=e.User,t.userId=e.UserId,t.clientId=e.ClientId,t.clientSecret=e.ClientSecret,t.tokenDuration=e.TokenDuration,t.oauthAccessTokenType=e.Oauth2AccessTokenTypeId,t.clientTypeId=e.ClientTypeId,t.toModel=function(){return{Id:t.id,Name:t.name,ApiKey:t.apiKey,ClientURL:t.clientUrl,Enabled:t.enabled,OauthFlowType:t.oauthFlowType,AllowedClientUris:t.allowedClientUris,User:t.user,UserId:t.userId,ClientId:t.clientId,ClientSecret:t.clientSecret,TokenDuration:t.tokenDuration,Oauth2AccessTokenTypeId:t.oauthAccessTokenType,ClientTypeId:t.clientTypeId}},t},Panopto.Core.ServiceInterface.Rest.Objects.OauthAccessTokenType=function(e){return e.JWT=0,e.Reference=1,e}(Panopto.Core.ServiceInterface.Rest.Objects.OauthAccessTokenType||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.GlobalResources=Panopto.GlobalResources||{},Panopto.Core.ServiceInterface.Rest.Objects.OauthScope=function(e){var t={};return t.scopeId=e.ScopeId,t.clientId=e.ClientId,t.toModel=function(){return{ScopeId:t.scopeId,ClientId:t.clientId}},t},Panopto.Core.ServiceInterface.Rest.Objects.OauthApiScope=function(e){return e.api=1,e.recorderRegistration=3,e.remoteRecorderApi=4,e.recorderApi=5,e}(Panopto.Core.ServiceInterface.Rest.Objects.OauthApiScope||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.PagingParameters=function(e){var t={};return _.each(["page","pageSize","sort","secondarySort","sortDescending","secondarySortDescending","computeTotalCount","computeHasMorePages"],function(o){_.isUndefined(e[o])||(t[o]=e[o])}),t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Playlist=function(e){var t=Panopto.Core.ServiceInterface.Rest.Objects.AccessItem(e);return t.id=e.Id||e.id,t.name=e.Name||e.name,t.viewerUri=e.ViewerUri||e.viewerUri,t.embedViewerTag=e.EmbedViewerTag||e.embedViewerTag,t.typeName=e.TypeName||e.typeName,t.description=e.Description||e.description,t.status="number"==typeof e.Status?e.Status:e.status,t.startTime=moment(e.StartTime).toDate()||e.startTime,t.duration="number"==typeof e.Duration?e.Duration:e.duration,t.thumbUrl=e.ThumbUrl||e.thumbUrl,t.sessionListId=e.SessionListId||e.sessionListId,t.toModel=function(){return{Id:t.id,Name:t.name,TypeName:t.typeName,Parent:t.parent?t.parent.toModel():null,Description:t.description,SessionListId:t.sessionListId}},t},Panopto.Core.ServiceInterface.Rest.Objects.Playlist.fromSessionRow=function(e){return Panopto.Core.ServiceInterface.Rest.Objects.Playlist({Id:e.DeliveryID,Name:Panopto.Core.TextHelpers.cleanTextWithoutHighlighting(e.SessionName),ViewerUri:e.ViewerUrl,TypeName:Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Playlist})},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.PlaylistAccessItem=function(e){var t=Panopto.Core.ServiceInterface.Rest.Objects.AccessItem(e);return t.id=e.Id,t.name=e.Name,t.viewerUri=e.ViewerUri,t.embedViewerTag=e.EmbedViewerTag,t.typeName=e.TypeName,t.toModel=function(){return{Id:t.id,Name:t.name,TypeName:t.typeName,Parent:t.parent?t.parent.toModel():null}},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.PlaylistWithItems=function(e){var t={};if(t.playlist=Panopto.Core.ServiceInterface.Rest.Objects.Playlist(e.Playlist),e.Items){var o=[];_.each(e.Items,function(e){o.push(Panopto.Core.ServiceInterface.Rest.Objects.Session(e))}),t.items=o}return t},function(e){!function(e){!function(e){var t=function(){function t(t){this.periodStartDate=moment.utc(t.PeriodStartDate).toDate(),this.periodEndDate=moment.utc(t.PeriodEndDate).toDate(),this.deliveredSummary=t.DeliveredSummary?new e.QuotaSummary(t.DeliveredSummary):void 0,this.storedSummary=t.StoredSummary?new e.QuotaSummary(t.StoredSummary):void 0}return t.prototype.getUsedStoredHours=function(){return moment.duration(this.storedSummary.valueSummary.sumTotal,"seconds").asHours()},t.prototype.getMaxStoredHours=function(){return moment.duration(this.storedSummary.modifierSummary.sumTotal,"seconds").asHours()},t.prototype.storedQuotaExceeded=function(){return this.getUsedStoredHours()>=this.getMaxStoredHours()},t.prototype.getUsedDeliveredHours=function(){return moment.duration(this.deliveredSummary.valueSummary.sumTotal,"seconds").asHours()},t.prototype.getMaxDeliveredHours=function(){var e=this.deliveredSummary.modifierSummary.sumTotal?this.deliveredSummary.modifierSummary.sumTotal:this.deliveredSummary.modifierSummary.sumBase+this.deliveredSummary.modifierSummary.sumRollover+this.deliveredSummary.modifierSummary.sumReferral;return moment.duration(e,"seconds").asHours()},t.prototype.deliveredQuotaExceeded=function(){return this.getUsedDeliveredHours()>=this.getMaxDeliveredHours()},t}();e.QuotaDataByPeriod=t}(e.Objects||(e.Objects={}))}(e.ServiceInterface||(e.ServiceInterface={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){var t=function(t){this.currentPeriod=t.CurrentPeriod?new e.QuotaDataByPeriod(t.CurrentPeriod):void 0,this.lastPeriod=t.LastPeriod?new e.QuotaDataByPeriod(t.LastPeriod):void 0};e.QuotaDetail=t}(e.Objects||(e.Objects={}))}(e.ServiceInterface||(e.ServiceInterface={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){var t=function(e){this.sumBase=e.SumBase,this.sumRollover=e.SumRollover,this.sumReferral=e.SumReferral,this.sumTotal=e.SumTotal};e.QuotaModifierSummary=t}(e.Objects||(e.Objects={}))}(e.ServiceInterface||(e.ServiceInterface={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){var t=function(e){this.id=e.Id,this.name=e.Name,this.totalSeconds=e.TotalSeconds,this.sessionWasDeleted=e.SessionWasDeleted};e.QuotaSession=t}(e.Objects||(e.Objects={}))}(e.ServiceInterface||(e.ServiceInterface={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){var t=function(t){this.modifierSummary=t.ModifierSummary?new e.QuotaModifierSummary(t.ModifierSummary):void 0,this.valueSummary=t.ValueSummary?new e.QuotaValueSummary(t.ValueSummary):void 0};e.QuotaSummary=t}(e.Objects||(e.Objects={}))}(e.ServiceInterface||(e.ServiceInterface={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){var t=function(t){this.secondsByDay=t.SecondsByDay,this.sumTotal=t.SumTotal,this.topSessions=t.TopSessions?_.map(t.TopSessions,function(t){return new e.QuotaSession(t)}):[]};e.QuotaValueSummary=t}(e.Objects||(e.Objects={}))}(e.ServiceInterface||(e.ServiceInterface={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Objects.RecorderQuestion=function(e){return{user:e.UserName,text:e.Data,time:e.AbsoluteTime}},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.recorderScheduleEntry=function(e){var t={id:e.Id,name:e.Name,typeName:e.TypeName,isPrimaryRecorder:e.IsPrimaryRecorder,ownerId:e.OwnerId,recorderId:e.RecorderId,sessionId:e.SessionId,startTime:moment(e.StartTime).toDate(),duration:e.Duration,toModel:function(){return{Id:t.id,Name:t.name,TypeName:t.typeName,IsPrimaryRecorder:t.isPrimaryRecorder,OwnerId:t.ownerId,RecorderId:t.recorderId,SessionId:t.sessionId,StartTime:t.startTime,Duration:t.duration}},isCurrentlyRecording:function(){var e=+new Date;return e-t.startTime<1e3*t.duration&&t.startTime<e},currentUserHasWriteAccess:function(){return t.sessionId!==Panopto.Core.Constants.EmptyGuid},save:function(e,o,n,r){Panopto.Core.ServiceInterface.Rest.RecorderScheduleEntries.save(t,e,o,n,r)},updateDuration:function(e,o,n,r,i){t.duration=e,t.save(o,n,r,i)},getSession:function(e,o,n){Panopto.Core.ServiceInterface.Rest.Sessions.getOne(t.sessionId,e,o,n)}};return t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Objects.RemoteRecorder=function(e){var t={id:e.Id,name:e.Name,toRestRemoteRecorder:function(){return Panopto.Core.ServiceInterface.Rest.Objects.RemoteRecorder({ID:t.id,Name:t.name})}};return t},Panopto.Core.ServiceInterface.Rest.Objects.RemoteRecorderQualitySetting=function(e){return{audioBitrate:e.AudioBitrate,frameRate:e.Framerate,mulipleBitrateCount:e.MulipleBitrateCount,pixelCount:e.PixelCount,videoBitrate:e.VideoBitrate}},Panopto.Core.ServiceInterface.Rest.Objects.RecordingDevice=function(e){var t={audioPreviewUrl:e.AudioPreviewUrl,id:e.DeviceId,height:e.Height,lastPreviewUpdate:moment(e.LastPreviewUpdateDateTime).toDate(),name:e.Name,record:e.Record,type:e.Type,videoPreviewUrl:e.VideoPreviewUrl,width:e.Width,missingData:e.MissingData,shouldBePreviewed:function(){return!!t.videoPreviewUrl&&t.record&&(t.type===Panopto.Core.DeviceMediaType.DV||t.type===Panopto.Core.DeviceMediaType.HDV||t.type===Panopto.Core.DeviceMediaType.Video||t.type===Panopto.Core.DeviceMediaType.Screen)}};return t},Panopto.Core.ServiceInterface.Rest.Objects.RemoteRecorder=function(e){var t=Panopto.Core.ServiceInterface.Rest.Objects.AccessItem(e);return t.devices=_.map(e.Devices,Panopto.Core.ServiceInterface.Rest.Objects.RecordingDevice),t.id=e.Id,t.lastConnection=new Date(e.LastConnectionDateTime),t.name=Panopto.Core.TextHelpers.cleanTextWithoutHighlighting(e.Name),t.primaryAudioDeviceId=e.PrimaryAudioDeviceId,t.primaryRecordingQualitySettings=e.primaryRecordingQualitySettings?Panopto.Core.ServiceInterface.Rest.Objects.RemoteRecorderQualitySetting(e.PrimaryRecordingQualitySettings):null,t.primaryVideoDeviceId=e.PrimaryVideoDeviceId,t.recordingType=e.RecordingType,t.scheduleVersion=e.ScheduleVersion,t.secondaryRecordingQualitySettings=e.secondaryRecordingQualitySettings?Panopto.Core.ServiceInterface.Rest.Objects.RemoteRecorderQualitySetting(e.SecondaryRecordingQualitySettings):null,t.state=e.State,t.version=e.Version,t.timeZoneDisplayInfo=e.TimeZoneDisplayInfo?Panopto.Core.ServiceInterface.Rest.Objects.TimeZoneDisplayInfo(e.TimeZoneDisplayInfo):null,t.typeName=e.typeName||Panopto.Core.ServiceInterface.Rest.Objects.TypeName.RemoteRecorder,t.toModel=function(){return{Id:t.id,Name:t.name,TypeName:t.typeName,TimeZoneDisplayInfo:t.timeZoneDisplayInfo?t.timeZoneDisplayInfo.toModel():void 0}},t.getScheduleEntries=function(e,o,n){Panopto.Core.ServiceInterface.Rest.RecorderScheduleEntries.getRecorderScheduleEntries({endTimeAfter:(new Date).toISOString(),recorderId:t.id},e,o,n)},t.updateTimeZone=function(e,o,n){Panopto.Core.ServiceInterface.Rest.RemoteRecorders.updateTimeZone(t,e,o,n)},t.updateLastAccessed=function(e,o,n){Panopto.Core.ServiceInterface.Rest.RemoteRecorders.updateLastAccessed(t.id,e,o,n)},t.getConflicts=function(e,o,n,r){t.getScheduleEntries(function(t){var n=new Date;o(_.chain(t).sortBy("startTime").filter(function(t){return t.startTime<=e&&t.startTime>n}).value())},n,r)},t.getNextScheduledEntry=function(e,o,n){t.getScheduleEntries(function(t){var o=new Date;e(_.chain(t).sortBy("startTime").find(function(e){return e.startTime>=o}).value())},o,n)},t.getCurrentScheduledEntry=function(e,o,n){t.getScheduleEntries(function(t){e(_.find(t,function(e){return e.isCurrentlyRecording()}))},o,n)},t.isPreviewable=function(e){return t.state===Panopto.Core.RemoteRecorderState.Previewing||t.state===Panopto.Core.RemoteRecorderState.Recording||t.state===Panopto.Core.RemoteRecorderState.Paused||!!e&&t.state===Panopto.Core.RemoteRecorderState.Disconnected},t.isPreviewCensored=function(){var e=t.getPrimaryAudio();return t.isPreviewable()&&e&&!e.audioPreviewUrl&&!t.accessRoleTypes.Preview},t.getPrimaryVideo=function(){return _.findWhere(t.devices,{id:t.primaryVideoDeviceId})},t.getPrimaryAudio=function(){return _.findWhere(t.devices,{id:t.primaryAudioDeviceId})},t.defaultSessionTitle=function(){var e=moment();return PanoptoTS.StringHelpers.format("{0} {1} {2}",t.name,e.format("l"),e.format("LT"))},t.isRecording=function(){return t.state===Panopto.Core.RemoteRecorderState.Recording},t.startNewRecording=function(e,o,n,r,i,s){var a,c,l,u,d=e.title,p=e.folderId,f=e.isWebcast,h=e.duration,m=e.startTime||new Date;a=function(e){!function(e,n,r,i){var s=Panopto.Core.ServiceInterface.Rest.Objects.recorderScheduleEntry({Name:e.name,TypeName:"RecorderScheduleEntry",StartTime:m,Duration:h,IsPrimaryRecorder:!0,RecorderId:t.id,SessionId:e.id});Panopto.Core.ServiceInterface.Rest.RecorderScheduleEntries.save(s,o,n,r,i)}(e,n,r,s)},c=i,u=Panopto.Core.ServiceInterface.Rest.Objects.Session({Name:d,TypeName:"Session",IsWebcast:f,Parent:{Id:p,TypeName:"Folder"}}),Panopto.Core.ServiceInterface.Rest.Sessions.create(u,a,c,l)},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.RestColumns=function(e){return e.GroupColumns=["Name","OwnerName","MemberCount","ProviderName","ProviderId"],e}(Panopto.Core.ServiceInterface.Rest.Objects.RestColumns||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.ResultCode=function(e){return e.Success=0,e.NotFound=1,e.InvalidSource=2,e.InvalidPagingParameters=3,e.InvalidFilter=4,e.Unauthorized=5,e.InvalidMethod=6,e.InternalError=7,e.InvalidIncludeOptions=8,e.InvalidContext=9,e.PreconditionFailed=10,e.PreconditionRequired=11,e.AlreadyExists=12,e.Deadlock=13,e}(Panopto.Core.ServiceInterface.Rest.Objects.ResultCode||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.BatchResult=function(e,t){return t=t||function(e){return e},{succeeded:_.map(e.Succeeded,t),failed:_.map(e.Failed,function(e){return Panopto.Core.ServiceInterface.Rest.Objects.FailedItem(e,t)})}},Panopto.Core.ServiceInterface.Rest.Objects.FailedItem=function(e,t){return t=t||function(e){return e},{message:e.Message,resultCode:e.ResultCode,source:e.Source?t(e.Source):null}},Panopto.Core.ServiceInterface.Rest.Objects.RepositoryItemResult=function(e,t){return t=t||function(e){return e},{message:e.Message,resultCode:e.ResultCode,data:t(e.Data)}},Panopto.Core.ServiceInterface.Rest.Objects.PagingResponse=function(e,t,o){return{results:_.map(e,o),hasMorePages:"true"===(t.getResponseHeader(Panopto.Core.ServiceInterface.Rest.Api.HasMorePagesKey)||"").toLowerCase(),totalCount:parseInt(t.getResponseHeader(Panopto.Core.ServiceInterface.Rest.Api.ResponseCountKey)||"0",10)}},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Objects.TaskState={WaitingForData:1,Unprocessed:0,PullingDataFromServer:8,Processing:2,Transferring:3,Failure:4,Complete:5,Delete:6,PermanentFailure:7,Cancelled:9},Panopto.Core.ServiceInterface.Objects.ServiceTaskTypes={Export:"4f783e75-8042-4d4c-9f95-9866ffafeb25",Merge:"f4622532-bc67-4e91-b98a-3a86abfcaee5",Copy:"1b535a55-869f-4571-8f03-6e75d84ed2de",MachineTranscription:"7af9ac6a-c412-42f9-a8a3-2ca8d845c7d9",MachineTranscription2:"812f640a-d95c-4a14-a13c-bac3c4f9197e",MachineTranscription3:"de1cca53-2476-4723-a9f6-820378ca3066",HumanTranscription:"32ea191b-2718-4fa0-9b94-433755e61c9b",TabletEncode:"027EAD9C-4A94-404D-BD72-45A3EBE6153E",BulkProvisioning:"62BA48F8-D1C5-4FB6-89C1-955D162C455F",UnisonEncode:"e5c27568-406a-4ae7-850f-63923ddbf8e9",UnisonPackaging:"C1776EA1-F296-4C5F-8A3D-77B109DB5F72",DeleteEncodings:"7974E568-E758-4D17-AEC6-10E3ED24512D",SlidePackaging:"569B1050-C57D-4917-B693-61973422F45A",MediaPackaging:"03475304-E5DE-4EBB-AC02-04B011013A8D",PodcastEncode:"56222A4D-6DBE-4607-9652-FDD94C7544D7",ViewerEncode:"79C49367-5B50-4DF3-9975-C81A64C3E786",FastPathViewerEncode:"6FC8AFFF-6D99-4A27-A7DC-83972A115CD2",DeleteUpload:"2BBD2E12-8B76-4E87-B9AA-131C19242C4A",TransferUpload:"0D3A8483-5CD7-4B5C-9081-39783DFC6B65",SendEmail:"B99C68F0-98C5-4f17-B443-6ED22EBD7C18",LegacyRecorderUpload:"4653131B-3AA3-4D65-97ED-472637C91F91",DeleteSessionFiles:"06367CAE-3850-4C86-8DB2-10171E7A33F2",BulkCopyFolderToSite:"E9DA9CD7-3DA1-40E8-8400-C756BC989098",ExternalContextsForUser:"9A30716D-6886-4EC6-AE24-C3F6ED37A8B2",CompleteUpload:"C6572C65-1670-4A4C-B162-3D3A72889B09",EmbedTranscript:"7886EBFE-FABB-4D4E-A2FF-C9073739C644",ConvertToOnDemand:"65739A5A-08BE-448A-BAB3-1914AD21D0C6",DeleteBroadcastFiles:"68A9ABA2-2BC8-4727-852D-39C24AE95D63",TranscriptionPodcastEncode:"F5E1964F-AE73-46D3-94FF-A976016CBFCB"},Panopto.Core.ServiceInterface.Objects.ServiceTaskResourceMapping=function(e){var t=function(e,t,o){return _.contains(t,e.taskName)&&_.contains(o,e.subState)},o={CommonTask_CheckedOutForProcessing:-1,CommonTask_TransferringFilesToTaskProcessor:-2,CommonTask_TransferringFilesToTaskProcessorFailed:-3,CommonTask_PerformingCoreProcessing:-4,CommonTask_PerformingCoreProcessingFailed:-5,CommonTask_PublishingTaskProcessingResults:-6,CommonTask_PublishingTaskProcessingResultsFailed:-7,CommonTask_ParsingServiceTaskDataFailed:-8,CommonTask_PublishingServiceTaskFile:-9,CommonTask_PublishingServiceTaskFileFailed:-10,CommonTask_TaskTimeOutDetected:-11,CommonTask_GraphHungWhileProcessingSourceContent:-100,CommonTask_PowerPointInitializationFailure:-200,CommonTask_PowerPointFileLoadFailure:-201,CommonTask_PowerPointImageExtractionFailure:-202,CommonTask_PowerPointTextExtractionFailure:-203},n={MergeTask_CreateRequested:1,MergeTask_CreateStreamRename:2,MergeTask_CreateEventTargetRename:3,MergeTask_CopyDataContentFailure:4,MergeTask_CopyWebContentFailure:5},r={CopyTask_CreateRequested:1,CopyTask_CopyDataContentFailure:2,CopyTask_CopyWebContentFailure:3},i={UnisonTask_PrimaryImportContainsNoAudioStream:1,UnisonTask_SecondaryImportContainsNoVideoStream:2,UnisonTask_CorruptOrInvalidInputFile:3,UnisonTask_SourceResolutionOutOfRange:4,UnisonTask_OutputFileNotFound:5,UnisonTask_EncodeFailed:6},s={ExportTask_ArchiveXMLCreationFailure:1,ExportTask_MoveWebContentFailure:2,ExportTask_MoveDataContentFailure:3,ExportTask_RemoteExportCopyLocalFailure:4,ExportTask_RemoteExportArchivingFailure:5,ExportTask_RemoteExportArchiveCopyFailure:6},a={DeleteSessionFilesTask_DeleteWebContentFailure:1,DeleteSessionFilesTask_DeleteDataContentFailure:2};return t(e,["Export","Merge","Copy","MachineTranscription","MachineTranscription2","MachineTranscription3","HumanTranscription","TabletEncode","BulkProvisioning","UnisonEncode","UnisonPackaging","DeleteEncodings","SlidePackaging","MediaPackaging","PodcastEncode","ViewerEncode","FastPathViewerEncode","DeleteUpload","TransferUpload","SendEmail","LegacyRecorderUpload","DeleteSessionFiles","BulkCopyFolderToSite","ExternalContextsForUser","EmbedTranscript","ConvertToOnDemand","DeleteBroadcastFiles","CompleteUpload","TranscriptionPodcastEncoding"],o)?_.invert(o)[e.subState]:t(e,["Merge"],n)?_.invert(n)[e.subState]:t(e,["Copy"],r)?_.invert(r)[e.subState]:t(e,["UnisonEncode","UnisonPackaging"],i)?_.invert(i)[e.subState]:t(e,["Export"],s)?_.invert(s)[e.subState]:t(e,["DeleteSessionFiles"],a)?_.invert(a)[e.subState]:e.subState},Panopto.Core.ServiceInterface.Objects.DeliveryStatus=function(e){return{id:e.Key,status:e.Value}},Panopto.Core.ServiceInterface.Objects.ServiceTaskStatus=function(e){return{id:e.ID,relatedDeliveryID:e.RelatedDeliveryID,sessionID:e.SessionID,sourceFilename:e.SourceFilename,state:e.State,subState:e.SubState,progress:e.Progress,taskName:e.ServiceTaskTypeShortName,updatedDate:e.UpdatedDate,isError:function(){return this.state===Panopto.Core.ServiceInterface.Objects.TaskState.Failure||this.state===Panopto.Core.ServiceInterface.Objects.TaskState.PermanentFailure},isComplete:function(){return this.state===Panopto.Core.ServiceInterface.Objects.TaskState.Complete},isProcessing:function(){return this.state===Panopto.Core.ServiceInterface.Objects.TaskState.Processing}}},Panopto.Core.ServiceInterface.Objects.ServiceTaskQuery=function(e){return{Filters:{SessionIDs:e.filters.sessionIDs||[],DeliveryIDs:e.filters.deliveryIDs||[],IncludeDeliverySession:e.filters.includeDeliverySession||!1,ServiceTaskTypeIDs:e.filters.serviceTaskTypeIDs||[],MostRecentServiceTaskTypeIDs:e.filters.mostRecentServiceTaskTypeIDs,TaskStates:e.filters.taskStates||[]}}},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Objects.Session=function(e){return{deliveryId:e.Id,sessionId:e.SessionId,name:e.Name,description:e.Description,date:Panopto.Core.TimeHelpers.dateToWin32EpochTime(moment(e.StartTime).toDate()),duration:e.Duration,thumbUrl:e.ThumbUrl?Panopto.Core.ServiceInterface.baseUrl+e.ThumbUrl.substring(e.ThumbUrl.indexOf("/",1)):null,state:e.State,creatorId:e.CreatorId,statusMessage:e.StatusMessage,viewerUrl:e.ViewerUrl,editorUrl:e.EditorUrl,viewable:e.State===Panopto.Core.ServiceInterface.Objects.SessionState.Complete,folder:{id:e.FolderId}}},Panopto.Core.ServiceInterface.Objects.SessionState=function(e){return e.Created=0,e.Scheduled=1,e.Recording=2,e.Broadcasting=3,e.Processing=4,e.Complete=5,e}(Panopto.Core.ServiceInterface.Objects.SessionState||{}),Panopto.Core.ServiceInterface.Rest.Objects.Session=function(e){var t=Panopto.Core.ServiceInterface.Rest.Objects.AccessItem(e);return t.id=e.Id||e.id,t.name=e.Name||e.name,t.viewerUri=e.ViewerUri||e.viewerUri,t.embedViewerTag=e.EmbedViewerTag||e.embedViewerTag,t.typeName=e.TypeName||e.typeName,t.isWebcast=e.IsWebcast||e.isWebcast,t.description=e.Description||e.description,t.status="number"==typeof e.Status?e.Status:e.status,t.startTime=moment(e.StartTime).toDate()||e.startTime,t.duration="number"==typeof e.Duration?e.Duration:e.duration,t.thumbUrl=e.ThumbUrl||e.thumbUrl,t.presenterFirstNames=e.PresenterFirstNames||e.presenterFirstNames,t.presenterLastNames=e.PresenterLastNames||e.presenterLastNames,t.mostRecentViewTime=e.MostRecentViewTime?moment(e.MostRecentViewTime).toDate():e.mostRecentViewTime,t.isDeleted=void 0!==e.IsDeleted?e.IsDeleted:e.isDeleted,t.isPlaylist=void 0!==e.IsPlaylist?e.IsPlaylist:e.isPlaylist,t.referencedSessions=[],_.each(e.ReferencedSessions,function(e){t.referencedSessions.push(new PanoptoTS.Core.ServiceInterface.Rest.Objects.SessionReference(e))}),t.toModel=function(){return{Id:t.id,Name:t.name,TypeName:t.typeName,Parent:t.parent?t.parent.toModel():null,IsWebcast:t.isWebcast,Description:t.description,DefaultThumbnailTime:t.defaultThumbnailTime,IsPlaylist:t.isPlaylist}},t.toSessionRow=function(){return{DeliveryID:t.id,Duration:t.duration,PresenterFirstNames:t.presenterFirstNames,PresenterLastNames:t.presenterLastNames,SessionName:t.name,Status:t.status,StartTime:t.startTime,ViewerUrl:t.viewerUri,ThumbUrl:t.thumbUrl,FolderID:t.parent&&t.parent.id,FolderName:t.parent&&t.parent.name,TypeName:t.typeName}},t},Panopto.Core.ServiceInterface.Rest.Objects.Session.fromSessionRow=function(e){return Panopto.Core.ServiceInterface.Rest.Objects.Session({Id:e.DeliveryID,Name:Panopto.Core.TextHelpers.cleanTextWithoutHighlighting(e.SessionName),ViewerUri:e.ViewerUrl,IsPlaylist:e.PlayableObjectType===Panopto.Core.PlayableObjectType.Playlist,TypeName:Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session,IsDeleted:e.IsDeleted})},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.SessionAccessItem=function(e){var t=Panopto.Core.ServiceInterface.Rest.Objects.AccessItem(e);return t.id=e.Id,t.name=e.Name,t.viewerUri=e.ViewerUri,t.embedViewerTag=e.EmbedViewerTag,t.typeName=e.TypeName,t.isWebcast=e.IsWebcast,t.toModel=function(){return{Id:t.id,Name:t.name,TypeName:t.typeName,Parent:t.parent?t.parent.toModel():null,IsWebcast:t.isWebcast}},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.SessionChangeSet=function(e){var t=Panopto.Core.ServiceInterface.Rest.Objects,o={};return o.id=e.id||e.Id,o.sessionId=e.sessionId||e.SessionId,o.cutsToReplace=e.cutsToReplace||_.map(e.CutsToReplace,t.Cut),o.streamsToUpdate=e.streamsToUpdate||_.map(e.StreamsToUpdate,t.Stream),o.slideDecksToDelete=e.slideDecksToDelete||_.map(e.SlideDecksToDelete,t.SlideDeck),o.eventsToAdd=e.eventsToAdd||_.map(e.EventsToAdd,t.Event),o.eventsToUpdate=e.eventsToUpdate||_.map(e.EventsToUpdate,t.Event),o.eventsToDelete=e.eventsToDelete||_.map(e.EventsToDelete,t.Event),o.questionListRevisions=e.questionListRevisions||_.map(e.QuestionListRevisions,function(e){var t=new AutoClientModels.QuestionList;return t.fromRestQuestionList(e),t}),o.questionListIdsToDelete=e.questionListIdsToDelete||e.QuestionListIdsToDelete,o.streamChanges=e.streamChanges||(new AutoClientModels.StreamChanges).fromRestStreamChanges(e.StreamChanges||{}),o.sessionReferences=e.sessionReferences||(new AutoClientModels.SessionReferenceChanges).fromRestSessionReferenceChanges(e.SessionReferences||{}),o.updateDate=e.updateDate||moment.utc(e.UpdateDate).toDate(),o.ownerName=e.ownerName||e.OwnerName,o.ownerId=e.ownerId||e.OwnerId,o.toModel=function(){var e=function(e){return e.toModel()},t=new AutoRestModels.SessionReferenceChanges;t.fromClientSessionReferenceChanges(o.sessionReferences);var n=new AutoRestModels.StreamChanges;return n.fromClientStreamChanges(o.streamChanges),{Id:o.id,SessionId:o.sessionId,CutsToReplace:_.map(o.cutsToReplace,e),StreamsToUpdate:_.map(o.streamsToUpdate,e),SlideDecksToDelete:_.map(o.slideDecksToDelete,e),EventsToAdd:_.map(o.eventsToAdd,e),EventsToUpdate:_.map(o.eventsToUpdate,e),EventsToDelete:_.map(o.eventsToDelete,e),QuestionListRevisions:_.map(o.questionListRevisions,function(e){var t=new AutoRestModels.QuestionList;return t.fromClientQuestionList(e),t}),QuestionListIdsToDelete:o.questionListIdsToDelete,StreamChanges:n,SessionReferences:t}},o},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.SessionList=function(e){var t={};return t.id=e.id||e.Id,t.name=e.name||e.Name,t.items=e.items,t.typeName=e.typeName||e.TypeName,t.updateDate=e.updateDate||moment.utc(e.UpdateDate).toDate(),t.specialType=void 0!==e.specialType?e.specialType:e.SpecialType,!t.items&&e.Items&&(t.items=_.map(e.Items,Panopto.Core.ServiceInterface.Rest.Objects.Session)),t.toModel=function(){return{Id:t.id,Name:t.name,TypeName:t.typeName,SpecialType:t.specialType}},t},function(e){!function(e){!function(e){!function(e){!function(e){var t=function(){function e(e){this.referencedSessionId=e.ReferencedSessionId||e.referencedSessionId,this.referencedSessionDuration="number"==typeof e.ReferencedSessionDuration?e.ReferencedSessionDuration:e.referencedSessionDuration,this.start="number"==typeof e.Start?e.Start:e.start,this.order="number"==typeof e.Order?e.Order:e.order,this.repositoryKey=e.RepositoryKey||e.repositoryKey,this.id=e.Id||e.id,this.name=e.Name||e.name,this.typeName=e.TypeName||e.typeName,this.hostSession=e.HostSession?Panopto.Core.ServiceInterface.Rest.Objects.Session(e.HostSession):e.hostSession}return e.prototype.copy=function(t,o){void 0===t&&(t=!0);var n=new e($.extend({},this,o));return n.edited=t,n.streams=this.streams,n.cuts=this.cuts,n.events=this.events,n.slideEvents=this.slideEvents,n.captions=this.captions,n.timelineState=this.timelineState,n},e.prototype.calculateViewerTimes=function(){var e=this;_.each([].concat(this.events||[]).concat(this.slideEvents||[]).concat(this.captions||[]),function(t){t.viewerTime=t.editorTime+e.editorStartTime/Panopto.Core.Constants.TimelineChunkMultiplier})},e.prototype.getTimelineDuration=function(){var e=Panopto.Core.Logic.Timeline.Timeline(this.streams,this.cuts,!0),t=0;return _.each(e.elements(),function(e){e.containsPrimary()&&(t+=e.length())}),t},e}();e.SessionReference=t}(e.Objects||(e.Objects={}))}(e.Rest||(e.Rest={}))}(e.ServiceInterface||(e.ServiceInterface={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Slide=function(e){var t={};return t.id=e.Id||e.id,t.name=e.Name||e.name,t.content=e.Content||e.content,t.slideDeckId=e.SlideDeckId||e.slideDeckId,t.slideNumber="number"==typeof e.SlideNumber?e.SlideNumber:e.slideNumber,t.imageUrl=e.ImageUrl||e.imageUrl,t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.SlideDeck=function(e){var t={};return t.id=e.Id||e.id,t.name=e.Name||e.name,t.isDownloadAllowed=e.IsDownloadAllowed||e.isDownloadAllowed,t.toModel=function(){return{Id:t.id,Name:t.name,IsDownloadAllowed:t.isDownloadAllowed}},t.copy=function(){return Panopto.Core.ServiceInterface.Rest.Objects.SlideDeck(t)},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Stream=function(e){var t={};switch(t.id=e.Id||e.id,t.url=e.Url||e.url,t.httpUrl=e.HttpUrl||e.httpUrl,t.absoluteStart="number"==typeof e.AbsoluteStart?e.AbsoluteStart:e.absoluteStart,t.duration="number"==typeof e.Duration?e.Duration:e.duration,t.isPrimary=e.IsPrimary||e.isPrimary,t.thumbnailUrlBase=e.ThumbnailUrlBase||e.thumbnailUrlBase,t.thumbnailInterval=e.ThumbnailInterval||e.thumbnailInterval,t.type="number"==typeof e.Type?e.Type:e.type,t.vrType="number"==typeof e.VRType?e.VRType:e.vrType,t.name=e.Name||e.name,t.type){case Panopto.Core.ServiceInterface.Rest.Objects.StreamContentType.Audio:t.iconCode=Panopto.Core.Constants.AudioIconCode,t.isAudioOnly=!0;break;case Panopto.Core.ServiceInterface.Rest.Objects.StreamContentType.Screen:t.iconCode=Panopto.Core.Constants.ScreenIconCode,t.isAudioOnly=!1;break;case Panopto.Core.ServiceInterface.Rest.Objects.StreamContentType.Camera:default:t.iconCode=Panopto.Core.Constants.ObjectVideoIconCode,t.isAudioOnly=!1}return t.toModel=function(){return{Id:t.id,Url:t.url,HttpUrl:t.httpUrl,AbsoluteStart:t.absoluteStart,Duration:t.duration,IsPrimary:t.isPrimary,Name:t.name,VRType:t.vrType}},t.absoluteEnd=function(){return t.absoluteStart+t.duration},t.copy=function(){return Panopto.Core.ServiceInterface.Rest.Objects.Stream(t)},t},Panopto.Core.ServiceInterface.Rest.Objects.StreamContentType=function(e){return e.Audio=0,e.Screen=1,e.Slide=2,e.Camera=3,e}(Panopto.Core.ServiceInterface.Rest.Objects.StreamContentType||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.TimeZoneDisplayInfo=function(e){var t={baseUtcOffset:e.BaseUtcOffset,displayName:e.DisplayName,supportsDST:e.SupportsDST,totalHours:e.TotalHours,toModel:function(){return{DisplayName:t.displayName}}};return t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.TranscriptionProvider=function(e){var t={};return t.id=e.id||e.Id,t.providerType=e.providerType||e.ProviderType,t.credentialType=e.credentialType||e.CredentialType,t.companyName=e.companyName||e.CompanyName,t.supportUrl=e.supportUrl||e.SupportUrl,t.isWhiteLabel=e.isWhiteLabel||e.IsWhiteLabel,t.allowSendingFolderName=e.allowSendingFolderName||e.AllowSendingFolderName,t.needsCustomerAccountInfo=e.needsCustomerAccountInfo||e.NeedsCustomerAccountInfo,t.needsCustomerPrivateKey=e.needsCustomerPrivateKey||e.NeedsCustomerPrivateKey,t.needsCustomerUserKey=e.needsCustomerUserKey||e.NeedsCustomerUserKey,t.showInUI=e.showInUI||e.ShowInUI,t.name=e.name||e.Name,t.displayName=e.displayName||e.DisplayName,t.description=e.description||e.Description,t.price=e.price||e.Price,t.turnaroundHours=e.turnaroundHours||e.TurnaroundHours,t.toModel=function(){return{Id:t.id,ProviderType:t.providerType,CredentialType:t.credentialType,CompanyName:t.companyName,SupportUrl:t.supportUrl,IsWhiteLabel:t.isWhiteLabel,AllowSendingFolderName:t.allowSendingFolderName,NeedsCustomerAccountInfo:t.needsCustomerAccountInfo,NeedsCustomerPrivateKey:t.needsCustomerPrivateKey,NeedsCustomerUserKey:t.needsCustomerUserKey,ShowInUI:t.showInUI,Name:t.name,DisplayName:t.displayName,Description:t.description,Price:t.price,TurnaroundHours:t.turnaroundHours}},t},Panopto.Core.ServiceInterface.Rest.Objects.TranscriptionProviderType=function(e){return e.DummyProvider=0,e.Import=1,e.Cielo24Test_Reg=5,e.LegacyAutomaticSyncDeployed=6,e.LegacyAutomaticSyncHosted=7,e.Cielo24Test_Rush=9,e.AutomaticSync_Rush=10,e.ThreePlayMedia_SameDay=12,e.ThreePlayMedia_Rush=13,e.ThreePlayMedia_Expedited=14,e.ThreePlayMedia_Standard=15,e.ThreePlayMedia_Test=16,e.ThreePlayMedia_Extended=17,e.Cielo24_Reg_UserAccount=18,e.Cielo24_Rush_UserAccount=19,e.Cielo24Test_UserAccount=20,e.Cielo24_Critical_UserAccount=21,e.Cielo24_Backlog_UserAccount=22,e.Automatic_Machine_Captioning=23,e.Rev_Reg_UserAccount=24,e.RevTest_UserAccount=25,e.VerbitAi_Reg_UserAcocunt=26,e.VerbitAiTest_Reg_UserAccount=27,e.Panopto_1day_Critical=28,e.Panopto_4day_Extended=29,e.Panopto_2day_Standard=30,e.Panopto_1day_Test_Critical=31,e.Panopto_4day_Test_Extended=32,e.AIMedia_Reg_UserAccount=33,e.AIMedia_Test_UserAccount=34,e.Zoom_Transcription_Import=35,e}(Panopto.Core.ServiceInterface.Rest.Objects.TranscriptionProviderType||{}),Panopto.Core.ServiceInterface.Rest.Objects.TranscriptionCredentialType=function(e){return e.UsernamePassword=1,e.PrivateKey=2,e.UserKey=3,e.None=4,e}(Panopto.Core.ServiceInterface.Rest.Objects.TranscriptionCredentialType||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.TranscriptionProviderInstance=function(e){var t={};return t.id=e.id||e.Id,t.provider=e.Provider?Panopto.Core.ServiceInterface.Rest.Objects.TranscriptionProvider(e.Provider):e.provider,t.userKey=e.userKey||e.UserKey,t.username=e.username||e.Username,t.password=e.password||e.Password,t.privateKey=e.privateKey||e.PrivateKey,t.creatorsCanRequest=e.creatorsCanRequest||e.CreatorsCanRequest,t.enabled=e.enabled||e.Enabled,t.sendFolderName=e.sendFolderName||e.SendFolderName,t.name=e.name||e.Name,t.displayName=e.displayName||e.DisplayName,t.havePassword=e.havePassword||e.HavePassword,t.havePrivateKey=e.havePrivateKey||e.HavePrivateKey,t.haveUserKey=e.haveUserKey||e.HaveUserKey,t.toModel=function(){return{Id:t.id,Provider:t.provider,UserKey:t.userKey,Username:t.username,Password:t.password,PrivateKey:t.privateKey,CreatorsCanRequest:t.creatorsCanRequest,Enabled:t.enabled,SendFolderName:t.sendFolderName,Name:t.name,DisplayName:t.displayName}},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.TypeName=function(e){return e.Group="Group",e.User="User",e.Access="Access",e.Folder="Folder",e.FolderAccessItem="FolderAccessItem",e.RemoteRecorder="RemoteRecorder",e.Session="Session",e.SessionAccessItem="SessionAccessItem",e.SessionReference="SessionReference",e.Stream="Stream",e.Cut="Cut",e.Playlist="Playlist",e.PlaylistAccessItem="PlaylistAccessItem",e}(Panopto.Core.ServiceInterface.Rest.Objects.TypeName||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Objects.User=function(e){return{id:e.UserId,key:e.UserKey,firstName:e.FirstName,lastName:e.LastName}},Panopto.Core.ServiceInterface.Rest.Objects.User=function(e){var t={};return t.id=e.id||e.Id,t.key=e.key||e.Key,t.name=e.name||e.Name||e.Key,t.email=e.email||e.Email,t.typeName=e.typeName||e.TypeName,t.isExternalSuggestion=function(){return!t.id&&!t.email},t.isInviteRequest=function(){return!t.id&&!!t.email&&t.name&&t.name===t.email},t.joinGroups=function(e,o,n,r){Panopto.Core.ServiceInterface.Rest.Users.joinGroups(t,e,o,n,r)},t.getGroups=function(e,o,n,r){Panopto.Core.ServiceInterface.Rest.Groups.getGroups({MemberId:t.id,page:e},o,n,r)},t.leaveGroup=function(e,o,n,r){Panopto.Core.ServiceInterface.Rest.Groups.removeGroupMember(e,t.id,o,n,r)},t.toModel=function(){return{Id:t.id,Key:t.key,Name:t.name,Email:t.email,TypeName:t.typeName}},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Objects.UserAccessDetails=function(e){return{userId:e.UserId}},(Panopto=(Panopto=Panopto||{})||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Accessibility=function(e){e.slider=function(e,t,o){var n=e.find(".ui-slider-handle");n.attr("role","slider"),n.attr("aria-label",o),n.attr("aria-valuemin",e.slider("option","min")),n.attr("aria-valuemax",e.slider("option","max")),n.attr("aria-valuenow",e.slider("option","value")),n.attr("aria-valuetext",t(e.slider("option","value"))),e.bind("slidechange",function(e,o){n.attr("aria-valuenow",o.value),n.attr("aria-valuetext",t(o.value))}),e.mousedown(function(){n.addClass("clicked")}),n.blur(function(){n.removeClass("clicked")}),n.keydown(function(e){e.keyCode>=33&&e.keyCode<=40&&e.stopPropagation()})},e.tab=function(e,t){var o=e.closest("[role=tablist]");return e.attr("role","tab"),e.attr("aria-controls",t[0].id),e.attr("aria-selected",!1),t.attr("role","tabpanel"),t.attr("aria-labelledby",e[0].id),{selected:function(t){(e.attr("aria-selected",t),t)&&(o.find("[role=tab]").attr("tabindex","-1"),e.attr("tabindex","0"))}}},e.checkbox=function(e){e.keydown(function(t){t.keyCode===Panopto.Core.Key.Enter&&e.click()})},e.trapFocus=function(e){n.length||document.addEventListener("focusin",r,!0);var t=n.indexOf(e);-1===t?n.push(e):n.splice(t+1)},e.releaseFocus=function(e){_.contains(n,e)&&n.splice(n.indexOf(e)),n.length||document.removeEventListener("focusin",r,!0)};var t=0,o=1,n=[],r=function(e){var r=_.last(n),c=$(e.target),l=$(e.relatedTarget);if(!c.is(document)&&!c.closest(r).length){var u=i(r),d=a(u,t),p=a(u,o),f=void 0;if(l.length){var h=s(l[0]),m=s(c[0]),v=l[0].compareDocumentPosition(c[0])===Node.DOCUMENT_POSITION_FOLLOWING,C=m!==h?m>h:v;(f=a(u,C?t:o,h)).length||(f=C?d:p)}else f=d;e.stopPropagation(),f.focus()}},i=function(e){return e.find([":tabbable","iframe:visible:not([tabindex^='-'])"].join(","))},s=function(e){return Number(e.getAttribute("tabindex"))||1/0},a=function(e,n,r){var c=$();for(_.isNumber(r)&&(e=e.filter(function(e,o){return n===t?s(o)>r:s(o)<r}));e.length&&(n===t?c=(c=$(_.min(e,s)))[0]===1/0?e.first():c:n===o&&(c=$(_.max(e.get().reverse(),s))),c.is("iframe"));){var l=c[0],u=$();try{var d=i($(l.contentDocument));u=a(d,n)}catch(e){window.console&&console.warn("Trap focus skipping iframe (probably cross-origin.")}if(u.length){c=u;break}e=e.not(c)}return c};return e}(Panopto.Core.UI.Accessibility||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Animations=function(e){return e.zoomInAndFade=function(e,t,o,n,r,i){(i=i||{}).fadeOutDuration=i.fadeOutDuration||350,i.fadeInDuration=i.fadeInDuration||600,i.zoomDuration=i.zoomDuration||450,i.targetsize=i.targetsize||.9,e.fadeOut(i.fadeOutDuration),n.fadeIn(i.fadeInDuration),o.zoomTo({root:t,targetsize:i.targetsize,duration:i.zoomDuration,animationendcallback:function(){r&&r()}})},e.zoomOutAndFade=function(e,t,o,n,r,i){(i=i||{}).fadeInDuration=i.fadeInDuration||400,i.fadeOutDuration=i.fadeOutDuration||250,i.zoomDuration=i.zoomDuration||550,i.targetsize=i.targetsize||.9,e.show().css("opacity",0),o.zoomTo({root:t,targetsize:i.targetsize,duration:50,animationendcallback:function(){e.animate({opacity:1},i.fadeInDuration),n.fadeOut(i.fadeOutDuration),t.zoomTo({root:t,targetsize:1,duration:i.zoomDuration,animationendcallback:function(){r&&r()}})}})},e}(Panopto.Core.UI.Animations||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.BatchHelpers=function(e){return e.errorTemplate=_.template("<div class='batch-error-text' style='display:none;'><div class='batch-error-message'><@= error.message @></div><@ if (error.retry) { @><a class='batch-error-retry' tabindex='0'><@= error.retryText @></a><span class='batch-error-retrying' style='display:none;'><@= error.retryingText @></span><@ } @><@ if (error.cancel) { @><a class='batch-error-cancel' tabindex='0'><@= error.cancelText @></a><@ } @></div>"),e.uploadRowTemplate=_.template("<@ _.each(files, function (file) { @><div class='batch-animate' style='display:none;'><div id='<@= file.Id @>' class='batch-row' tabindex='0'><div class='index-cell'><@= file.Index @></div><div class='processing-cell'></div><div class='check-cell'></div><div class='icon-cell ext-<@- file.Extension @>'></div><div class='name-cell'><input type='text' class='name-input' data-init='<@- file.Name @>' tabindex='0'></input><div class='total-bytes'><@= file.ReadableSize @></div><div class='progress-bar' style='display:none;'></div><div class='status-text ellipsis' style='display:none;'></div></div><div class='upload-action-list' style='display:none;'></div><div class='remove-cell' title='<@= Panopto.GlobalResources.BatchUpload_Remove @>' tabindex='0'></div><div class='spinner-cell' style='display:none;'></div></div></div><@ }); @>"),e.batchRowTemplate=_.template("<@ _.each(batchItems, function (batchItem, index) { @><div class='batch-animate'><div id='<@= batchItem.DeliveryID @>' class='batch-row' tabindex='0'><div class='index-cell'><@= index + 1 @></div><div class='check-cell'></div><div class='name-cell'><div class='name-text ellipsis'><@= Panopto.Core.TextHelpers.cleanTextWithoutHighlighting(batchItem.SessionName) @></div><div class='progress-bar' style='display:none;'></div></div><div class='remove-cell' data-id='<@= batchItem.DeliveryID @>' title='<@= Panopto.GlobalResources.BatchEdit_Remove @>' tabindex='0'></div></div></div><@ }); @>"),e.removeBatchItemRow=function(t,o,n,r){var i=$("#"+t).closest(".batch-animate");i.nextAll(".batch-animate").each(function(e,t){var o=$(t).find(".index-cell");o.text(parseInt(o.text(),10)-1)}),i.animate({height:0,opacity:0},n,function(){i.remove(),r&&r()}),e.removeError(t,n,o)},e.renderFolderVisibility=function(e,t,o,n,r){var i=$("#folderVisibility");r=r?r.replace(/&#39;/g,"'"):"",n=n?n.replace(/&#39;/g,"'"):"",o?(i.html(n.format("<a id='folderShareLink' tabindex='0'>"+r+"</a>")),Panopto.Core.UI.Handlers.button($("#folderShareLink"),function(){parent.Panopto.Application.defaultInstance.updateState({modalPage:"FolderShare",modalHeader:Panopto.Core.TextHelpers.innerText(t),modalParams:Panopto.Core.StringHelpers.serializeObjectToQueryString({id:e})})})):i.text(n.format(r))},e.renderError=function(t,o,n,r){var i,s=$("#"+t),a=s.prev(".batch-error-text");o.retryText=o.retryText||Panopto.GlobalResources.BatchHelpers_Retry,o.retryingText=o.retryingText||Panopto.GlobalResources.BatchHelpers_Retrying,o.cancelText=o.cancelText||Panopto.GlobalResources.BatchHelpers_Cancel,s.toggleClass(n,!0,r),s.find(".spinner-cell").hide(),s.find("input").attr("disabled","disabled").toggleClass(n,!0,r),i=e.errorTemplate({error:o}),a.length?(a=a.replaceWith(i),(a=s.prev(".batch-error-text")).show()):(a=s.before(i),(a=s.prev(".batch-error-text")).fadeIn({duration:r,queue:!1}).css("display","none").slideDown(r)),o.retry&&Panopto.Core.UI.Handlers.button(a.find(".batch-error-retry"),function(e){$(e).hide(),a.find(".batch-error-cancel").hide(),a.find(".batch-error-retrying").show(),o.retry()}),o.cancel&&Panopto.Core.UI.Handlers.button(s.prev().find(".batch-error-cancel"),function(){e.removeError(t,r,n),o.cancel()})},e.removeError=function(e,t,o){var n=$("#"+e);if(n.hasClass(o)){n.toggleClass(o,!1,t),n.find("input").removeAttr("disabled").toggleClass(o,!1,t);var r=n.prev(".batch-error-text");r.animate({height:0,opacity:0},t,function(){r.remove()})}},e}(Panopto.Core.UI.BatchHelpers||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Color=function(e){return e.parse=function(t){var o=[{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){var t=parseInt(e[1],16).toString(16);return 1==t.length&&(t="0"+t),e[1],[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=function(e){if(2==e.length){var t=parseInt(e,16).toString(16);return 1==t.length&&(t="0"+t),t==e}return!0},r=function(e){var t=e.r/255,o=e.g/255,n=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},i=function(e,t){var o=r(e),n=r(t);return Math.abs((n+.05)/(o+.05))},s=function(t){t.sanitize=function(){this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:Math.round(this.r),this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:Math.round(this.g),this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:Math.round(this.b)},t.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},t.toRGBa=function(e){return"rgba("+this.r+", "+this.g+", "+this.b+", "+e+")"},t.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),o=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==o.length&&(o="0"+o),"#"+e+t+o},t.clone=function(){var e={};return e.r=this.r,e.g=this.g,e.b=this.b,e.ok=this.ok,s(e),e},t.getSafety=function(){var o=t.clone(),n=e.parse("ffffff"),r=i(o,n);if(r>=4.5)return o;for(;r<4.5;)o.r=Math.max(0,Math.floor(.99*o.r)),o.g=Math.max(0,Math.floor(.99*o.g)),o.b=Math.max(0,Math.floor(.99*o.b)),r=i(o,n);return o},t.multiply=function(e){var t={ok:!1};return this.ok&&((t=this.clone()).r=t.r*e,t.g=t.g*e,t.b=t.b*e,t.ok=!0,t.sanitize()),t}},a={ok:!1};"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();for(var c=0,l=o;c<l.length;c++){var u=l[c],d=u.re,p=u.process,f=d.exec(t),h=!/[g-z]/g.test(t);if(f&&n(f[1])&&n(f[2])&&n(f[3])){var m=p(f);a.r=m[0],a.g=m[1],a.b=m[2],a.ok=h}}return s(a),a.sanitize(),a},e}(Panopto.Core.UI.Color||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.Key=Panopto.Core.Key||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Handlers=function(e){var t=Panopto.Core.Constants,o=Panopto.Core.Key;return e.key=function(e,t,o,n){(n=n||{}).keyEvent=n.keyEvent||"keydown",n.preserveExisting||e.unbind(n.keyEvent),e.bind(n.keyEvent,function(e){_.contains(o,e.keyCode)&&(n.allowDefault||e.preventDefault(),n.allowPropagation||e.stopPropagation(),t.call(n.context||e.currentTarget,e.currentTarget,e))})},e.button=function(n,r,i){(i=_.defaults(i||{},{allowDefault:!1,allowDefaultSpaceBar:!1,allowPropagation:!1,pointerEvent:"click",context:void 0,preserveExisting:!1})).preserveExisting||n.unbind(i.pointerEvent+" mousedown blur"),n.on(i.pointerEvent,function(e){i.allowDefault||e.preventDefault(),i.allowPropagation||e.stopPropagation(),r.call(i.context||e.currentTarget,e.currentTarget,e)}),e.key(n,r,[o.Enter].concat(i.allowDefaultSpaceBar?[]:[o.Space]),i),n.mousedown(function(e){return $(e.currentTarget).addClass(t.ClickedClass)}),n.blur(function(e){return $(e.currentTarget).removeClass(t.ClickedClass)})},e.hoverable=function(e,t){e.focus(function(e){return t(e,!0)}).blur(function(e){return t(e,!1)}),e.hover(function(e){t(e,!0)},function(e){t(e,!1)})},e.hoverableParent=function(t,o,n,r){n=n||function(e){o&&o.css("visibility",e?"visible":"hidden")},(r=r||{}).preserveExisting||t.unbind("mouseenter mouseleave focusin focusout"),t.hover(function(){n(!0)},function(){n(!1)}),t.focusin(function(){n(!0)}),e.focusOut(t,function(){n(!1)}),n(!1)},e.noLongerHoverableParent=function(e,t,o){e.unbind("mouseenter mouseleave focusin focusout"),t.css("visibility",o?"visible":"hidden")},e.hoverableChild=function(e,t,o,n){(n=n||{}).preserveExisting||t.unbind("mouseenter mouseleave focus blur"),t.focus(function(){o(!0)}).blur(function(){o(!1)}),t.hover(function(){o(!0)},function(){o(!1)})},e.hoverOrDrag=function(t,o){var n=!1,r=!1;e.captureDrag(t,function(){r=!0},function(){r=!1,n||o(!1)}),e.hoverableParent(t,null,function(e){(n=e)?o(!0):r||o(!1)})},e.captureDrag=function(e,t,o){var n=!1,r=!1;e.mousedown(function(){n=!0}),e.mousemove(function(){n&&!r&&(r=!0,$("body").css("pointer-events","none"),e.css("pointer-events","auto"),t())}),document.addEventListener("mouseup",function(){n=!1,r&&(r=!1,$("body").css("pointer-events",""),e.css("pointer-events",""),o())},!0)},e.focusOut=function(e,t){e.focusout(function(o){o.relatedTarget&&$(o.relatedTarget).closest(e).length||t(o)})},e}(Panopto.Core.UI.Handlers||{}),function(e){!function(e){!function(e){!function(e){var t=function(){function e(e,t,o,n,r){var i=this;this.$input=e,this.cultureCode=t,this.date=o,this.handler=n,this.onCalendarToggle=r,this.wrapInput();var s=$.datepicker.regional[this.cultureCode];!s&&this.cultureCode.length>2&&(this.cultureCode=this.cultureCode.substring(0,2),s=$.datepicker.regional[this.cultureCode]),s||(this.cultureCode="en",s=$.datepicker.regional[this.cultureCode]);var a=$.extend({},s,{showOn:"button",buttonImage:Panopto.cacheRoot+"/Styles/Less/Application/Images/DateFilter/date_icon_calendar.png",buttonText:Panopto.GlobalResources.Components_AccessibleDatepicker_ButtonTitle,buttonImageOnly:!1,showButtonPanel:!0,onClose:function(){i.removeAria(),i.onCalendarToggle&&i.onCalendarToggle(!1),i.$input.closest(".accessible-datepicker").find(".ui-datepicker-trigger").removeAttr("aria-expanded").focus()},onChangeMonthYear:this.onChangeMonthYear});this.$input.datepicker(a),this.makeAccessible(),o&&this.$input.datepicker("setDate",o),n&&(this.$input.change(n),Panopto.Core.UI.Handlers.key(this.$input,n,Panopto.Core.Key.Enter,{preserveExisting:!0}))}return e.prototype.updateOption=function(e,t){this.$input.datepicker("option",e,t),this.makeAccessible()},e.prototype.makeAccessible=function(){var e=this;$(".ui-datepicker-trigger").attr("aria-describedby","datepickerLabel").attr("aria-haspopup","true"),$(".ui-datepicker-trigger").unbind("click.accessibledatepicker").bind("click.accessibledatepicker",function(t){e.onCalendarToggle&&e.onCalendarToggle(!0),$(t.target).closest(".ui-datepicker-trigger").attr("aria-expanded","true"),setTimeout(function(){var t=$(".ui-datepicker-today a")[0];t||(t=$(".ui-state-active")[0]||$(".ui-state-default")[0]),$(".ui-datepicker-calendar").attr("role","presentation"),$("main").attr("id","dp-container"),$("#dp-container").attr("aria-hidden","true"),$("#skipnav").attr("aria-hidden","true"),$(".ui-datepicker-current").hide(),t.focus(),e.datePickHandler(),$(document).on("click","#ui-datepicker-div .ui-datepicker-close",function(){e.closeCalendar()})},0)})},e.prototype.wrapInput=function(){this.$input.wrap('<span class="accessible-datepicker"></span>')},e.prototype.datePickHandler=function(){var e,t=this,o=document.getElementById("ui-datepicker-div");if(o&&this.$input){o.setAttribute("role","application"),o.setAttribute("aria-label","Calendar view date-picker");var n=$(".ui-datepicker-prev",o)[0],r=$(".ui-datepicker-next",o)[0];r.href="javascript:void(0)",n.href="javascript:void(0)",r.setAttribute("role","button"),r.removeAttribute("title"),n.setAttribute("role","button"),n.removeAttribute("title"),this.appendOffscreenMonthText(r),this.appendOffscreenMonthText(n),$(r).on("click",function(){t.handleNextClicks()}),$(n).on("click",function(){t.handleNextClicks()}),this.monthDayYearText(),$(o).on("keydown",function(i){var s=i.which,a=i.target,c=t.getCurrentDate(o);if(c||(c=$("a.ui-state-default")[0],t.setHighlightState(c,o)),27===s)return i.stopPropagation(),t.closeCalendar();if(9===s&&i.shiftKey)i.preventDefault(),$(a).hasClass("ui-datepicker-close")?$(".ui-datepicker-prev")[0].focus():$(a).hasClass("ui-state-default")?$(".ui-datepicker-close")[0].focus():$(a).hasClass("ui-datepicker-prev")?$(".ui-datepicker-next")[0].focus():$(a).hasClass("ui-datepicker-next")&&(e=$(".ui-state-highlight")||$(".ui-state-active")[0])&&e.focus();else if(9===s)i.preventDefault(),$(a).hasClass("ui-datepicker-close")?(e=$(".ui-state-highlight")||$(".ui-state-active")[0])&&e.focus():$(a).hasClass("ui-state-default")?$(".ui-datepicker-next")[0].focus():$(a).hasClass("ui-datepicker-next")?$(".ui-datepicker-prev")[0].focus():$(a).hasClass("ui-datepicker-prev")&&$(".ui-datepicker-close")[0].focus();else if(37===s)!$(a).hasClass("ui-datepicker-close")&&$(a).hasClass("ui-state-default")&&(i.preventDefault(),t.previousDay(a));else if(39===s)!$(a).hasClass("ui-datepicker-close")&&$(a).hasClass("ui-state-default")&&(i.preventDefault(),t.nextDay(a));else if(38===s)!$(a).hasClass("ui-datepicker-close")&&$(a).hasClass("ui-state-default")&&(i.preventDefault(),t.upHandler(a,o,n));else if(40===s)!$(a).hasClass("ui-datepicker-close")&&$(a).hasClass("ui-state-default")&&(i.preventDefault(),t.downHandler(a,o,r));else if(13===s)$(a).hasClass("ui-state-default")?setTimeout(function(){t.closeCalendar()},100):$(a).hasClass("ui-datepicker-prev")?t.handlePrevClicks():$(a).hasClass("ui-datepicker-next")&&t.handleNextClicks();else if(32===s)($(a).hasClass("ui-datepicker-prev")||$(a).hasClass("ui-datepicker-next"))&&a.click();else if(33===s)i.preventDefault(),t.moveOneMonth(a,"prev");else if(34===s)i.preventDefault(),t.moveOneMonth(a,"next");else if(36===s){var l=$(a).closest("tbody").find(".ui-state-default")[0];l&&(l.focus(),t.setHighlightState(l,$("#ui-datepicker-div")[0]))}else if(35===s){var u=$(a).closest("tbody").find(".ui-state-default"),d=u[u.length-1];d&&(d.focus(),t.setHighlightState(d,$("#ui-datepicker-div")[0]))}$(".ui-datepicker-current").hide()})}},e.prototype.closeCalendar=function(){var e=$("#ui-datepicker-div");$(e).off("keydown"),this.$input.datepicker("hide")},e.prototype.removeAria=function(){$("#dp-container").removeAttr("aria-hidden"),$("#skipnav").removeAttr("aria-hidden")},e.prototype.isOdd=function(e){return e%2},e.prototype.moveOneMonth=function(e,t){var o=this,n="next"===t?$(".ui-datepicker-next")[0]:$(".ui-datepicker-prev")[0];if(n){var r="#ui-datepicker-div tbody td:not(.ui-state-disabled)",i=$(r),s=$.inArray(e.parentNode,i);n.click(),setTimeout(function(){o.updateHeaderElements();for(var e=$(r),t=e[s],n=t&&$(t).find("a")[0];!n&&s>=0;)n=(t=e[--s])&&$(t).find("a")[0];o.setHighlightState(n,$("#ui-datepicker-div")[0]),n.focus()},0)}},e.prototype.handleNextClicks=function(){var e=this;setTimeout(function(){e.updateHeaderElements(),e.prepHighlightState(),$(".ui-datepicker-next").focus(),$(".ui-datepicker-current").hide()},0)},e.prototype.handlePrevClicks=function(){var e=this;setTimeout(function(){e.updateHeaderElements(),e.prepHighlightState(),$(".ui-datepicker-prev").focus(),$(".ui-datepicker-current").hide()},0)},e.prototype.previousDay=function(e){var t=document.getElementById("ui-datepicker-div");if(e){var o=$(e).closest("td");if(o){var n=$(o).prev(),r=$("a.ui-state-default",n)[0];n&&r?(this.setHighlightState(r,t),r.focus()):this.handlePrevious(e)}}},e.prototype.handlePrevious=function(e){var t=this,o=document.getElementById("ui-datepicker-div");if(e){var n=$(e).closest("tr");if(n){var r=$(n).prev();if(r&&0!==r.length){var i=$("td a.ui-state-default",r),s=i[i.length-1];s&&setTimeout(function(){t.setHighlightState(s,o),s.focus()},0)}else this.previousMonth()}}},e.prototype.previousMonth=function(){var e=this,t=$(".ui-datepicker-prev")[0],o=document.getElementById("ui-datepicker-div");t.click(),setTimeout(function(){var t=$("tr",o),n=$("td a.ui-state-default",t[t.length-1]),r=n[n.length-1];e.updateHeaderElements(),e.setHighlightState(r,o),r.focus()},0)},e.prototype.nextDay=function(e){var t=document.getElementById("ui-datepicker-div");if(e){var o=$(e).closest("td");if(o){var n=$(o).next(),r=$("a.ui-state-default",n)[0];n&&r?(this.setHighlightState(r,t),r.focus()):this.handleNext(e)}}},e.prototype.handleNext=function(e){var t=document.getElementById("ui-datepicker-div");if(e){var o=$(e).closest("tr"),n=$(o).next();if(n&&0!==n.length){var r=$("a.ui-state-default",n)[0];r&&(this.setHighlightState(r,t),r.focus())}else this.nextMonth()}},e.prototype.nextMonth=function(){var e=this,t=$(".ui-datepicker-next")[0],o=document.getElementById("ui-datepicker-div");t.click(),setTimeout(function(){e.updateHeaderElements();var t=$("a.ui-state-default",o)[0];e.setHighlightState(t,o),t.focus()},0)},e.prototype.upHandler=function(e,t,o){var n=this;o=$(".ui-datepicker-prev")[0];var r=$(e).closest("tr");if(r){var i=$("td",r),s=$("a.ui-state-default",r),a=$.inArray(e,s),c=$(r).prev(),l=$("td",c)[a],u=$("a.ui-state-default",l)[0];c&&l&&u?(this.setHighlightState(u,t),u.focus()):(o.click(),setTimeout(function(){n.updateHeaderElements();var o=$("tr",t),r=o[o.length-1],s=$("td",r),a=$.inArray(e.parentNode,i),c=s[a],l=$("a.ui-state-default",c)[0];if(r&&c&&l)n.setHighlightState(l,t),l.focus();else{var u=o[o.length-2],d=$("td",u)[a],p=$("a.ui-state-default",d)[0];p&&(n.setHighlightState(p,t),p.focus())}},0))}},e.prototype.downHandler=function(e,t,o){var n=this;o=$(".ui-datepicker-next")[0];var r=$(e).closest("tr");if(r){var i=$("td",r),s=$.inArray(e.parentNode,i),a=$(r).next(),c=$("td",a)[s],l=$("a.ui-state-default",c)[0];a&&c&&l?(this.setHighlightState(l,t),l.focus()):(o.click(),setTimeout(function(){n.updateHeaderElements();var e=$("tbody tr",t),o=$("td",e[0])[s],r=$("a.ui-state-default",o)[0];if(o&&r)n.setHighlightState(r,t),r.focus();else{var i=e[1],a=$("td",i)[s],c=$("a.ui-state-default",a)[0];i&&c&&(n.setHighlightState(c,t),c.focus())}},0))}},e.prototype.onCalendarHide=function(){this.closeCalendar()},e.prototype.monthDayYearText=function(){var e=this,t=document.getElementById("ui-datepicker-div");if(t){var o=$("a.ui-state-default",t);$(o).attr("role","button").on("keydown",function(t){32===t.which&&(t.preventDefault(),t.target.click(),setTimeout(function(){e.closeCalendar()},100))}),$(o).each(function(e,o){var n=$(o).closest("tr"),r=$("td",n),i=$.inArray(o.parentNode,r),s=$("thead tr th",t)[i],a=$("span",s)[0],c=$(".ui-datepicker-month",t)[0].innerHTML,l=$(".ui-datepicker-year",t)[0].innerHTML,u=o.innerHTML;if(a&&c&&u&&l){var d=a.title+" "+o.innerHTML+" "+c+" "+l;o.setAttribute("aria-label",d)}})}},e.prototype.updateHeaderElements=function(){var e=this,t=document.getElementById("ui-datepicker-div");if(t){var o=$(".ui-datepicker-prev",t)[0],n=$(".ui-datepicker-next",t)[0];n.href="javascript:void(0)",o.href="javascript:void(0)",n.setAttribute("role","button"),o.setAttribute("role","button"),this.appendOffscreenMonthText(n),this.appendOffscreenMonthText(o),$(n).on("click",function(){e.handleNextClicks()}),$(o).on("click",function(){e.handlePrevClicks()}),this.monthDayYearText()}},e.prototype.prepHighlightState=function(){var e,t=document.getElementById("ui-datepicker-div");(e=$(".ui-state-highlight",t)[0]||$(".ui-state-default",t)[0])&&t&&this.setHighlightState(e,t)},e.prototype.setHighlightState=function(e,t){var o=this.getCurrentDate(t);$(o).removeClass("ui-state-highlight"),$(e).addClass("ui-state-highlight")},e.prototype.getCurrentDate=function(e){return $(".ui-state-highlight",e)[0]},e.prototype.appendOffscreenMonthText=function(e){var t,o=$(e).hasClass("ui-datepicker-next"),n=$.datepicker.regional[this.cultureCode],r=null;r=n?n.monthNames.map(function(e){return e.toLowerCase()}):["january","february","march","april","may","june","july","august","september","october","november","december"];var i=$(".ui-datepicker-title .ui-datepicker-month").text().toLowerCase(),s=$.inArray(i.toLowerCase(),r),a=+$(".ui-datepicker-title .ui-datepicker-year").text().toLowerCase(),c=o?s+1:s-1;o&&"december"===i?(a+=1,c=0):o||"january"!==i||(a-=1,c=r.length-1),t=o?"Next Month, "+this.firstToCap(r[c])+" "+a:"Previous Month, "+this.firstToCap(r[c])+" "+a,$(e).find(".ui-icon").html(t)},e.prototype.firstToCap=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.prototype.onChangeMonthYear=function(){setTimeout(function(){$(".ui-datepicker-calendar").attr("role","presentation")},0)},e}();e.AccessibleDatepicker=t}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.AccessList=function(e,t,o,n,r){var i,s=n.availableRoles,a=n.accessHeader,c=n.usesReceiverSuggestions,l=n.applicationInstance,u=n.restSpinner,d=o.getAccessList,p=o.getSearchResult,f=_.template("<div class='error'><@= message @></div>"),h=_.template("<option value='<@= roleType @>'><@= roleName @></option>"),m=_.template("<div class='modal-title'><@= resources.title @></div><div class='access-container'><div class='no-results-message modal-setting modal-instructions' style='display: none'><@= resources.noResults @></div><div class='modal-instructions modal-setting access-instructions'><@= resources.instructions @></div><div class='access-table-wrapper' style='display: none'><table class='modal-table compact-table hover-feedback'><thead><tr><th><@= resources.name @></th><th><@ if (accessHeader === Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session) { @><@= resources.folder @><@ } else { @><@= resources.role @><@ } @></th><th class='remove-column'></th></tr></thead><tbody class='list-tbody'></tbody></table><div class='error-container error' style='display: none'></div></div><div class='loading-indicator' style='display: none'><@= resources.loading @></div></div><div class='search-container modal-section-break'><div class='access-title'><@= resources.grantDescription @></div><div class='message-list'></div><ul class='access-search'></ul><select class='access-roles' tabindex='0' style='display: none'></select><div class='submit-container' style='display: none'><button class='standard-button branded-button submit'><@= resources.save @></button><button class='standard-button cancel'><@= resources.cancel @></button></div></div>"),v=[];$(m({resources:r,accessHeader:a})).appendTo(e);var C=e.find(".access-table-wrapper"),y=e.find("table"),P=e.find(".list-tbody"),S=e.find(".no-results-message"),g=e.find(".access-instructions"),I=e.find(".error-container"),b=e.find(".message-list"),R=e.find(".access-search"),T=e.find(".submit-container"),w=T.find(".cancel"),A=T.find(".submit"),E=e.find(".access-roles"),D=function(e,t){_.each(e,function(e){var o=c?e.receiver:e.item,n=c?e.receiver.typeName:e.item.typeName,i=$(_.template("<tr class='access-row' data-row-id='<@= access.id @>'><td><@ if (typeName === Panopto.Core.ServiceInterface.Rest.Objects.TypeName.User) { @><div class='access-icon user'></div><@ } else if (typeName === Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Group) { @><div class='access-icon group'></div><@ } @><@ if (Panopto.user.isAdmin) { @><a data-id='<@= item.id @>'data-name='<@- item.name @>'class='access-link'tabindex='0'title='<@- item.name @>'><@- item.name @></a><@ } else { @><span title='<@- item.name @>'><@- item.name @></span><@ } @></td><td><@ if (typeName === Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session) { @><@- item.parent.name @><@ } else { @><@= roleName @><@ } @></td><td class='remove-column'><@ if (access.isEditable) { @><a title='<@= resources.removeRow @>'data-id='<@= access.id @>'tabindex='0'alt='delete'class='remove-link remove-icon'></a><@ } @></td></tr>")({access:e,item:o,roleName:Panopto.Data.AclRoleType.getDisplayName(e.role),typeName:n,resources:r}));Panopto.Core.UI.Handlers.hoverableParent(i,null,function(e){i.toggleClass("hovering",e)}),i.appendTo(t),Panopto.Core.UI.Handlers.button(t.find(".access-row:last .remove-link"),function(e){confirm(r.confirmRemove)&&function(e){Panopto.leavePageConfirmationMessage=Panopto.GlobalResources.ModalPopup_PossibleUnsavedChanges;var o=$(e).attr("data-id");Panopto.Core.ServiceInterface.Rest.Access.deleteAccess(o,function(){t.find(PanoptoTS.StringHelpers.format("[data-row-id='{0}']",o)).remove(),v=_.reject(v,function(e){return e.id===o}),M()},function(){alert(r.removalError)},u.showUntilComplete(function(){return Panopto.leavePageConfirmationMessage=null}))}(e)}),Panopto.user.isAdmin&&Panopto.Core.UI.Handlers.button(t.find(".access-row:last .access-link"),function(e){!function(e,t){var o=$(e).attr("data-id"),n=$(e).attr("data-name"),r=t===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.User?Panopto.Core.StringHelpers.serializeObjectToInitParams({publicId:o}):Panopto.Core.StringHelpers.serializeObjectToInitParams({id:o}),i=t===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Folder||t===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.FolderAccessItem?"FolderInfo":t===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session||t===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionAccessItem?"SessionInfo":t===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.RemoteRecorder?"RemoteRecorderPreview":t===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.User?"UserInfo":"GroupInfo";l.updateState({modalPage:i,modalHeader:n,modalParams:r})}(e,n)})})},M=function(){C.toggle(!!v.length),g.toggle(!!v.length),S.toggle(!v.length)},U=function(){b.empty().hide(),clearTimeout(i)},k=function(e){switch(e){case Panopto.Data.AclRoleType.Viewer:return r.viewer;case Panopto.Data.AclRoleType.Creator:return r.creator;case Panopto.Data.AclRoleType.Publisher:return r.publisher;case Panopto.Data.AclRoleType.Admin:return r.admin}},x=function(){e.find(".access-row").remove(),F.start()},F=Panopto.Core.UI.Components.infiniteScroll(C,C,y.find(".loading-indicator"),d,{onSuccess:function(e,t){v=v.concat(e.results),0===t&&M(),D(e.results,P)},onFailure:function(){C.show(),I.show(),Panopto.Core.UI.Components.renderErrors(I,[r.serverError])},spinner:u.showUntilComplete}),O=Panopto.Core.UI.Components.tagSearch(R,p,{initialPlaceholder:r.initialPlaceholder},{onChange:function(e){T.toggle(!!e),U()}});return s.length>1&&_.each(s,function(e){$(h({roleType:e,roleName:k(e)})).appendTo(E),E.show()}),Panopto.Core.UI.Handlers.button(w,function(){O.clear()}),Panopto.Core.UI.Handlers.button(A,function(){Panopto.leavePageConfirmationMessage=Panopto.GlobalResources.ModalPopup_PossibleUnsavedChanges;var e=[],o=s.length>1?parseInt(E.val(),10):_.first(s);_.each(O.getModels(),function(n){var r=c?t:n,i=c?n:t;e.push(Panopto.Core.ServiceInterface.Rest.Objects.Access({item:r,receiver:i,role:o}))}),Panopto.Core.ServiceInterface.Rest.Access.batchCreate(e,!1,null,function(e){O.clear(),e.succeeded.length&&x(),function(e,o){U(),_.each(e.failed,function(e){var n;n="Object already exists"===e.message?String.format(r.redundantError,t.name,k(o),e.source.item.name):e.source&&e.source.item?String.format(r.serverErrorAddingAccess,e.source.item.name):r.internalServerError,$(f({message:n})).appendTo(b)}),e.failed.length&&(b.show(),clearTimeout(i),i=setTimeout(function(){b.fadeOut(Panopto.Core.Constants.FadeOutSpeed,b.empty)},Panopto.Core.Constants.MessageTimeout))}(e,o)},function(){alert(r.errorAddingAccess)},u.showUntilComplete(function(){return Panopto.leavePageConfirmationMessage=null}))}),F.start(),{refresh:x}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.UI.Components=function(e){var t=Panopto.Core.ServiceInterface.Objects,o=t.ApprovalActionType,n=t.ApprovalResult;return e.approvalStatus=function(e,r,i,s,a){var c="<div class='instructions'></div><textarea tabindex='0'></textarea><div><a class='ok-button' tabindex='0'>"+r.ApprovalStatus_OK+"</a><a class='cancel-button' tabindex='0'>"+r.ApprovalStatus_Cancel+"</a></div>",l=i.$container,u=i.$statusText||$(),d=i.$metadata,p=i.$error,f=i.$actions,h=i.$messagePopup,m={},v=function(e,o,r){Panopto.Util.callWebMethod({methodName:e,params:o,onSuccess:function(e){m=t.ApprovalState(e),y(r)},onFailure:function(){m={availableActions:[],result:n.UnknownError},y(r)}})},C=function(o,n){v("UpdateApprovalState",t.ApprovalRequest(e,m.actionId,o,n),void 0)},y=function(e){var t,i,c=[];m.result===n.NoAccess||m.result===n.ApprovalsDisabledForFolder?l.hide():(t=r[PanoptoTS.StringHelpers.format("ApprovalStatus_Status_{0}",_.invert(o)[m.actionType])],i=moment(Panopto.Core.TimeHelpers.toLocalPanoptoTime(m.date,s)).format("LLL"),u.text(m.actionType===o.Cancel?t:r.ApprovalStatus_StatusAndDate.format(t,i)),_.each(o,function(e,t){var n=e===o.Request&&m.actionType===o.Reject;_.contains(m.availableActions,e)&&c.push({type:e,name:r[PanoptoTS.StringHelpers.format("ApprovalStatus_Action_{0}",n?"Resubmit":t)],className:t,requiresMessage:e===o.Reject||n})}),f.html(_.template("<@ _.each(actions, function (action) { @><a class='approval-action <@= action.className @>' data-actionType='<@= action.type @>' tabindex='0'><@= action.name @></a><@ }); @>")({actions:c})),Panopto.Core.UI.Handlers.button(f.find(".approval-action"),function(e){var t,n,i=_.find(c,function(t){return t.type===parseInt($(e).attr("data-actionType"),10)});i.requiresMessage?(t=i.type,(n=h.find("textarea")).val(""),h.find(".ok-button").hide(),h.find(".instructions").text((t===o.Reject?r.ApprovalStatus_Instructions_Reject:r.ApprovalStatus_Instructions_Resubmit)+":"),f.hide(),h.show(),Panopto.Core.UI.Handlers.button(h.find(".ok-button"),function(){var e=Panopto.Core.TextHelpers.cleanTextWithoutHighlighting($.trim(n.val()));e&&C(t,e)})):C(i.type,void 0)}),m.displayUser=PanoptoTS.StringHelpers.format("{0}: {1}",m.isPublisherAction?r.ApprovalStatus_Role_Publisher:r.ApprovalStatus_Role_Owner,m.username),d.html(_.template("<div class='action-message'><@- state.message @></div><div class='action-user'><@= state.displayUser @></div>")({state:m})),d.toggle(!!m.message),p.text(r[PanoptoTS.StringHelpers.format("ApprovalStatus_Error_{0}",_.invert(n)[m.result])]||""),l.show(),h.hide(),f.show(),m.result!==n.Success||e||a())};h.html(c),Panopto.Core.UI.Handlers.button(h.find(".cancel-button"),function(){f.show(),h.hide()}),h.find("textarea").keyup(function(e){var t=Panopto.Core.TextHelpers.cleanTextWithoutHighlighting($.trim($(e.currentTarget).val()));h.find(".ok-button").toggle(!!t)}),l.hide(),v("GetApprovalState",t.ApprovalRequest(e),!0)},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.carousel=function(e,t){var o,n,r,i,s,a,c=e.find(".left-button"),l=e.find(".right-button"),u=e.find(".carousel"),d=e.find(".viewable-area"),p=function(){o=_.reduce(e.find(".selection"),function(e,t){return e+$(t).outerWidth(!0)},2),u.innerWidth(o),n=Math.clamp(o-d.width(),0,o),r=d.innerWidth()/2,i=-n},f=function(){return parseInt(u.css("left"),10)},h=function(){var e=f();l.toggleClass("shown",e!==i),c.toggleClass("shown",0!==e),s=d.offset().left,a=s-n,u.draggable("option","containment",[a,0,s,0])},m=function(e){var t=e?r:-r,o=function(){return u.css("left",Math.clamp(f()+t,i,0))};Panopto.Core.Browser.isCssSupported("transition")?(u.draggable("disable"),o().one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){u.draggable("enable"),u.css("transition","all 0s ease 0s"),h()}).css("transition",".2s")):(o(),h())};return p(),t.onModalResize.push(p),t.onModalResize.push(h),Panopto.Core.UI.Handlers.button(c,function(){m(!0)}),Panopto.Core.UI.Handlers.button(l,function(){m(!1)}),u.draggable({axis:"x",distance:10,start:function(){u.addClass("not-selectable")},stop:function(){u.removeClass("not-selectable"),h()}}),h(),{refresh:function(){p(),h()},isSelectable:function(){return!u.hasClass("not-selectable")}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.confirmDialog=function(e,t){return{open:function(o,n,r,i){i=i||{},n.cancelHandler=n.cancelHandler||$.noop,n.showHandler=n.showHandler||function(){e.show()},n.hideHandler=n.hideHandler||function(){e.hide()},e.html(_.template("<div class='confirm-wrapper'><div class='confirm-dialog'><div class='confirm-content'><@= content @></div><div class='confirm-buttons'><div class='confirm-button ok-button' tabindex='0'><@= okText @></div><div class='confirm-button cancel-button' tabindex='0' style='display:none;'><@= cancelText @></div></div></div></div>")({content:o,okText:i.okText||t.okText,cancelText:i.cancelText||t.cancelText})),e.keydown(function(e){e.stopPropagation()}),e.height(e.parent().height()),Panopto.Core.UI.Handlers.focusOut(e,function(){r?n.cancelHandler():n.okHandler(),n.hideHandler()}),Panopto.Core.UI.Handlers.button(e.find(".ok-button"),function(){n.okHandler(),n.hideHandler()}),r&&(Panopto.Core.UI.Handlers.button(e.find(".cancel-button"),function(){n.cancelHandler(),n.hideHandler()}),e.find(".cancel-button").show()),n.showHandler()},$getDialog:function(){return e.find(".confirm-dialog")}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components.CopyrightNotice=function(e,t,o){var n,r=_.template('\n        <div class ="centered-message">\n            <div id="copyrightNoticeText"></div>\n            <div id="copyrightNoticeTimer"></div>\n        </div>'),i=!1;return e.empty().html(r()).hide(),t&&$("#copyrightNoticeText",e).html(Panopto.Core.TextHelpers.displayLineBreaks(t)),n=new PanoptoTS.Core.UI.Components.RadialTimer($("#copyrightNoticeTimer",e),o,{size:38,fill:"transparent",stroke:"white",strokeWidth:2}),{showNotice:function(t){i||(n.onElapsed(function(){return function(t){return i=!1,e.hide(),"function"==typeof t&&t(),!1}(t)}),i=!0,e.show(),n.start())},isShowingNotice:function(){return i}}},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.DateFilter=function(e,t,o,n){n=n||{};var r,i,s=(o=o||{}).startDate||null,a=o.endDate||null,c=o.datepickerOptions||{},l=o.lang,u=n.changedDate||$.noop,d=function(){var e,t=r.datepicker("getDate"),o=i.datepicker("getDate");t&&o&&t>o&&(e=t,t=o,o=e,r.datepicker("setDate",t),i.datepicker("setDate",o)),u(t,o)};return e.html(_.template("<div class='date-row'><div class='label'><@= resources.from @></div><input class='start-date-text-box' type='text'/></div><div class='date-row second-row'><div class='label'><@= resources.to @></div><input class='end-date-text-box' type='text'/></div>")({resources:t})),r=e.find(".start-date-text-box"),i=e.find(".end-date-text-box"),new PanoptoTS.Core.UI.Components.AccessibleDatepicker(r,l,s),new PanoptoTS.Core.UI.Components.AccessibleDatepicker(i,l,a),_.each(_.pairs(c),function(e){var t,o;t=e[0],o=e[1],r.datepicker("option",t,o),i.datepicker("option",t,o)}),r.on("change",function(){d()}),i.on("change",function(){d()}),{getStartDate:function(){return r.datepicker("getDate")},getEndDate:function(){return i.datepicker("getDate")},setStartDate:function(e){r.datepicker("setDate",e)},setEndDate:function(e){i.datepicker("setDate",e)},toggleDisableDates:function(e){r.prop("disabled",e),i.prop("disabled",e)}}},function(e){!function(e){!function(e){!function(e){var t;!function(e){e[e.All=0]="All",e[e.Today=1]="Today",e[e.Yesterday=2]="Yesterday",e[e.LastWeek=3]="LastWeek",e[e.LastMonth=4]="LastMonth",e[e.LastThreeMonths=5]="LastThreeMonths",e[e.LastSixMonths=6]="LastSixMonths",e[e.Custom=7]="Custom"}(t=e.DateFilterItem||(e.DateFilterItem={}));var o=function(){function e(){}return e.toDateRange=function(e){var o,n=new Date,r=n;switch(e){case t.All:o=r=null;break;case t.Today:o=moment(n).startOf("day").toDate();break;case t.Yesterday:r=moment(n).startOf("day").toDate(),o=moment(r).subtract(1,"days").toDate();break;case t.LastWeek:o=moment(n).subtract(7,"days").toDate();break;case t.LastMonth:o=moment(n).subtract(30,"days").toDate();break;case t.LastThreeMonths:o=moment(n).subtract(90,"days").toDate();break;case t.LastSixMonths:o=moment(n).subtract(180,"days").toDate();break;default:throw"Invalid DateFilterItem passed to DateFilterItemExtensions.toDateRange"}return{start:o,end:r}},e.toUnboundedDateRange=function(o){var n=e.toDateRange(o);return o!==t.Yesterday&&(n.end=null),n},e}();e.DateFilterItemExtensions=o}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.editableSetting=function(e,t,o,n){var r,i=o.revertSetting,s=o.saveSetting,a="prompt",c="Admin_Settings_Error_{0}",l=_.template("<div class='editable-setting' datasetting-id='<@- item.Id @>' datasetting-originalvalue='<@- item.Value @>'><@ if (item.InputType === Panopto.Core.SettingInputType.MultiLine || item.InputType === Panopto.Core.SettingInputType.SingleLine) { @><textarea class='value-edit' tabindex='0' rows='4'><@- item.Value @></textarea><@ } else if (item.InputType === Panopto.Core.SettingInputType.Numeric || item.InputType === Panopto.Core.SettingInputType.Password) { @><input type=<@ if (item.InputType === Panopto.Core.SettingInputType.Password) { print('password'); } else { print('text'); } @> tabindex='0' class='value-edit' value='<@- item.Value @>'/><@ } else if (item.InputType === 'Boolean') { @><input type='checkbox' tabindex='0' class='value-edit' /><@ } else if (item.InputType === Panopto.Core.SettingInputType.DropDown) { @><select class='value-edit' tabindex='0'><@ _.each(item.PossibleValues, function (possValue) { @><option value='<@- possValue.Value @>' <@ if (possValue.Value === item.Value) { print('selected') } @>><@- possValue.Name @></option><@ }); @></select><@ } @><br /> <div class='edit-controls'><div class='save-edit active-edit' tabindex='0' style='display:none'><@= resources.Save @></div><div class='cancel-edit active-edit' tabindex='0' style='display:none'><@= resources.Cancel @></div><div class='revert-to-default-setting' tabindex='0' style='display:none'><@= resources.Admin_Settings_UseDefault @></div></div><div class='default-block'><div class='default-label'><@= resources.Admin_Settings_DefaultLabel @></div>&nbsp;<div class='default-value-display'><@- item.DefaultValueDisplay @></div><div class='default-value'><@- item.DefaultValue @></div></div><div class='error' style='display:none'></div></div>"),u=function(){var e=r.find(".default-value").text(),t=r.find(".value-edit").val();r.find(".default-block").toggle(e!==t&&e.length>0),r.find(".revert-to-default-setting").toggle(e!==t),e.length||r.find(".revert-to-default-setting").text(n.Admin_Settings_ClearValue)},d=function(e){var t=n[PanoptoTS.StringHelpers.format(c,e)]||n.Admin_Settings_Error_UnknownError;r.find(".error").text(t).show(),p()},p=function(){r.find(".value-edit").val(r.attr("datasetting-originalvalue")),m()},f=function(e){var t=r.find(".value-edit");r.attr("datasetting-originalvalue",e.Value),t.val(e.Value),u(),m()},h=function(){var e={settingId:r.attr("datasetting-id")};i(e,function(e){e.ErrorCode?d(e.ErrorCode):f(e)},d)},m=function(){var e=r.find(".value-edit");r.find(".active-edit").toggle(!1),e.blur()},v=function(){var e=r.find(".value-edit").val()!==r.attr("datasetting-originalvalue");r.find(".active-edit").toggle(e),r.find(".error").hide()},C=function(){var e=r.find(".value-edit"),t={settingId:r.attr("datasetting-id"),newValue:$.trim(e.val())};s(t,function(e,t){t&&f(e)},d)};return r=$(l({item:t,resources:n})),e.append(r),function(){var e=r.find(".value-edit"),t=r.find(".save-edit"),o=r.find(".revert-to-default-setting"),i=r.find(".cancel-edit");r.find(".setting-description");u(),Panopto.Core.UI.Components.placeholder(e.filter("input[type=text], textarea"),n.Admin_Settings_SetValue,a),Panopto.Core.UI.Handlers.button(o,h),Panopto.Core.UI.Handlers.button(t,C),Panopto.Core.UI.Handlers.button(i,p),r.mousedown(function(t){t.target!==e[0]&&(t.preventDefault(),t.stopPropagation(),e.focus())}),e.filter("select").change(v),e.keyup(function(o){if(13==o.which||27==o.which)return o.preventDefault(),13==o.which?C():p(),void e.blur();t.is(":visible")||e.val()===r.attr("datasetting-originalvalue")||v()})}(),{}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI.Components=function(e){return e.externalScrollbar=function(e,t,o,n,r){var i,s,a="<div class='external-scroll-frame "+(n?"horizontal":"vertical")+"'><div class='external-scroll-pane'></div></div>",c=function(){n?(s.width(o.width()),i.scrollLeft(-parseFloat(o.css("left")))):(s.height(o.height()),i.scrollTop(-parseFloat(o.css("top"))))},l=function(){if(n){var e=i.scrollLeft();o.css("left",-e),r&&r({left:e})}else{var t=i.scrollTop();o.css("top",-t),r&&r({top:t})}};return e.html(a),i=e.find(".external-scroll-frame"),s=e.find(".external-scroll-pane"),i.scroll(l),t.on("wheel",function(e){var t,o=1===e.originalEvent.deltaMode,r=n?o?e.originalEvent.deltaX*(100/3):e.originalEvent.deltaX:o?e.originalEvent.deltaY*(100/3):e.originalEvent.deltaY;Math.abs(r)&&(i.stop(!0,!0),n?(t=i.scrollLeft(),i.animate({scrollLeft:t+r},200)):(t=i.scrollTop(),i.animate({scrollTop:t+r},200))),e.preventDefault()}),c(),{resize:c,scroll:l}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.filteringPopup=function(t,o,n,r){var i,s,a,c,l=(r=r||{}).filtersList||[],u=r.selectedFilters||[],d=r.zIndex||1,p=r.onSubmit,f=!0,h=_.template("<div style='display:none;' class='filtering-popup'><div class='filter-select-all filter-row'><input type='checkbox' data-id='filterAll' class='select-all-checkbox' /><div data-for='filterAll' class='filter-name'>"+n.FilterPopup_SelectAll+"</div></div><@ _.each(filters, function(filter) { @><div class='filter-row'><input type='checkbox' id='filter-<@= filter.id @>' data-id='<@= filter.id @>' /><div data-for='<@= filter.id @>' class='filter-name'><@= filter.name @></div></div><@ }); @><div class='buttons-container'><div class='submit' tabindex='0'>"+n.FilterPopup_Submit+"</div><div class='cancel' tabindex='0'>"+n.FilterPopup_Cancel+"</div><div class='clear-floats'></div></div></div>"),m=function(){var e=t.find("input[type='checkbox']:checked").not(".select-all-checkbox");c.prop("checked",e.length===l.length),c.prop("indeterminate",e.length&&e.length<l.length),f=e.length,s.toggleClass("disabled",!f)},v=function(){t.find("input[type='checkbox']").prop("checked",!1),_.each(u,function(e){$("#filter-"+e).prop("checked",!0)}),m()},C=function(){v(),i.hide()};return(i=$(h({filters:l}))).css("z-index",d),t.html(i),e.popup(i,o,null,C),s=t.find(".submit"),a=t.find(".cancel"),c=t.find(".select-all-checkbox"),t.find(".filter-name").on("click",function(e){var o=$(e.target).attr("data-for"),n=t.find("input[data-id='"+o+"']");n.prop("checked",!n.prop("checked")),n.change()}),c.on("change",function(e){t.find(".select-all-checkbox").prop("checked")?t.find("input[type='checkbox']").not(".select-all-checkbox").prop("checked",!0):t.find("input[type='checkbox']").not(".select-all-checkbox").prop("checked",!1)}),t.find("input[type='checkbox']").on("change",function(){m()}),Panopto.Core.UI.Handlers.button(s,function(){if(f){var e=t.find("input[type='checkbox']:checked").not(".select-all-checkbox"),o=_.map(e,function(e){return $(e).attr("data-id")});u=o,p&&p(o),i.hide()}}),Panopto.Core.UI.Handlers.button(a,C),v(),{selectedFilters:function(e){return e&&function(e){u=e,v()}(e),u}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.UI.Components=function(e){var t=Panopto.Core.Constants,o=Panopto.Core.ServiceInterface.Rest.Objects,n=o.Folder.SortOrder;return e.FolderPickerStyles={Header:"header",Inline:"inline",Box:"box",ModalSetting:"modal-setting-picker"},e.folderPicker=function(r,i,s){var a,c,l,u,d,p,f,h,m,v,C,y,P=(s=s||{}).childIndent||20,S=s.excludedFolders||[],g=s.allowNoSelection,I=s.noSelectionClass,b=s.onChange||$.noop,R=s.selectedFolderId||null,T=s.selectedFolderName,w=s.pickerStyle,A=s.createSessionAccess,E=s.createFolderAccess,D=s.includeSandboxes,M=s.includeMySandbox,U=Panopto.user.sandboxFolderId,k=E?Panopto.Core.FolderSet.AllFolderCreationFolders:A?Panopto.Core.FolderSet.AllSessionCreationFolders:Panopto.Core.FolderSet.AllFolders,x={depth:null,parent:null,rendered:!1,expanded:!1,nextChildPage:0,pausedDescendants:[]},F=0,O=1,N={},B=_.extend({},x,{depth:-1}),j=!1,V=$(),H=0,L=$(),G=F,Q=0,q=0,W=$("<div class='input-controls'><input type='text' autocomplete='off' class='ellipsis' placeholder='"+i.instructions+"' /><div class='folder-spinner'></div><div class='dropdown-open-icon'></div></div><div class='dropdown-list tree-view' style='display:none;'><div class='tree-list'><div class='tree-recent'><div class='tree-subtitle'><i class='material-icons md-18'>&#xE192;</i><span>"+i.quickAccess+"</span></div></div><div class='tree-all'><div class='tree-subtitle'><i class='material-icons md-18'>&#xE2C8;</i><span>"+i.allFolders+"</span></div></div><div class='message' style='display:none;'>"+i.loading+"</div></div><div class='search-list'><div class='message'></div></div></div>"),z=_.template("<div class='folder-wrapper tree-folder-<@= id @>'><div class='folder' data-public-id='<@= id @>' tabindex='0' style='padding-left: <@= depth * "+P+" @>px'><div class='expand-spacer'></div><div class='folder-title'><@- name @></div></div><div class='folder-children children-<@= id @>' style='display:none'></div></div>"),K=_.template("<div class='folder-wrapper list-folder-<@= id @>'><div class='folder' data-public-id='<@= id @>' tabindex='0'><div class='expand-spacer'></div><div class='folder-title'><@= name @></div><div class='parent-folder-text'><@- parentText @></div></div></div>"),Z=function(e){return N[e.id]||(e.id===U&&(e.parent=null),N[e.id]={id:e.id,name:e.name||i.privateFolder,isRecordable:!!e.userCanCreateSessions,isMyFolder:e.id===U,disabled:!e.isEnumerable||A&&!e.userCanCreateSessions||E&&!e.userCanCreateFolders||_.contains(S,e.id),parentId:e.parent?e.parent.id:null,parentName:e.parent?e.parent.name:"",hasChildren:!!e.hasAccessibleChildren}),N[e.id]},Y=function(e){var t=(e=e||{}).parentId,r=e.query,i=n.getName(e.sort||n.Depth),s=!_.isUndefined(e.sortDescending)&&e.sortDescending,a=M&&(_.isUndefined(e.includeMyFolder)||e.includeMyFolder),c=e.index||0,l=e.size,u=e.onSuccess||$.noop;J(1);var d=o.FolderFilter({parentId:t,folderSet:k,includeMyFolder:a,includePersonalFolders:D,searchTerm:r}),p=o.PagingParameters({page:c,pageSize:l,sort:i,sortDescending:s});Panopto.Core.ServiceInterface.Rest.Folders.getFolders(_.extend(d,p),function(e){var o={folders:_.map(e.results,Z),parentId:t,index:c,hasMorePages:e.hasMorePages};u(o)},function(e,t,o){window.console&&console.log(o)},function(){J(-1)})},J=function(e){Q+=e,y.find(".loading-block").toggle(Q>0)},X=function(){N={},d.find(".folder-wrapper").remove(),p.hide(),m.text(i.loading).show(),f.hide(),h.hide(),ee();var e=te(),t=oe(),o=ne();$.when(e,t,o).done(function(){function e(){f.show(),h.show(),h.find(".folder-wrapper").length||m.text(i.noFolders).show()}R?re(R).done(e):e()})},ee=function(){if(g){var e=Z({id:t.EmptyGuid,name:i.noSelectionText,isEnumerable:!0,userCanCreateSessions:!0,userCanCreateFolders:!0});se(e,void 0).prependTo(d).find(".folder").addClass("no-selection").addClass(I),R||re(t.EmptyGuid)}},te=function(){var e=$.Deferred();return Y({sort:n.RecentlyUsed,sortDescending:!0,size:3,onSuccess:function(t){var o=_.where(t.folders,{disabled:!1});o.length&&(p.show(),_.each(o,function(e){se(e,void 0).appendTo(f)}),Re(void 0)),e.resolve()}}),e.promise()},oe=function(){var e=$.Deferred();return U&&M?Y({parentId:U,onSuccess:function(t){var o=Z({id:U,name:i.myFolder,isEnumerable:!0,userCanCreateSessions:!0,userCanCreateFolders:!0,parent:null,hasAccessibleChildren:!!t.folders.length});ce([o]),le(o),ae(t,void 0),e.resolve()}}):e.resolve(),e.promise()},ne=function(){var e=$.Deferred();return Y({parentId:null,includeMyFolder:!1,onSuccess:function(t){ae(t,function(){m.hide()}),e.resolve()}}),e.promise()},re=function(e){R=e;var o=$.Deferred(),n=N[e];if(n)o.resolve(n);else if(e===t.EmptyGuid){var r=Z({id:t.EmptyGuid,name:i.noSelectionText,isEnumerable:!0,userCanCreateSessions:!0,userCanCreateFolders:!0});o.resolve(r)}else!function(e,t){J(1),Panopto.Core.ServiceInterface.Rest.Folders.getOne(e,function(e){var o=Z(e);t(o)},function(e,t,o){window.console&&console.log(o)},function(){J(-1)})}(R,function(e){R===U&&(e.name=i.myFolder),o.resolve(e)});return $.when(o).done(function(t){R===e&&(T=t.name,ye(),j&&ie(t))}),o.promise()},ie=function(e){var o=$();(o=G===F&&e.id===V.data("publicId")?V.closest(".folder-wrapper"):d.find(PanoptoTS.StringHelpers.format(".list-folder-{0}",e.id))).length||(o=se(e,void 0).insertAfter(f.find(".tree-subtitle"))),p.toggle(!!f.find(".folder").length),d.find("."+t.SelectedClass).removeClass(t.SelectedClass),o.find("> .folder").addClass(t.SelectedClass),Re(void 0)},se=function(e,t){var o=t?Panopto.Core.TextHelpers.highlightMatches(e.name,t,"search-match"):_.escape(e.name),n=e.parentName?i.inFolder.format(e.parentName):"",r=$(K({id:e.id,name:o,parentText:n}));return r.find(".folder-title").toggleClass("creator",e.isRecordable),r.find(".folder-title").toggleClass("myFolder",e.isMyFolder),Panopto.Core.UI.Handlers.button(r,function(){Pe(r.find(".folder"))}),r},ae=function(e,t){var o=e.parentId?N[e.parentId]:B;if(o.nextChildPage===e.index){ce(e.folders);var n=e.folders.length?e.folders[e.folders.length-1].id:null,r=n?N[n].depth:o.depth+1,i=e.hasMorePages?r-1:r;if(_.each(e.folders,function(e){e.rendered||((e.depth<=i||e.depth===o.depth+1)&&le(e),e.depth<=i&&(e.parent.nextChildPage=null))}),Re(void 0),i<o.depth+1){o.nextChildPage=e.index+1,o.allPagesComplete=t;for(var s=o;s&&s.expanded;)s=s.parent;s?s.pausedDescendants.push(o):fe(o)}else t&&t()}},ce=function(e){_.each(e,function(e){e.rendered||(N[e.id]=_.extend(e,x),e.parent=N[e.parentId]||B,e.depth=e.parent.depth+1)})},le=function(e){var o=$(z(e)),n=o.find(".folder"),i=n.find(".expand-spacer"),s=n.find(".folder-title");n.toggleClass(t.SelectedClass,!1).toggleClass(t.DisabledClass,e.disabled),i.toggleClass("expandable",e.hasChildren),s.toggleClass("myFolder",e.isMyFolder),s.toggleClass("creator",e.isRecordable&&!e.isMyFolder),Panopto.Core.UI.Handlers.button(n,function(){Pe(n)}),e.hasChildren&&(Panopto.Core.UI.Handlers.button(i,function(){de(n,void 0),Se(n)}),i.mousedown(function(e){e.preventDefault()})),e.isMyFolder?o.insertAfter(h.find(".tree-subtitle")):e.parent===B?o.appendTo(h):r.find(".children-"+e.parent.id).append(o),e.rendered=!0},ue=function(e,t){e.data("publicId");de(e,t),e.siblings(".folder-children").find("> .folder-wrapper > .folder").each(function(e,o){ue($(o),t)})},de=function(e,t){var o=N[e.data("publicId")];if(o.hasChildren){o.expanded=void 0===t?!o.expanded:t;var n=h.find(".children-"+o.id);n.siblings(".folder").find(".expandable").toggleClass("showing-children",o.expanded),n.toggle(o.expanded),o.expanded&&pe(o),Re(void 0)}},pe=function(e){null!==e.nextChildPage&&fe(e),_.each(e.pausedDescendants,function(e){fe(e)}),e.pausedDescendants=[]},fe=function(e){for(var t=e;t&&!t.isMyFolder;)t=t.parent;var o=!!t&&t.isMyFolder;Y({parentId:e.id,includeMyFolder:o,index:e.nextChildPage,onSuccess:function(t){ae(t,e.allPagesComplete)}})},he=function(e){G===F&&e===O&&(V=$());var t=(G=e)===F;u.toggleClass("tree-view",t),u.toggleClass("search-view",!t),a=t?d:v,B.expanded=t,t?(c.val("").focus(),ge(V=L,!0),j&&pe(B)):(q++,v.find(".folder-wrapper").remove(),C.text(i.searchingText).show()),Re(void 0)},me=_.debounce(function(e){var t=q;Y({query:e,onSuccess:function(o){if(q===t&&G===O){var n=_.where(o.folders,{disabled:!1});C.toggle(!n.length).html(i.noResultsText.format(Panopto.Core.TextHelpers.highlightMatches(e,e,"search-match"))),_.each(n,function(t){se(t,e).appendTo(v).find(".expand-spacer").hide()}),Re(void 0)}}})},250),ve=function(){c.css("width",""),r.toggleClass("dropdown-visible",!0),u.show(),he(F),j||(X(),j=!0),Re(void 0)},Ce=function(){B.expanded=!1,r.toggleClass("dropdown-visible",!1),u.hide(),c.blur(),ye()},ye=function(){var t;if(!r.is(".dropdown-visible")&&(c.val(T),w===e.FolderPickerStyles.Header)){t=Panopto.Core.ElementHelpers.measureText(c,c.val())+5;var o=parseInt(c.css("padding-left"),10)+parseInt(c.css("padding-right"),10);t=Math.clamp(t,0,r.width()-o-10),c.width(t)}},Pe=function(e){Se(e);var o=N[e.data("publicId")];if(!o.disabled){re(o.id),Ce();var n=_.pick(o,"id","name");n.id=n.id===t.EmptyGuid?null:n.id,b(n)}},Se=function(e){e&&e.length&&(ge(V=e,void 0),V.focus(),G===F&&(L=V))},ge=function(e,t){var o,n,r,i,s,a;e.length&&(n=(o=e.offset().top)+(r=e.height()),s=(i=u.offset().top)+(a=u.prop("clientHeight")),(o<i||n>s)&&(t?u[0].scrollTop+=o-i-a/2+r/2:o<i?u[0].scrollTop+=o-i:n>s&&(u[0].scrollTop+=n-s)))},Ie=function(){V.length||(V=a.find(".folder").first()),Se(V)},be=function(e,t){var o,n=r.find(".folder").filter(":visible");V.length?(o=n.index(V)+e,t&&(o=Math.max(0,Math.min(o,n.length-1)))):o=e>=0?0:n.length-1;var i=n.eq(o%n.length),s=(o<0||o>n.length-1)&&(new Date).getTime()-H<500;i.length&&!s&&(H=(new Date).getTime(),Se(i))},Re=function(e){if(r.is(".dropdown-visible"))if(e||u.prop("clientWidth")&&u.prop("clientHeight")){var t=a.height()>u.prop("clientHeight");u.css("overflow-y",t?"scroll":"");var o=0;if(Panopto.Core.Browser.isIE||Panopto.Core.Browser.isIE11){var n=c.outerWidth();u.prop("clientWidth")&&(o=u.innerWidth()-u.prop("clientWidth")),u.css("min-width",n-o),u.css("max-width",n-o)}var i=$("body").prop("clientWidth")-u.offset().left-o-10;u.css("max-width",i)}else setTimeout(function(){return Re(!0)},100)};return function(){r.addClass(w),W.appendTo(r),c=r.find("input"),l=r.find(".dropdown-open-icon"),u=r.find(".dropdown-list"),d=r.find(".tree-list"),p=d.find(".tree-subtitle"),f=d.find(".tree-recent"),h=d.find(".tree-all"),m=d.find(".message"),v=r.find(".search-list"),C=v.find(".message"),y=r.find(".folder-spinner"),Panopto.Core.UI.Components.spinner($(".folder-spinner"),Panopto.Core.Browser.isCssSupported("animation")),a=d,$(window).resize(Re),Panopto.Core.UI.Handlers.button(c.add(l),function(e,t){u.is(":visible")?t.target===l[0]&&Ce():ve()},{allowDefaultSpaceBar:!0}),c.focus(function(){u.is(":visible")||ve()}),Panopto.Core.UI.Handlers.focusOut(r,function(){u.is(":visible")&&Ce()}),u.focus(Ie),c.add(u).keydown(function(e){e.keyCode===Panopto.Core.Key.Esc&&(G===F?(Ce(),L=$()):he(F),e.stopPropagation())}),c.keydown(function(e){var t;switch(e.keyCode){case Panopto.Core.Key.Tab:t=!e.shiftKey;break;case Panopto.Core.Key.Home:case Panopto.Core.Key.End:t=!c.val();break;case Panopto.Core.Key.UpArrow:case Panopto.Core.Key.DownArrow:case Panopto.Core.Key.PageUp:case Panopto.Core.Key.PageDown:t=!0}t&&(Ie(),V.length&&(e.keyCode!==Panopto.Core.Key.PageUp&&e.keyCode!==Panopto.Core.Key.PageDown&&e.keyCode!==Panopto.Core.Key.Home&&e.keyCode!==Panopto.Core.Key.End||o(e),e.preventDefault()))});var o=function(e){var o,n,r,i,s=a.find(".folder").first().height(),l=!!V.closest(".tree-all").length;switch(e.keyCode){case Panopto.Core.Key.Tab:e.shiftKey?(c.focus(),e.preventDefault()):a.find(".folder:visible").last().focus();break;case Panopto.Core.Key.UpArrow:case Panopto.Core.Key.DownArrow:o=e.keyCode===Panopto.Core.Key.DownArrow,e.ctrlKey?u[0].scrollTop+=s*(o?1:-1):V.is("."+t.ClickedClass)||be(o?1:-1,void 0),e.preventDefault();break;case Panopto.Core.Key.LeftArrow:case Panopto.Core.Key.RightArrow:n=e.keyCode===Panopto.Core.Key.RightArrow,e.ctrlKey?e.shiftKey?u.prop("scrollLeft",n?a.width():0):u[0].scrollLeft+=s*(n?1:-1):G===F&&l&&(r=V.siblings(".folder-children").is(":visible"),n||r?n&&r?function(e){var t=e.siblings(".folder-children").find(".folder").first();Se(t)}(V):de(V,void 0):((i=V.closest(".folder-children",d).siblings(".folder")).length||(i=d.find(".folder").first()),Se(i))),e.preventDefault();break;case Panopto.Core.Key.PageUp:case Panopto.Core.Key.PageDown:o=e.keyCode===Panopto.Core.Key.PageDown;var p=u.prop("clientHeight"),f=(Math.floor(p/s)-1)*(o?1:-1);e.ctrlKey?u[0].scrollTop+=f*s:be(f,!0),e.preventDefault();break;case Panopto.Core.Key.Home:case Panopto.Core.Key.End:n=e.keyCode===Panopto.Core.Key.End,e.ctrlKey?u.prop("scrollTop",n?a.height():0):be(1/0*(n?1:-1),!0),e.preventDefault();break;case Panopto.Core.Key.Plus:case Panopto.Core.Key.Minus:case Panopto.Core.Key.KeypadPlus:case Panopto.Core.Key.KeypadMinus:l&&(r=e.keyCode===Panopto.Core.Key.Plus||e.keyCode===Panopto.Core.Key.KeypadPlus,de(V,r)),e.preventDefault();break;case Panopto.Core.Key.Asterisk:case Panopto.Core.Key.KeypadAsterisk:l&&(r=e.keyCode===Panopto.Core.Key.Asterisk===e.shiftKey,ue(V,r)),e.preventDefault();break;case Panopto.Core.Key.ForwardSlash:c.focus(),e.preventDefault()}V.removeClass(t.ClickedClass)};u.on("keydown",".folder",o),e.liveInput(c,function(e){var t=c.val();t.length>=2&&(he(O),me(t)),t||he(F)}),Ce(),R&&re(R)}(),{refresh:X,setFolder:function(e){(e||g)&&(e=e||t.EmptyGuid,re(e))},getFolder:function(){return R===t.EmptyGuid?null:R},headerReflow:ye,enabled:function(e){if(void 0===e)return!c.prop("disabled");!e!==c.prop("disabled")&&(Ce(),c.prop("disabled",!e),l.css("visibility",e?"":"hidden"))}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.infiniteScroll=function(e,t,o,n,r){var i,s,a,c=(r=r||{}).onSuccess||$.noop,l=r.onFailure||$.noop,u=r.onFinish||$.noop,d=r.onComplete||$.noop,p=r.spinner||$.noop,f=0,h=function(){var t=e[0],o=t.scrollHeight-t.clientHeight;return!o||100*t.scrollTop/o>=50},m=function(){var e=f,t=function(){a=!1,o&&o.hide()};i++,o&&o.show(),a=!0,n(i,function(o){e===f&&(c(o,i),t(),(s=o.hasMorePages)?h()&&m():u())},function(e){t(),l(e)},p(d))};return t.scroll(function(){!a&&s&&h()&&m()}),{start:function(){i=-1,s=!0,a=!1,f+=1,m()},destroy:function(){t.off("scroll")}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){var t=Panopto.Core.Constants;return e.liveInput=function(e,t){var o=e.val();e.bind("input propertychange selectionchange keyup keydown",function(n){var r=e.val();r!==o&&(o=r,t(n))}),Panopto.Core.ElementHelpers.silenceInputValuePropertyChange(e[0],function(e){o=e})},e.editableLabel=function(e,o,n,r){r=r||t.InitAttribute;var i=e.attr(r),s=e.attr(r),a=$.Callbacks(),c=$.Callbacks(),l=function(){e.val()!==i&&(o&&o(e.val()),a.fire(e.val()),i=e.val()),c.fire()},u=function(){e.height(1),e.height(e[0].scrollHeight)};return $(document).ready(function(){e.val(e.attr(r)),e.keydown(function(t){13===t.keyCode?(t.preventDefault(),e.blur()):27===t.keyCode&&(e.val(i),e.blur()),t.stopPropagation()}),e.focus(function(){e.select()}),e.blur(l)}),n&&e.keydown(function(e){_.defer(u)}),{save:function(){s=e.val()},revert:function(){e.val(s),i=s},resize:function(){n&&u()},resetValue:function(o){void 0===o&&(o=""),e.attr(r,o),i=o,s=o,e.val(o),e.toggleClass(t.PlaceholderClass,""===o)},focus:function(){e.focus()},onChanged:a,onBlur:c}},e.placeholder=function(e,o,n){return n=n||t.PlaceholderClass,e.unbind("."+n),e.hasClass(n)?e.val(o):jQuery.trim(e.val())||e.is(":focus")||e.val(o).toggleClass(n,!0),e.bind("focus."+n,function(){e.hasClass(n)&&e.val("").toggleClass(n,!1)}).bind("blur."+n,function(){jQuery.trim(e.val())||e.val(o).toggleClass(n,!0)}),{val:function(){return e.hasClass(n)?"":$.trim(e.val())}}},e.timepicker=function(e,t,o){e.timepicker({lang:o,typeaheadHighlight:!1}),t&&e.timepicker("setTime",t),e.keydown(function(e){var t=$(e.target),o=t.data("enterPressed");if(e.keyCode===Panopto.Core.Key.Enter){if(o)return!1;t.data("enterPressed",!0)}else o&&(t.data("enterPressed",!1),t.focus())})},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.linkToggle=function(e,t,o){var n,r,i=function(e){n.val(e?o:t),r.toggleClass("selected",e)};e.html(_.template("<input class='link-input' type='text' readonly tabindex='0' /><div class='link-toggle' tabindex='0'>&lt/&gt</div>")),n=e.find(".link-input"),r=e.find(".link-toggle"),n.focus(function(){n.select()}),Panopto.Core.UI.Handlers.button(r,function(){i(!r.hasClass("selected")),n.focus()}),i(!1)},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.modalScroll=function(e,t,o,n){var r=e.removeItem,i=e.getItems,s=e.updateNoRowsMessage,a=e.modalInstance,c=(e.applicationInstance,t.$noRowsMessage,t.$section),l=t.$loading,u=t.$errorContainer,d=t.$rowTemplate,p=o.confirmRemove,f=o.removeError,h=o.pagingError,m=!1!==(n=n||{}).isEditable,v=n.showModal||$.noop,C=n.spinner||$.noop,y=c.find("tbody"),P=(c.find("table"),function(e){r(e,function(){s(),y.find("#"+e).remove(),a.flagChanges(!0)},function(){Panopto.Core.UI.Components.renderErrors(u,[f])})}),S=function(e){!function(e,t){if(t.length){var o=_.template(d.html());_.each(t,function(t){var n=$(o({row:t,isEditable:m}));Panopto.Core.UI.Handlers.button(n.find(".remove-row"),function(e){confirm(p)&&(P($(e).attr("data-id")),a.flagChanges(!0))}),Panopto.Core.UI.Handlers.button(n.find(".item-link"),function(e){var t=$(e).attr("data-id"),o=$(e).attr("data-name");v(t,o)}),Panopto.Core.UI.Handlers.hoverableParent(n,null,function(e){n.toggleClass(Panopto.Core.Constants.HoveringClass,e)}),n.appendTo(e)})}}(y,e)},g=Panopto.Core.UI.Components.infiniteScroll(Panopto.Core.Browser.isWebkit?$("body"):$("html"),Panopto.Core.Browser.isIE8?$(window):$(document),l,i,{onSuccess:function(e,t){0===t&&s(),S(e.results)},onFailure:function(e){Panopto.Core.UI.Components.renderErrors(u,[h])},spinner:C});return{start:function(){$(".item-row").remove(),g.start()}}},e}(Panopto.Core.UI.Components||{}),function(e){!function(e){!function(e){!function(e){var t,o=function(){function o(e,t,o,n,r,i,s,a,c){var l=this;this.playlistWithSessionsService=c,this.toggleAnimationDuration=200,this.selectedItemIndex=0,this.playItemHandlers=[],this.toggleHandlers=[],this.autoHideDelay=2e3,this.playHideDelay=1e3,this.template=_.template('\n            <div class="header">\n                <div class="icon">\n                    <i class="material-icons" role="button" tabindex="0"\n                       aria-label="<@- Panopto.GlobalResources.PlaylistOverlay_ClosePlaylistMenu @>">\n                        &#xE05F;\n                    </i>\n                </div>\n                <div class="header-text">\n                    <div class="name ellipsis">\n                        <@- playlist.name @>\n                    </div>\n                    <div class="current-position"></div>\n                </div>\n                <div class="skip-buttons">\n                    <i class="previous-button material-icons disabled" role="button"\n                       aria-label="<@- Panopto.GlobalResources.PlaylistOverlay_Previous @>">\n                        &#xE045;\n                    </i>\x3c!-- collapse whitespace\n                 --\x3e<i class="next-button material-icons disabled" role="button"\n                       aria-label="<@- Panopto.GlobalResources.PlaylistOverlay_Next @>">\n                        &#xE044;\n                    </i>\n                </div>\n            </div>\n            <div class="session-list-container">\n                <table class="session-list">\n                    <@ _.each(items, function(session, index) { @>\n                        <tr role="menuitem" data-id="<@= session.id @>" data-index="<@= index @>" tabindex="-1">\n                            <td class="thumbnail">\n                                <div class="thumbnail-container"\n                                     style="background-image: url(<@= session.thumbUrl @>)">\n                                    <div class="countdown-placeholder"></div>\n                                    <@ if (session.duration) { @>\n                                        <div class="duration">\n                                            <@= Panopto.Util.displayDuration(session.duration) @>\n                                        </div>\n                                    <@ } @>\n                                </div>\n                            </td>\n                            <td class="details">\n                                <div class="name ellipsis"><@- session.name @></div>\n                                <@ if (session.parent) { @>\n                                    <div class="folder ellipsis">\n                                        <@- session.parent.name @>\n                                    </div>\n                                <@ } @>\n                            </td>\n                        </tr>\n                    <@ }); @>\n                </table>\n            </div>'),this.countdownTemplate=_.template('\n            <div class="thumbnail-overlay">\n                <div class="countdown-container">\n                    <div class="icon-background"></div>\n                    <div class="timer"></div>\n                    <i class="play-icon material-icons">&#xE037;</i>\n                </div>\n            </div>'),this.upNextTemplate=_.template('\n            <div class="up-next">\n                <@- Panopto.GlobalResources.PlaylistOverlay_UpNext @>\n                <span class="cancel-button" role="button" tabindex="0">\n                    <@- Panopto.GlobalResources.PlaylistOverlay_Cancel @>\n                </span>\n            </div>'),this.$container=e,this.$trigger=t,this.skin=r,this.isVisible=s,this.$trigger.attr("role","button"),this.$trigger.attr("aria-haspopup",!0),this.$container.attr("role","menu"),this.$container.attr("aria-label",Panopto.GlobalResources.PlaylistOverlay_PlaylistMenu),this.$container.addClass("playlist-overlay"),this.$container.toggle(s),this.playlistWithSessionsService.getPlaylist(o,i).then(function(e){l.playlist=e,l.render(),n&&(l.selectedItemIndex=_.findIndex(l.playlist.items,function(e){return e.id===n})),l.renderSelection(),a&&(n?l.playItem(l.selectedItemIndex,{useAutoHideDelay:!0}):l.queueItem(l.selectedItemIndex))})}return o.prototype.onPlayItem=function(e){this.playItemHandlers.push(e)},o.prototype.onToggle=function(e){this.toggleHandlers.push(e)},o.prototype.queueNextItem=function(){this.queueItem(this.selectedItemIndex+1)},o.prototype.hide=function(){this.toggle(!1)},o.prototype.visible=function(){return this.isVisible},o.prototype.cancelCountdown=function(){this.selectionTimer&&(this.selectionTimer.stop(),this.selectionTimer=void 0),this.$container.find(".thumbnail-overlay").remove(),this.$container.find(".up-next").remove(),this.$container.find(".queued").removeClass("queued")},o.prototype.render=function(){var e=this,o=this.template(this.playlist);this.$container.html(o);var n=t[this.skin].toLowerCase();this.$container.addClass(n);var r=this.$trigger.add(this.$container.find(".icon"));Panopto.Core.UI.Handlers.button(r,function(){e.toggle()}),r.mousedown(function(e){return e.preventDefault()});var i=this.$container.find("tr");i.first().attr("tabindex",0),Panopto.Core.UI.Handlers.key(r,function(){e.isVisible?i.filter("[tabindex=0]").focus():e.$trigger.focus()},[Panopto.Core.Key.Enter,Panopto.Core.Key.Space],{preserveExisting:!0}),i.focus(function(e){i.attr("tabindex",-1),$(e.currentTarget).attr("tabindex",0)}),Panopto.Core.UI.Handlers.button(this.$container.find(".skip-buttons i"),function(t){var o=$(t).is(".next-button")?1:-1;e.playItem(e.selectedItemIndex+o)}),this.$container.on("mousedown",".skip-buttons i",function(e){return e.preventDefault()}),Panopto.Core.UI.Handlers.button(this.$container.find("tr"),function(t){e.playItem($(t).data("index"))}),this.$container.add(this.$trigger).keydown(function(t){return e.handleKeys(t)})},o.prototype.handleKeys=function(e){var t=!0;switch(e.which){case Panopto.Core.Key.UpArrow:case Panopto.Core.Key.DownArrow:case Panopto.Core.Key.LeftArrow:case Panopto.Core.Key.RightArrow:var o=[Panopto.Core.Key.DownArrow,Panopto.Core.Key.RightArrow],n=_.contains(o,e.which)?1:-1;this.moveItemFocus(n);break;case Panopto.Core.Key.Esc:this.hide(),this.$trigger.focus();break;default:t=!1}t&&(e.preventDefault(),e.stopPropagation())},o.prototype.moveItemFocus=function(e){var t=this.$container.find("tr"),o=t.index(document.activeElement),n=-1!==o?o+e:this.$container.find("tr[tabindex=0]").index();t.eq(n%t.length).focus()},o.prototype.renderSelection=function(){var e=Panopto.Core.Constants,t=this.selectedItemIndex,o=$(this.$container.find("tr")[t]),n=this.playlist.items.length,r=Panopto.GlobalResources.PlaylistOverlay_CurrentPositionFormat.format(t+1,n);this.$container.find(".current-position").text(r);var i=0!==t;this.$container.find(".previous-button").toggleClass(e.DisabledClass,!i).attr("tabindex",i?0:-1);var s=t<n-1;this.$container.find(".next-button").toggleClass(e.DisabledClass,!s).attr("tabindex",s?0:-1),this.$container.find("tr."+e.SelectedClass).removeClass(e.SelectedClass),o.addClass(e.SelectedClass)},o.prototype.toggle=function(e){var t=this;void 0===e&&(e=!this.isVisible),e||this.cancelCountdown(),e!==this.isVisible&&(this.isVisible=e,this.$container[e?"slideDown":"slideUp"](this.toggleAnimationDuration),e?this.$trigger.attr("aria-expanded",!0):this.$trigger.removeAttr("aria-expanded"),_.each(this.toggleHandlers,function(e){return e(t.isVisible)}))},o.prototype.queueItem=function(o){var n=this;if(!(o<0||o>=this.playlist.items.length)){this.cancelCountdown(),this.toggle(!0);var r=$(this.$container.find("tr")[o]),i=$(this.countdownTemplate()).insertAfter(r.find(".countdown-placeholder")).find(".timer");this.selectionTimer=new e.RadialTimer(i,8,{size:38,fill:"transparent",stroke:"white",strokeWidth:2}),$(this.upNextTemplate()).appendTo(this.skin===t.Interactive?r.find(".thumbnail-overlay"):r.find(".details")),r.addClass("queued"),Panopto.Core.UI.Handlers.button(r.find(".cancel-button"),function(){return n.cancelCountdown()}),this.selectionTimer.onElapsed(function(){return n.playItem(o)}),this.selectionTimer.start()}},o.prototype.playItem=function(e,t){var o=this,n=(void 0===t?{}:t).useAutoHideDelay,r=void 0!==n&&n;if(!(e<0||e>=this.playlist.items.length)){this.cancelCountdown(),this.selectedItemIndex=e,this.renderSelection();var i=$(this.$container.find("tr")[e]).data("id");_.each(this.playItemHandlers,function(e){return e(i)});var s=r?this.autoHideDelay:this.playHideDelay;_.delay(function(){return o.toggle(!1)},s)}},o}();e.PlaylistOverlay=o,function(e){e[e.Interactive=0]="Interactive",e[e.Embedded=1]="Embedded"}(t=e.PlaylistOverlaySkin||(e.PlaylistOverlaySkin={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.PlayResumption=function(e){return e.calculateStartTime=function(e,t){e=parseInt(e,10),t=parseInt(t,10);var o=parseInt(Panopto.viewer.resumeViewerPlaybackMaxPercentageViewed,10),n=parseInt(Panopto.viewer.resumeViewerPlaybackMinSecondsRemaining,10),r=e;return isNaN(e)||isNaN(t)||isNaN(o)||isNaN(n)?r=0:e>t*o/100?r=0:t-e<n&&(r=0),r},e}(Panopto.Core.PlayResumption||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.popup=function(e,t,o,n){var r=o||function(){e.show()},i=n||function(){e.hide()};function s(o){$(o.target).closest(t.add(e)).length||i()}Panopto.Core.UI.Handlers.button(t,function(o,n){e.is(":visible")?(i(),t.focus()):(r(),_.defer(function(){e.find(":tabbable").first().focus().toggleClass(Panopto.Core.Constants.ClickedClass,"mousedown"===n.type).one("focusout",function(e){$(e.currentTarget).removeClass(Panopto.Core.Constants.ClickedClass)})}))},{pointerEvent:"mousedown"}),$(document).mouseup(s),Panopto.isModal&&parent.Panopto.ModalPopup.defaultInstance.attachDocumentHandler(s,"mouseup"),Panopto.Core.UI.Handlers.focusOut(e,function(t){t.relatedTarget&&!$(t.relatedTarget).is("body")&&e.is(":visible")&&i()}),Panopto.Core.UI.Handlers.key(e,function(){i(),t.focus()},[Panopto.Core.Key.Esc])},e.flyout=function(t){var o,n=t.$element,r=t.$trigger,i=t.timeout,s=t.expandLeft,a=t.expandUp,c=t.fadeInterval,l=t.condition,u=t.showCallback,d=t.hideCallback;function p(){n.fadeOut(c),d&&d()}e.popup(n,r,function(){l&&!l()||(!function(e,t,o,n){var r=o?t.parent().outerWidth()-(t.offset().left-t.parent().offset().left)-t.outerWidth():t.offset().left-t.parent().offset().left,i=n?window.innerHeight-t.offset().top:t.offset().top;e.css(o?"right":"left",r),e.css(n?"bottom":"top",i)}(n,r,s,a),n.fadeIn(c),u&&u(),o&&clearTimeout(o))},function(){p()}),Panopto.Core.UI.Handlers.button(n.find(".flyout-close"),function(){p(),r.focus()}),n.mouseleave(function(){o&&clearTimeout(o),o=setTimeout(function(){p()},i)}),n.mouseenter(function(){o&&clearTimeout(o)})},e}(Panopto.Core.UI.Components||{}),function(e){!function(e){!function(e){!function(e){var t=PanoptoCore.VoidCallback,o=function(){function e(o){var n=this;this._onOpened=new t,this._onClosed=new t,this.menuOpen=!1,this.lastFocusChange=0,_.defaults(this,o,{focusWrapDelay:e.defaultFocusWrapDelay}),Panopto.Core.UI.Components.popup(this.menu,this.menuButton,function(){return n.toggleMenu(!0)},function(){return n.toggleMenu(!1)}),this.menu.on("click keydown",this.itemSelector,function(e){("click"===e.type&&e.which===Panopto.Core.MouseButton.Left||"keydown"===e.type&&_.contains([Panopto.Core.Key.Enter,Panopto.Core.Key.Space],e.which))&&n.toggleMenu(!1)});var r=this.ensureId(this.menu,e.menuIdPrefix),i=this.ensureId(this.menuButton,e.menuButtonIdPrefix);this.menuButton.attr({role:"button",tabindex:0,"aria-haspopup":"menu","aria-controls":r}),this.menu.attr({role:"menu","aria-labelledby":i}),this.menu.find(this.itemSelector).attr("role","menuitem"),this.menuButton.on("keydown",function(e){return n.handleMenuButtonKey(e)}),this.menu.on("keydown",this.itemSelector,function(e){return n.handleMenuKey(e)})}return Object.defineProperty(e.prototype,"onOpened",{get:function(){return this._onOpened},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onClosed",{get:function(){return this._onClosed},enumerable:!0,configurable:!0}),e.prototype.toggleMenu=function(e){if(e!==this.menuOpen)if(this.menu.toggle(e),this.menuOpen=e,e){this.menuButton.attr("aria-expanded","true");var t=this.menu.find(this.itemSelector).filter(":visible").first();this.focusItem(t),this._onOpened.fire()}else this.menuButton.removeAttr("aria-expanded"),this._onClosed.fire()},e.prototype.handleMenuButtonKey=function(e){var t=!0;switch(e.which){case Panopto.Core.Key.DownArrow:this.toggleMenu(!0);break;case Panopto.Core.Key.UpArrow:this.toggleMenu(!0),this.focusItem(this.getVisibleItems().last());break;default:t=!1}t&&(e.preventDefault(),e.stopPropagation())},e.prototype.handleMenuKey=function(e){var t=!0,o=!0,n=this.getVisibleItems();switch(e.which){case Panopto.Core.Key.DownArrow:case Panopto.Core.Key.RightArrow:this.moveItemFocus(1);break;case Panopto.Core.Key.UpArrow:case Panopto.Core.Key.LeftArrow:this.moveItemFocus(-1);break;case Panopto.Core.Key.Home:this.focusItem(n.first());break;case Panopto.Core.Key.End:this.focusItem(n.last());break;case Panopto.Core.Key.Enter:case Panopto.Core.Key.Space:t=!1;break;default:o=!1,t=!1}o&&e.stopPropagation(),t&&e.preventDefault()},e.prototype.moveItemFocus=function(e){var t=this.getVisibleItems(),o=this.menu.find(document.activeElement),n=t.index(o)+e,r=t.eq(n%t.length),i=(n<0||n>t.length-1)&&+new Date-this.lastFocusChange<this.focusWrapDelay;r.length&&!i&&(this.lastFocusChange=+new Date,this.focusItem(r))},e.prototype.focusItem=function(e){this.menu.find(this.itemSelector).attr("tabindex",-1),e&&(e.attr("tabindex",0),e.focus())},e.prototype.ensureId=function(e,t){var o=e.attr("id");return o||(o=_.uniqueId(t),e.attr("id",o)),o},e.prototype.getVisibleItems=function(){return this.menu.find(this.itemSelector).filter(":visible")},e.menuButtonIdPrefix="ariaMenuButton",e.menuIdPrefix="ariaMenu",e.defaultFocusWrapDelay=500,e}();e.PopupMenuBehavior=o}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(e,t){this.template='\n<table class="private-session-playlist">\n    <@ _.each(sessions, function(session) { @>\n        <tr class="row">\n            <td class="cell thumbnail">\n                <div class="thumbnail-container <@ if (session.isViewable) { @>viewable<@ } @>">\n                    <a class="thumbnail-link" href="<@= session.link @>" target="_blank">\n                        <img class="thumbnail-img" title="<@= thumbnailTitle @>" src="<@= session.thumbnail @>" />\n                    </a>\n                    <span class="thumbnail-span">\n                        <img class="thumbnail-img" title="<@= thumbnailTitle @>" src="<@= session.thumbnail @>" />\n                    </span>\n                </div>\n            </td>\n            <td class="cell title <@ if (session.isViewable) { @>viewable<@ } @>">\n                <a class="title-link" href="<@= session.link @>" target="_blank">\n                    <@- session.name @>\n                </a>\n                <span class="title-span">\n                    <@- session.name @>\n                </span>\n            </td>\n            <td class="cell status" >\n                <@ if(session.isFixable) { @>\n                <div title="<@= fixedTooltip @>" class="playlist-access-issue-fixed">\n                    <i class="material-icons check-icon">&#xE5CA;</i>\n                </div>\n                <@ } else if (session.role === Panopto.Data.AclRoleType.Viewer) { @>\n                <div title="<@= noAccessTooltip @>">\n                    <i class="material-icons warning-icon">&#xE002;</i>\n                </div>\n                <@ } else { @>\n                <div title="<@= incompatibleAccessTooltip @>">\n                    <i class="material-icons warning-icon">&#xE002;</i>\n                </div>\n                <@ } @>\n            </td>\n        </tr>\n    <@ }); @>\n</table>';var o=this.transform(t),n=this.render(o);e.html(n)}return e.prototype.render=function(e){return _.template(this.template)({sessions:e,fixedTooltip:Panopto.GlobalResources.Playlists_Access_FixedTooltip,noAccessTooltip:Panopto.GlobalResources.Playlists_Access_NoAccessTooltip,incompatibleAccessTooltip:Panopto.GlobalResources.Playlists_Access_IncompatibleAccessTooltip,thumbnailTitle:Panopto.GlobalResources.Playlists_Access_ThumbnailTitle})},e.prototype.transform=function(e){for(var t=[],o=0,n=e;o<n.length;o++){var r=n[o];t.push({thumbnail:r.thumbnail,name:r.name,link:r.link,isFixable:r.isFixable||!1,isViewable:r.isViewable||!1,role:r.role})}return t},e}();e.PrivateSessionPlaylistView=t}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(t,o,n){this.elapsedHandlers=[],this.$parent=t,this.durationSeconds=o,this.style=n,this.$parent.html(e.template(this.style))}return e.prototype.start=function(){var t=this;this.intervalHandle&&this.stop(),this.startTime=new Date,this.intervalHandle=setInterval(function(){return t.render()},e.updateIntervalMillis),this.render()},e.prototype.stop=function(){this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},e.prototype.onElapsed=function(e){this.elapsedHandlers.push(e)},e.prototype.render=function(){var e=((new Date).getTime()-this.startTime.getTime())/1e3/this.durationSeconds;if(e<1){var t=this.getArcData(2*e*Math.PI);this.$parent.find(".radial-timer-arc").attr("d",t)}else this.stop(),_.each(this.elapsedHandlers,function(e){return e()})},e.prototype.getArcData=function(e){var t=this.style.strokeWidth/2,o=this.style.size/2,n=o-t;return"M "+o.toString()+" "+t.toString()+" A "+n.toString()+" "+n.toString()+" 0 "+(e<Math.PI?"0":"1")+" 1 "+(t+n*(1+Math.sin(e))).toString()+" "+(t+n*(1-Math.cos(e))).toString()},e.template=_.template('\n            <svg height="<@= size @>" width="<@= size @>">\n                <path class="radial-timer-arc" stroke="<@= stroke @>" stroke-width="<@= strokeWidth @>" fill="<@= fill @>"></path>\n            </svg>'),e.updateIntervalMillis=30,e}();e.RadialTimer=t}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI.Components=function(e){return Panopto.Core.UI.Components.restSpinner=function(e){var t=0,o=function(){e(--t)};return{showUntilComplete:function(n){n=n||$.noop;return t++,e(!0),function(){o(),n.apply(this,arguments)}}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){var t=Panopto.Core.Constants;return e.scrollingHighlight=function(e,o,n,r){var i;r=r||t.HighlightedClass;var s,a=!1;o?jQuery.fx.step.scrollTop=function(e){$(e.elem).data("scrollAnimating",!0),e.elem.scrollTop=e.now}:jQuery.fx.step.scrollLeft=function(e){$(e.elem).data("scrollAnimating",!0),e.elem.scrollLeft=e.now};var c=function(){s&&clearTimeout(s),a=!0,s=setTimeout(function(){a=!1},n)};return e.focusin(c),e.scroll(function(t){e.data("scrollAnimating")||c(),e.data("scrollAnimating",!1)}),{highlight:function(t,n,s){var c,l,u;i&&(e.find("#"+i.id).toggleClass(r,!1),e.find("#"+i.id).removeAttr("aria-current")),t&&((c=e.find("#"+t.id)).toggleClass(r,!0),c.attr("aria-current",!0),!e.is(":visible")||a&&!n||(o?(l=(e.height()-c.height())/2,u=c.offset().top-e.offset().top+e.scrollTop()-l,s?e.scrollTop(u):e.stop(!0).animate({scrollTop:u})):(l=(e.width()-c.width())/2,u=c.offset().left-e.offset().left+e.scrollLeft()-l,s?e.scrollLeft(u):e.stop(!0).animate({scrollLeft:u})))),i=t,n&&n(i)}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.sessionList=function(t,o,n,r,i){var s={SessionRow:"session-row",SessionName:"session-name",More:"more",SessionActions:"session-actions",ExtraActions:"extra-actions",SessionRating:"session-rating",SessionUpload:"session-upload"},a="<@ _.each(sessions, function (session) { @><div class='"+s.SessionRow+"'><div class='thumbnail-cell'><div class='thumbnail-wrapper'><img class='thumbnail' src='<@= session.thumbUrl @>' />"+((i=i||{}).inlineDuration?"":"<div class='session-duration'><@= session.friendlyDuration @></div>")+"</div></div><div class='session-data'><@ if (session.viewable) { @><a href='<@= session.viewerUrl @>' class='"+s.SessionName+" ellipsis' target='_blank'><@- session.name @></a><@ } else { @><div class='"+s.SessionName+" ellipsis'><@- session.name @></div><@ } @><div class='session-folder'><@- session.folderText @></div>"+(i.combinedFolderDate?"":"<div class='session-date'><@= session.friendlyDate @></div>")+(i.showDescription?"<div class='session-description'><@- session.description @></div>":"")+(i.inlineDuration?"<div class='session-misc'><div class='session-inline-duration'><@= session.friendlyDuration @></div><div class='"+s.SessionRating+"'></div></div>":"")+"<div class='"+s.SessionActions+"'><@ _.each(_.filter(actions, function (action) { return action.available(session); }), function (action) { @><div class='session-action <@= action.cssClass @>'><@= action.name @></div><@ }); @></div><div class='"+s.ExtraActions+"' style='display:none;'><@ _.each(_.filter(extraActions, function (action) { return action.available(session); }), function (action) { @><div class='session-extra-action <@= action.cssClass @>'><@= action.name @></div><@ }); @></div><div class='"+s.SessionUpload+"'></div></div></div><@ }); @>";return _.each(o,function(e){e.friendlyDuration=e.duration?Panopto.Core.TimeHelpers.formatDuration(e.duration,r.timeSeparator):"",e.friendlyDate=e.date?moment.utc(Panopto.Core.TimeHelpers.formatWin32EpochTimeToDate(e.date)).local().format("LL"):"",e.folderText=e.folder?i.combinedFolderDate?r.folderDateText.format(e.friendlyDate,e.folder.name):r.folderText.format(e.folder.name):""}),_.some(n,function(e){return e.isExtra})&&(n=n.concat([{name:r.moreActionName,cssClass:s.More,handler:function(e,t){var o=t.find("."+s.More);t.find("."+s.ExtraActions).css({right:$(window).width()-(t.offset().left+t.outerWidth()),top:o.offset().top+o.outerHeight()}).toggle()}}])),_.each(n,function(e){e.available=e.available||function(){return!0}}),t.html(_.template(a)({sessions:o,actions:_.filter(n,function(e){return!e.isExtra}),extraActions:_.filter(n,function(e){return e.isExtra}),params:i})),t.find("."+s.SessionRow).each(function(t,r){var a=$(r),c=o[t];_.some(n,function(e){return e.isExtra})&&e.popup(a.find("."+s.ExtraActions),a.find("."+s.More)),i.viewHandler&&Panopto.Core.UI.Handlers.button(a.find("a."+s.SessionName),function(){i.viewHandler(c)}),i.inlineDuration&&c.rating&&Panopto.Core.UI.Components.starRating(a.find("."+s.SessionRating)).value(c.rating)}),_.each(n,function(e){Panopto.Core.UI.Handlers.button($("."+e.cssClass),function(t){var n=$(t).closest("."+s.SessionRow);n.find("."+s.ExtraActions).hide(),e.handler(o[n.index()],n)})}),{getClassNames:function(){return s}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){var t=Panopto.Core.Constants;return e.starRating=function(e,o,n,r,i){i=i||t.DefaultMaxRating;var s,a="<div class='empty-stars'></div><div class='filled-stars'></div>"+(r?"<div class='hovering-stars'></div>":""),c=0;for(e.addClass("rating"),e.html(_.template(a)({})),s=1;s<=i;s++)e.find(".empty-stars, .filled-stars, .hovering-stars").append(_.template("<div class='star' data-value='<@= value @>'>")({value:s}));return r&&(e.find(".hovering-stars .star").each(function(e,t){var r=parseInt($(t).attr("data-value"),10);$(t).attr("tabindex",0).attr("title",1===r?o:n.format(r))}),Panopto.Core.UI.Handlers.button(e.find(".hovering-stars .star"),function(e){r(parseInt($(e).attr("data-value"),10))}),Panopto.Core.UI.Handlers.hoverable(e.find(".hovering-stars .star"),function(t,o){var n=parseInt($(t.currentTarget).attr("data-value"),10),r=o?n:c;e.find(".filled-stars").width(Math.floor(e.width()*r/i))})),{value:function(t){if(void 0===t)return c;c=t,e.find(".filled-stars").width(Math.floor(e.width()*t/i))}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).user=Panopto.user||{},Panopto.Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.SubfolderList=function(e,t,o,n){var r,i,s=function(e){u=e.folderId,p=e.folderType===Panopto.Core.FolderType.Normal,d=e.addFolderEnabled,f=a,C.set_data(e.subfolders)},a=4,c={"Folder creation failed with Folder Result:NameAlreadyExists":o.DuplicateFolderName,"Folder creation failed with Folder Result:NameTooLong":o.FolderNameTooLong},l=$(e).find(".subfolder-list"),u=null,d=!1,p=!0,f=a,h=0,m=function(e,t){var o,n,s,c,u,d,p,h=C.get_data()?C.get_data().length:0;(e!=r||t)&&(s=l.find(".show-all-subfolders").first(),u=l.find(".new-subfolder").first(),c=l.find(".show-less-subfolders").first(),(p=u.add(s)).detach(),o=e<=h-u.length,n=f!=a&&a*i<=h-u.length,_.each(l.children(),function(t,n){var r=n<e-(o?p:u).length;$(t).toggle(r)}),o?(d=l.children().eq(e-p.length-1),s.insertAfter(d),u.insertAfter(d),d.offset()&&l.offset()&&l.css("max-height",d.offset().top+d.outerHeight()-l.offset().top)):(p.insertBefore(c),l.css("max-height","auto")),s.toggle(o),c.toggle(n),h,r=e)},v=function(o,n){var r,s,a=l.children();a.length>0?(r=$(e).width(),s=a.eq(0).outerWidth(!0),r&&s?($(t).height()<$(t).prop("scrollHeight")?h=Math.max(h,$(t).width()-$(t).prop("scrollWidth")):r-=h,i=Math.floor(r/s),l.css("width",i*s)):i=0):i=0,m(f*i,o),n&&setTimeout(function(){v(void 0,void 0)})};$(window).resize(function(){v(void 0,void 0)});var C=Sys.create.dataView($(e).find(".subfolder-list")[0],{rendering:function(t,o){r||$(e).find(".subfolder-list").css("max-height",0),$(e).find(".show-all-subfolders, .new-subfolder, .show-less-subfolders").remove(),$(e).find(".new-subfolder-error").hide()},itemRendered:function(e,t){$(t.get(".subfolder-icon")).toggleClass("creator",t.dataItem.IsCreator||Panopto.user.isVidegrapher),n.onFolderClick&&t.dataItem.ID&&Panopto.Core.UI.Handlers.button($(t.get(".subfolder-item")),function(){n.onFolderClick(t.dataItem.ID)})},rendered:function(t,o){var n,i,s;n=$(e).find(".show-all-subfolders-template").clone().removeClass("show-all-subfolders-template").addClass("show-all-subfolders").appendTo(l),i=$(e).find(".show-less-subfolders-template").clone().removeClass(".show-less-subfolders-template").addClass("show-less-subfolders").appendTo(l),Panopto.Core.UI.Handlers.button(n.find("div"),_.partial(y,!0)),Panopto.Core.UI.Handlers.button(i.find("div"),_.partial(y,!1)),Panopto.Core.UI.Handlers.key(n.find("div").add(i.find("div")),function(){$(e).find(".show-all-subfolders div, .show-less-subfolders div").not(":focus").focus()},[Panopto.Core.Key.Enter,Panopto.Core.Key.Space],{preserveExisting:!0}),d&&(s=$(e).find(".new-subfolder-template").clone().removeClass("new-subfolder-template").addClass("new-subfolder").appendTo(l),Panopto.Core.UI.Handlers.button(s.find(".subfolder-item"),function(e){$(e).addClass("active").find(".new-subfolder-label").hide().siblings(".new-subfolder-input").show().focus().siblings(".new-subfolder-input-cancel").show()}),Panopto.Core.UI.Handlers.key(s.find(".new-subfolder-input"),_.partial(P,{keyboardNavigation:!0}),[Panopto.Core.Key.Enter]),Panopto.Core.UI.Handlers.key(s.find(".new-subfolder-input"),$.noop,[Panopto.Core.Key.Space],{allowDefault:!0,preserveExisting:!0}),Panopto.Core.UI.Handlers.button(s.find(".new-subfolder-input-cancel"),S),Panopto.Core.UI.Handlers.key(s.find(".new-subfolder-input-cancel"),_.partial(S,{keyboardNavigation:!0}),[Panopto.Core.Key.Enter,Panopto.Core.Key.Space]),Panopto.Core.UI.Handlers.key(s.find(".subfolder-item"),_.partial(S,{keyboardNavigation:!0}),[Panopto.Core.Key.Esc],{preserveExisting:!0}),Panopto.Core.UI.Handlers.focusOut(s,function(){$(e).find(".new-subfolder .new-subfolder-input").val()||S(void 0)})),r?v(!0,void 0):setTimeout(function(){v(!1,!0)})}}),y=function(e){m((f=e?1024:a)*i,void 0)},P=function(t){t=t||{};var i=$(e).find(".new-subfolder .new-subfolder-input").val();if(i){$(e).find(".new-subfolder-error").hide(),$("#loadingMessage").show();var s=Panopto.Core.ServiceInterface.Rest.Objects.FolderAccessItem({Name:i,Parent:{Id:u,TypeName:"FolderAccessItem"},IsInheritingAccess:p});Panopto.Core.ServiceInterface.Rest.FolderAccessItems.create(s,function(o){var i=C.get_data().slice();i.push({Name:o.name,ID:o.id,IsCreator:!0}),C.set_data(i),i.length>r-l.find(".new-subfolder").first().length&&y(!0),t.keyboardNavigation&&$(e).find(".new-subfolder .subfolder-item").focus(),n.onFolderAdded&&n.onFolderAdded(o)},function(t){var n=c[t.responseJSON]||o.ErrorAddingFolder;$(e).find(".new-subfolder-error").text(n).show()},function(){$("#loadingMessage").hide()})}else S(t)},S=function(t){t=t||{},$(e).find(".new-subfolder .subfolder-item").removeClass("active").find(".new-subfolder-input").val("").hide().siblings(".new-subfolder-input-cancel").hide().siblings(".new-subfolder-label").show(),$(e).find(".new-subfolder-error").hide(),t.keyboardNavigation&&$(e).find(".new-subfolder .subfolder-item").focus()};return n.data&&s(n.data),{show:function(t){$(e).toggle(!1!==t)},setData:s,adjustCutoff:v}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.UI.Components=function(e){return e.tagSearch=function(e,t,o,n){var r,i,s,a,c,l,u=[],d=(n=n||{}).tabIndex||0,p=n.onChange||$.noop,f=n.suggestProviders||!1,h=n.passesBulkAddRestrictions||function(){return!0},m=_.template("<li class='user-menu-item'><a><span class='label-container'><div class='ellipsis'><div class='suggest-icon <@= iconClass @>'></div><div class='suggestion-text'><@= name @><@ if (user.key !== user.name) { @> (<@= key @>)<@ } @></div></div></span><span class='autocomplete-additional <@= additionalCss @>'><div class='ellipsis'><@= additionalText @></div></span></a></li>"),v=_.template("<li><a><div class='ellipsis'><div class='suggest-icon group'></div><@= label @></div></a></li>"),C=_.template("<li><a><div class='ellipsis'><@= label @></div></a></li>"),y=function(){var t=e.find("input[type='text']"),n=e.find(".tagit-new");e.tagit("assignedTags").length?(l=Panopto.Core.UI.Components.placeholder(t,""),n.toggleClass("initial-state",!1)):(l=Panopto.Core.UI.Components.placeholder(t,o.initialPlaceholder),n.toggleClass("initial-state",!0))},P=new Panopto.Core.JobQueue({maxDegreeOfParallelism:4,maxAttempts:1,autoStart:!0}),S=function(e,o){t(e,function(t){var n=null,r=_.filter(t,function(e){return e.model.typeName===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.User}),i=_.filter(t,function(e){return e.model.typeName===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Group});r.length&&(n=_.find(r,function(t){return t.model.key.toLowerCase()===e.toLowerCase()||t.model.name.toLowerCase()===e.toLowerCase()||t.model.email&&t.model.email.toLowerCase()===e.toLowerCase()})),!n&&i.length&&(n=_.find(i,function(t){return t.model.name.toLowerCase()===e.toLowerCase()})),!n&&r.length&&Panopto.features.selectFirstUserResultOnShareAutocomplete&&(n=r[0]),o(n)},function(){o(null)})},g=function(t){_.each(t.suggestions,function(t){e.tagit("createTag",t.value)})};e.addClass("tag-search-container").tagit({autocomplete:{response:function(e,t){t.content&&t.content.length&&(r=t.content[0])},open:function(e,t){i.menu.element.find("li:first").length&&i.menu.focus(e,i.menu.element.find("li:first"))},focus:function(e,t){r=t.item,e.preventDefault()},source:function(e,n){e.term!==s?t(e.term,function(t){var r,i,l,u;s=e.term,(a=t.slice(0,Panopto.Core.Constants.MaxSuggestionResults)).length===Panopto.Core.Constants.MaxSuggestionResults||1===$.trim(s).split(" ").length?n(a):f&&(r=s,i=n,l=function(e){var t=_.uniq($.trim(r).split(" ")),o=_.uniq($.trim(r).split(";").join(",").split(","));h(t.length+o.length)?e.suggestions=_.map(t,function(t){var o=e.model.unifyAccounts?Panopto.Core.Constants.UnifiedMembershipProviderName:e.model.name,n=e.model.isInternal?t:PanoptoTS.StringHelpers.format("{0}\\{1}",o,t);return{value:n,tagId:n,model:Panopto.Core.ServiceInterface.Rest.Objects.User({key:n,name:n,typeName:Panopto.Core.ServiceInterface.Rest.Objects.TypeName.User})}}):c=[]},u=function(){_.each(c,l),a=a.concat(c),1===c.length&&1===a.length&&c[0].suggestions.length>2?(g(c[0]),i([])):i(a)},c?u():Panopto.Core.ServiceInterface.Rest.MembershipProviders.getAllProviders(o,function(e){e.sort(function(e,t){return e.isInternal===t.isInternal?0:e.isInternal?-1:1}),c=_.map(e,function(e){var t=o.providerSuggestionText.format(e.name);return{value:t,tagId:t,model:e}}),u()},function(){c=[]}))}):n(a)},position:{my:"left top",at:"left bottom",of:e},minLength:Panopto.Core.Constants.MinSearchCharacters},animate:!1,allowSpaces:!0,allowDuplicates:!0,tabIndex:d,beforeTagAdded:function(t,o){var n=!1,i=r,s=o.tagLabel.trim().split(/\s+/g),a=o.tagLabel.trim().split(";").join(",").split(",");if(!h(a.length+s.length))return!1;var c,l,d=function(e){o.tagLabel=e.value,o.tag.find(".tagit-label").text(e.value),o.tag.attr("tag-data",e.tagId)},f=function(e,t){var o=$(PanoptoTS.StringHelpers.format("[{0}='{1}']","tag-data",e.tagId));return o.length>t&&o.effect("highlight"),o.length>t};return i?i.suggestions?(n=!0,r=null,g(i)):(d(i),(n=f(i,0))||u.push(i)):a.length>1?(n=!0,_.each(a,function(t){t.indexOf("<")>-1&&t.indexOf(">")>-1&&(t=t.trim().split(" ").pop().slice(1,-1)),e.tagit("createTag",t.trim())})):s.length>2?(n=!0,_.each(s,function(t){e.tagit("createTag",t.trim())})):(o.tag.addClass("pending-tag"),c=o.tagLabel,l=function(e,t){o.tag.removeClass("pending-tag"),t?(d(t),(n=f(t,1))?o.tag.remove():u.push(t)):o.tag.addClass("error-tag"),p(u.length)},P.queueJob({attempt:function(e){S(c,function(t){l(c,t),e()})}})),!n},afterTagAdded:function(){y(),p(u.length)},afterTagRemoved:function(e,t){var o=t.tag.attr("tag-data");u=_.reject(u,function(e){return e.tagId===o}),y(),p(u.length)}}),(i=e.data("ui-tagit").tagInput.data("ui-autocomplete")).menu.element.on("menufocus",function(e,t){i.menu.element.find("a").removeClass("selected"),t.item.find("a").addClass("selected")});var I=e.find("input");I.on("focus",function(){I.val()&&I.val().length>0&&I.val()!=o.initialPlaceholder&&i.search()}),I.on("keydown",function(e){s!==l.val()&&(r=null,s=null,a=null)}),Panopto.features.autoCreateSharingTagsOnPaste&&I.bind("paste",function(){setTimeout(function(){var t=I.val().replace(/"/g,"");e.tagit("createTag",t)},100)});var b=function(e){return e=e||"",Panopto.Core.TextHelpers.highlightMatches(e,i.term,"match")};return i._renderItem=function(e,t){return t.model.typeName===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.User?function(e,t){var n=t.model,r=b(n.name),i=b(n.key),s=b(n.email);return $(m({user:n,iconClass:n.isInviteRequest()?"invite":"user",additionalCss:n.isInviteRequest()||n.isExternalSuggestion()?"grey-additional":"",name:r,key:i,additionalText:n.isInviteRequest()?o.inviteRequest:n.isExternalSuggestion()?o.suggestedUser:s})).appendTo(e)}(e,t):t.model.typeName===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Group?function(e,t){var o=b(t.label);return $(v({label:o})).appendTo(e)}(e,t):function(e,t){var o=b(t.label);return $(C({label:o})).appendTo(e)}(e,t)},i._resizeMenu=function(){var e=$(".tag-search-container"),t=$(".ui-autocomplete"),o=t[0].offsetWidth-t[0].clientWidth,n=e.width()-$(".autocomplete-additional").outerWidth()-10-o;$(".label-container .ellipsis").outerWidth(n),this.menu.element.outerWidth(e.outerWidth())},y(),{getModels:function(){return _.pluck(u,"model")},clear:function(){e.tagit("removeAll"),u.length=0},$getInput:function(){return e.data("ui-tagit").tagInput},hasPendingTags:function(){return e.find(".pending-tag").length>0}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.uploadIndicator=function(e,t,o){var n,r,i,s,a,c=(o=o||{}).pingInterval||200,l=o.toggleUploadFunction,u=o.pollUploadProgressFunction,d=o.uploadCompleted,p=$("<div class='upload-indicator'><div class='indicator-box'><div class='progress'></div></div><div class='pause-link' tabindex='0'>"+t.pauseText+"</div><div class='done-text'>"+t.completeText+"</div></div>"),f=function(e,o,n){var c=Math.clamp(100*e,0,100)+"%",l=o?t.resumeText:t.pauseText;r=o,i.css("width",c),s.text(l),n&&(h(void 0),s.hide(),a.show(),d&&d())},h=function(t){t&&e.hide(),n&&(clearInterval(n),n=null)};return e.append(p),i=e.find(".progress"),s=e.find(".pause-link"),a=e.find(".done-text"),i.css("transition",c+"ms"),Panopto.Core.UI.Handlers.button(s,function(){l(r),r=!r}),{update:function(e,t,o){f(e,t,o)},start:function(t,o){o=o||0,t&&e.show(),n||(s.show(),a.hide(),f(o,!1,!1),n=setInterval(function(){u(f)},c))},stop:h}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.volumePreview=function(e,t,o){var n,r,i,s,a,c,l,u,d,p,f,h,m,v,C,y=(o=o||{}).horizontal,P=o.zIndex||20,S=o.microphoneName,g=o.pingInterval||200,I=o.granularity||100,b=o.pollVolumeFunction,R=_.template("<div class='vertical'><div class='mercury' style='z-index: <@= zIndex @>'><div class='level'></div><div class='mic-name'><@= microphoneName @></div></div><div class='scale'><div class='loud'></div><div class='quiet'></div></div><div class='legend'><div class='volume-loud'><div>"+t.VolumePreview_TooLoud+"</div></div><div class='volume-adjusted'><div>"+t.VolumePreview_JustRight+"</div></div><div class='volume-quiet'><div>"+t.VolumePreview_TooQuiet+"</div></div></div></div>"),T=_.template("<div class='volume-preview horizontal'><div class='mercury' style='z-index: <@= zIndex @>'></div><div class='scale'><div class='quiet'><div class='bulb'></div></div><div class='volume-space'></div><div class='goldilocks'></div><div class='volume-space'></div><div class='loud'><div class='bulb'></div></div></div></div>"),w=function(){var e=window.innerHeight;l!==e&&(l=e,r=p.offset().top-n,i=r+p.innerHeight(),s=(i-r)/I,a=m.offset().top+m.innerHeight()-n,c=v.offset().top-n)},A=function(e){var t=Math.clamp(e*I,0,I);y||(t=I-t),function(e){var t,o=0,n=1,r=2,i={loud:"area-loud",quiet:"area-quiet",goldilocks:"area-goldilocks"},s=function(e){_.each(i,function(e){d.removeClass(e)}),d.addClass(e)};switch(d.css("transition",g+"ms"),y?(t=e>a?o:e<c?n:r,d.css("left",e+"px")):(w(),t=e<a?o:e>c?n:r,d.css("top",e+"px")),t){case o:v.removeClass("current-volume"),m.addClass("current-volume"),s(i.loud);break;case n:m.removeClass("current-volume"),v.addClass("current-volume"),s(i.quiet);break;default:m.removeClass("current-volume"),v.removeClass("current-volume"),s(i.goldilocks)}}(t*s+r)},E=function(){u=setInterval(function(){b(A)},g)};return e.empty(),(C=y?$(T({zIndex:P})):$(R({microphoneName:S,zIndex:P}))).appendTo(e),d=C.find(".mercury"),p=C.find(".scale"),f=C.find(".loud"),h=C.find(".quiet"),m=C.find(".volume-loud"),v=C.find(".volume-quiet"),y?(n=Math.round(d.outerWidth()/2),r=$(".quiet .bulb").offset().left,i=$(".loud .bulb").offset().left,s=(i-r)/I,d.css("left",r),a=f.offset().left-n,c=h.offset().left+h.outerWidth()-n):(n=d.find(".level").offset().top-d.offset().top,w(),d.css("top",d.offset().top)),E(),{update:function(e){A(e)},start:E,stop:function(){clearInterval(u)}}},e}(Panopto.Core.UI.Components||{}),function(e){!function(t){!function(t){var o=function(){function t(o,n,r,i,s,a,c){var l=this;this.waveform=i,this.dataViewport=new e.Data.ArrayViewport(o,n,r),this.viewport=new e.Data.VisualViewport(s,a,0,c,c,{expandFactor:t.expandFactor,positionChanged:function(e){l.waveform.canvas.style.left=e+"px"},widthChanged:function(e){l.waveform.width=e,l.waveform.canvas.width=e},draw:function(e){var t=e.getDrawnLeftPosition()*r/e.getVisualWidth(),o=e.getDrawnWidth()*r/e.getVisualWidth();l.dataViewport.setRangeViewport(t,t+o),l.updateWaveform(e)}})}return t.prototype.getViewport=function(){return this.viewport},t.prototype.updateWaveform=function(t){var o=t.getDrawnWidth();if(o>0){var n=e.Data.ArrayMath.averageReduce(this.dataViewport.getData(),o),r=this.waveform.container.clientHeight;this.waveform.height=r,this.waveform.canvas.height=r,this.waveform.update({data:n,interpolate:n.length<o})}},t.expandFactor=2,t}();t.WaveformViewport=o}(t.Components||(t.Components={}))}(e.UI||(e.UI={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.progressBar=function(e,t){e.addClass("progress-bar"),e.html(_.template(t.encouragingText?"<div class='percentage-bar' style='width:<@= item.percentage @>%;'></div><div class='encouraging-text'><@= item.encouragingText @></div>":"<div class='bar-start'></div><div class='percentage-bar' style='width:<@= item.percentage @>%;'></div><div class='progress-text'><@= item.progressText @></div><div class='remaining-text'><@= item.remainingText @></div><div class='bar-end'></div>")({item:t}))},e.spinner=function(e,t){var o=t?"spinner-background":"",n=t?"branded-animation":"",r="<div class='loading-block'>"+PanoptoTS.StringHelpers.format("<div class='branding-color-holders {0}'></div>",o)+PanoptoTS.StringHelpers.format("<div class='loading-indicator {0}'></div>",n)+"</div>";e.html(_.template(r))},e.nextDelivery=function(e,t,o,n,r,i){var s="<a href='#' class='watch-again'>"+n+"</a>";t.durationText=t.isLive?i:t.duration,e.html(_.template("<div class='next-delivery-control'><div class='video-ended'><@= nextDeliveryText @></div><div class='next-delivery-info' tabindex='0'><div class='thumb-wrapper'><img class='next-delivery-thumb' src='<@= deliveryData.thumbUrl @>'></div><div class='next-delivery-data'><div class='next-delivery-title'><span><@= deliveryData.title @></span></div><div class='next-delivery-description'><span><@= deliveryData.description @></span></div><div class='next-delivery-duration'><span><@= deliveryData.durationText @></span></div></div></div></div>")({deliveryData:t,nextDeliveryText:o.format(s,t.folderName)})),Panopto.Core.UI.Handlers.button($(".next-delivery-info"),function(){window.location.href=t.url}),Panopto.Core.UI.Handlers.button($(".watch-again"),function(){r()})},Panopto.Core.UI.Components.renderErrors=function(e,t){var o=_.template("<ul class='error-list'><@ _.each(errorList, function (error) { @><li><@= error @></li><@ }); @></ul>");e.html(o({errorList:t}))},e}(Panopto.Core.UI.Components||{}),function(e){!function(e){!function(e){!function(e){!function(e){var t=PanoptoCore.VoidCallback,o="disabled",n=function(){function e(n){var r=this;this._addStreamClicked=new t,this._addClipClicked=new t,this._addQuizClicked=new t,this._addYouTubeClicked=new t,this._addWebpageClicked=new t,this._canAddContent=!0,this._canAddClip=!0,this._canAddEmbedEvent=!0,this._element=$(e.template({resources:n})),this.addStreamButton=this._element.find(".add-stream"),this.addClipButton=this._element.find(".add-clip"),this.addQuizButton=this._element.find(".add-quiz"),this.addYouTubeButton=this._element.find(".add-youtube"),this.addWebpageButton=this._element.find(".add-webpage"),Panopto.Core.UI.Handlers.button(this.addStreamButton,function(){r.addStreamButton.hasClass(o)||(r.toggle(),r._addStreamClicked.fire())}),Panopto.Core.UI.Handlers.button(this.addClipButton,function(){r.addClipButton.hasClass(o)||(r.toggle(),r._addClipClicked.fire())}),Panopto.Core.UI.Handlers.button(this.addQuizButton,function(){r.addQuizButton.hasClass(o)||(r.toggle(),r._addQuizClicked.fire())}),Panopto.Core.UI.Handlers.button(this.addYouTubeButton,function(){r.addYouTubeButton.hasClass(o)||(r.toggle(),r._addYouTubeClicked.fire())}),Panopto.Core.UI.Handlers.button(this.addWebpageButton,function(){r.addWebpageButton.hasClass(o)||(r.toggle(),r._addWebpageClicked.fire())})}return Object.defineProperty(e.prototype,"addStreamClicked",{get:function(){return this._addStreamClicked},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addClipClicked",{get:function(){return this._addClipClicked},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addQuizClicked",{get:function(){return this._addQuizClicked},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addYouTubeClicked",{get:function(){return this._addYouTubeClicked},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addWebpageClicked",{get:function(){return this._addWebpageClicked},enumerable:!0,configurable:!0}),e.prototype.updateAddButtonAvailabilities=function(){this.addStreamButton.toggleClass(o,!this._canAddContent),this.addClipButton.toggleClass(o,!this._canAddContent||!this._canAddClip),this.addQuizButton.toggleClass(o,!this._canAddContent||!this._canAddEmbedEvent),this.addYouTubeButton.toggleClass(o,!this._canAddContent||!this._canAddEmbedEvent),this.addWebpageButton.toggleClass(o,!this._canAddContent)},Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),e.prototype.toggle=function(e){this._element.toggle(e)},Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._element.is(":visible")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canAddContent",{set:function(e){this._canAddContent=e,this.updateAddButtonAvailabilities()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canAddClip",{set:function(e){this._canAddClip=e,this.updateAddButtonAvailabilities()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canAddEmbedEvent",{set:function(e){this._canAddEmbedEvent=e,this.updateAddButtonAvailabilities()},enumerable:!0,configurable:!0}),e.template=_.template('\n            <div class="add-content-expansion">\n                <div\n                    class="add-content-row add-stream"\n                    tabindex="0"\n                    role="button"\n                    title="<@= resources.ViewerPlus_Edit_AddContentStream @>">\n                    <div class="icon"><i class="material-icons">play_circle_outline</i></div>\n                    <div class="label"><@= resources.ViewerPlus_Edit_AddContentStream @></div>\n                </div>\n                <div\n                    class="add-content-row add-clip"\n                    tabindex="0"\n                    role="button"\n                    title="<@= resources.ViewerPlus_Edit_AddClip @>">\n                    <div class="icon"><i class="material-icons">vertical_align_center</i></div>\n                    <div class="label"><@= resources.ViewerPlus_Edit_AddClip @></div>\n                </div>\n                <div\n                    class="add-content-row add-quiz"\n                    tabindex="0"\n                    role="button"\n                    title="<@= resources.ViewerPlus_Edit_QuizTooltip @>">\n                    <div class="icon"><i class="material-icons">assignment_turned_in</i></div>\n                    <div class="label"><@= resources.ViewerPlus_Edit_QuizTooltip @></div>\n                </div>\n                <div\n                    class="add-content-row add-youtube"\n                    tabindex="0"\n                    role="button"\n                    title="<@= resources.ViewerPlus_Edit_YouTubeTooltip @>">\n                    <div class="icon"><div class="custom-icon"></div></div>\n                    <div class="label"><@= resources.ViewerPlus_Edit_YouTubeTooltip @></div>\n                </div>\n                <div\n                    class="add-content-row add-webpage"\n                    tabindex="0"\n                    role="button"\n                    title="<@= resources.ViewerPlus_Edit_WebpageTooltip @>">\n                    <div class="icon"><i class="material-icons">link</i></div>\n                    <div class="label"><@= resources.ViewerPlus_Edit_WebpageTooltip @></div>\n                </div>\n            </div>'),e}();e.AddContentExpansionControl=n}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(t){!function(t){!function(t){var o=PanoptoCore.TypedCallback,n=PanoptoCore.VoidCallback,r=function(){function r(e,i,s,a,c,l,u){var d=this;this.container=e,this.timelineView=s,this.snapService=a,this._targetId=l,this._targetType=u,this._onExecuting=new o,this._onExecuted=new n,this.resizing=!1,this.handleDragStart=function(){d.lastSavedCutStart=d.leftMarker.containerRelativeTime,d._onExecuting.fire(d)},this.handleDragStop=function(){d.timelineView.resizeCut(d,d.lastSavedCutStart),d.toggleMarkers(!1),d._onExecuted.fire()},this.handleDragLeftHandle=function(e,t){var o=d.snapService.snap(d.timeFromPixels(t.position.left)+d.targetStart),n=Math.min(o,d.rightMarker.sessionRelativeTime);t.position.left=d.pixelsFromTime(n-d.targetStart),d.toggleMarkers(!0),d.leftMarker.sessionRelativeTime=n,d.refresh()},this.handleDragRightHandle=function(e,t){var o=d.snapService.snap(d.timeFromPixels(t.position.left)+d.targetStart),n=Math.max(o,d.leftMarker.sessionRelativeTime);t.position.left=d.pixelsFromTime(n-d.targetStart),d.toggleMarkers(!0),d.rightMarker.sessionRelativeTime=n,d.refresh()};var p=_.uniqueId("cut"),f="cutLeftBound"+p,h="cutRightBound"+p;this.leftMarker=new t.Marker(e,i,c,{accented:!0,expandsLeft:!0}),this.rightMarker=new t.Marker(e,i,c,{accented:!0}),e.append(r.template({id:p,leftHandleId:f,rightHandleId:h})),this.cut=e.find("#"+p),this.leftHandle=e.find("#"+f),this.rightHandle=e.find("#"+h),this.leftHandle.hide(),this.rightHandle.hide(),this.leftHandle.css("position","absolute"),this.rightHandle.css("position","absolute"),this.leftHandle.draggable({axis:"x"}),this.rightHandle.draggable({axis:"x"}),this.leftHandle.mousedown(function(e){e.stopPropagation()}),this.rightHandle.mousedown(function(e){e.stopPropagation()}),this.leftHandle.on("dragstart",this.handleDragStart),this.rightHandle.on("dragstart",this.handleDragStart),this.leftHandle.on("dragstop",this.handleDragStop),this.rightHandle.on("dragstop",this.handleDragStop),this.leftHandle.on("drag",this.handleDragLeftHandle),this.rightHandle.on("drag",this.handleDragRightHandle),Panopto.Core.ElementHelpers.removePointerEvents(this.cut,["mousemove","mousedown"]),this.refresh(),this.toggleMarkers(!1)}return Object.defineProperty(r.prototype,"onCutControlExecuting",{get:function(){return this._onExecuting},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"onCutControlExecuted",{get:function(){return this._onExecuted},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"targetId",{get:function(){return this._targetId},set:function(e){this._targetId=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"targetType",{get:function(){return this._targetType},set:function(e){this._targetType=e},enumerable:!0,configurable:!0}),r.prototype.refresh=function(){this.leftMarker.refresh(),this.rightMarker.refresh();var e=this.leftMarker.left-this.leftMarker.width/2,t=this.rightMarker.left-this.leftMarker.left+this.leftMarker.width;this.cut.css({left:e,width:t}),this.leftHandle.css({left:e+1}),this.rightHandle.css({left:e+t-1})},r.prototype.remove=function(){this.cut.remove(),this.leftHandle.remove(),this.rightHandle.remove(),this.leftMarker.remove(),this.rightMarker.remove()},r.prototype.setContainerTime=function(e,t){this.targetStart=e,this.duration=t,this.leftMarker.setContainerTime(e,t),this.rightMarker.setContainerTime(e,t)},r.prototype.toggle=function(e){this.toggleMarkers(e),this.cut.toggle(e),this.leftHandle.toggle(this.resizing&&e),this.rightHandle.toggle(this.resizing&&e),this.cut.is(":visible")&&this.refresh()},r.prototype.toggleMarkers=function(t){this.leftMarker.toggle(this.hiddenSide!==e.Position.Left&&t),this.rightMarker.toggle(this.hiddenSide!==e.Position.Right&&t),this.leftMarker.toggleTimestamp(this.leftMarker.sessionRelativeTime!==this.rightMarker.sessionRelativeTime&&this.hiddenSide!==e.Position.Left&&t)},r.prototype.timeFromPixels=function(e){return e*this.duration/this.container.width()},r.prototype.pixelsFromTime=function(e){return e*this.container.width()/this.duration},r.prototype.activateCutControl=function(){this.resizing=!0;var t=0===this.leftMarker.sessionRelativeTime,o=this.rightMarker.sessionRelativeTime===this.targetStart+this.duration;this.leftHandle.toggle(this.hiddenSide!==e.Position.Left&&!t),this.rightHandle.toggle(this.hiddenSide!==e.Position.Right&&!o)},r.prototype.deactivateCutControl=function(e){this.resizing=!1,this.leftHandle.hide(),this.rightHandle.hide()},r.prototype.overlaps=function(e){return this._targetId===e._targetId&&e.relativeEditorEnd>=this.relativeEditorStart&&e.relativeEditorStart<=this.relativeEditorEnd},r.prototype.contains=function(e){return this._targetId===e._targetId&&e.relativeEditorStart>=this.relativeEditorStart&&e.relativeEditorEnd<=this.relativeEditorEnd},Object.defineProperty(r.prototype,"relativeEditorStart",{get:function(){return this.leftMarker.containerRelativeTime},set:function(e){this.leftMarker.containerRelativeTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"relativeEditorEnd",{get:function(){return this.rightMarker.containerRelativeTime},set:function(e){this.rightMarker.containerRelativeTime=e},enumerable:!0,configurable:!0}),r.template=_.template("\n            <div id='<@= id @>' class='timeline-cut'></div>\n            <div id='<@= leftHandleId @>' class='timeline-cut-handle left-handle' tabindex='0'>\n                <div class=\"timeline-cut-handle-visible\"></div>\n            </div>\n            <div id='<@= rightHandleId @>' class='timeline-cut-handle right-handle' tabindex='0'>\n                <div class=\"timeline-cut-handle-visible\"></div>\n            </div>"),r}();t.CutView=r;var i=function(t){function o(o,n,r,i,s,a,c){var l=t.call(this,o,n,r,i,s,a,c)||this;return l.cut.css("border-left","none"),l.leftHandle.css("visibility","hidden"),l.hiddenSide=e.Position.Left,l.leftMarker.toggleTimestamp(!1),l}return __extends(o,t),o}(r);t.TopCutView=i;var s=function(t){function o(o,n,r,i,s,a,c){var l=t.call(this,o,n,r,i,s,a,c)||this;return l.cut.css("border-right","none"),l.rightHandle.css("visibility","hidden"),l.hiddenSide=e.Position.Right,l.rightMarker.toggleTimestamp(!1),l}return __extends(o,t),o}(r);t.TailCutView=s}(t.Editor||(t.Editor={}))}(t.Components||(t.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){var t=PanoptoCore.VoidCallback,o=PanoptoCore.TypedCallback,n=function(){function e(e,n,r){this.targetElement=e,this.snapService=n,this.temporaryCutView=r,this._onExecuting=new o,this._cutCreated=new o,this._onExecuted=new t}return Object.defineProperty(e.prototype,"onCutControlExecuting",{get:function(){return this._onExecuting},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cutCreated",{get:function(){return this._cutCreated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCutControlExecuted",{get:function(){return this._onExecuted},enumerable:!0,configurable:!0}),e.prototype.getTimeFromMouseEvent=function(e){return Math.round((e.pageX-this.targetElement.offset().left)/this.targetElement.width()*this.targetElementDuration)},e.prototype.applyState=function(e,t,o,n){this.targetStart=e,this.targetElementDuration=t,this.cutTargetId=o,this.cutTargetType=n},e.prototype.activateCutControl=function(){this.unbindInactiveCutMouseEvents(),this.unbindActiveCutMouseEvents(),this.bindInactiveCutMouseEvents()},e.prototype.deactivateCutControl=function(e){e!==this&&this.unbindInactiveCutMouseEvents()},e.prototype.bindInactiveCutMouseEvents=function(){var t=this;this.targetElement.on("mousedown"+e.cutCreateEventNamespace,function(e){0===e.button&&t.bindSwitchingToCutMouseEvents(e)})},e.prototype.bindSwitchingToCutMouseEvents=function(e){var t=this,o=function(){t.targetElement.off(".switchingToCut"),window.clearTimeout(r)},n=function(){var o=t.getTimeFromMouseEvent(e);t.temporaryCutView.relativeEditorStart=o,t.temporaryCutView.relativeEditorEnd=o,t.temporaryCutView.toggle(!0),t.unbindInactiveCutMouseEvents(),t.bindActiveCutMouseEvents(o),t._onExecuting.fire(t)};this.targetElement.on("mousemove.switchingToCut",function(t){Math.abs(e.clientX-t.clientX)>=Panopto.Core.Constants.SeekOrCutPositionDifferenceThreshold&&(o(),n())});var r=window.setTimeout(function(){o(),n()},Panopto.Core.Constants.SeekOrCutTimeDifferenceThreshold);this.targetElement.on("mouseup.switchingToCut",function(){o(),t.activateCutControl()})},e.prototype.unbindInactiveCutMouseEvents=function(){this.targetElement.off(e.cutCreateEventNamespace)},e.prototype.bindActiveCutMouseEvents=function(t){var o=this;this.targetElement.on("mousemove"+e.cutCreatingEventNamespace,function(e){var n=o.snapService.snap(o.getTimeFromMouseEvent(e)+o.targetStart)-o.targetStart,r=Math.min(t,n),i=Math.max(t,n);o.temporaryCutView.relativeEditorStart=r,o.temporaryCutView.relativeEditorEnd=i,o.temporaryCutView.toggleMarkers(!0),o.temporaryCutView.refresh()}),this.targetElement.on("mouseout"+e.cutCreatingEventNamespace,function(e){var t=o.getTimeFromMouseEvent(e);t<0?(o.temporaryCutView.relativeEditorStart=0,o.temporaryCutView.refresh()):t>o.targetElementDuration&&(o.temporaryCutView.relativeEditorEnd=o.targetElementDuration,o.temporaryCutView.refresh())}),$(document).one("mouseup"+e.cutCreatingEventNamespace,function(){o.unbindActiveCutMouseEvents(),o.finishCut()})},e.prototype.unbindActiveCutMouseEvents=function(){this.targetElement.off(e.cutCreatingEventNamespace)},e.prototype.finishCut=function(){var e=this.temporaryCutView.relativeEditorStart,t=this.temporaryCutView.relativeEditorEnd;e!==t&&this._cutCreated.fire({relativeEditorStart:e,relativeEditorEnd:t,cutTargetId:this.cutTargetId,cutTargetType:this.cutTargetType}),this.temporaryCutView.toggle(!1),this._onExecuted.fire()},e.cutCreateEventNamespace=".cutcreate",e.cutCreatingEventNamespace=".cutcreating",e}();e.CutViewCreateController=n}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){var t=function(){function e(){}return e.prototype.mergeCuts=function(e,t){var o={toRemove:[],toAdd:[]},n=[e.relativeEditorStart,e.relativeEditorEnd,t.relativeEditorStart,t.relativeEditorEnd],r=Math.min.apply(Math,n),i=Math.max.apply(Math,n);return o.toRemove.push(e),o.toRemove.push(t),o.toAdd.push({relativeEditorStart:r,relativeEditorEnd:i,targetId:e.targetId,targetType:e.targetType}),o},e.prototype.splitCuts=function(e,t){var o={toRemove:[],toAdd:[]};return o.toRemove.push(e),o.toRemove.push(t),e.relativeEditorStart!==t.relativeEditorStart&&o.toAdd.push({relativeEditorStart:e.relativeEditorStart,relativeEditorEnd:t.relativeEditorStart,targetId:e.targetId,targetType:e.targetType}),e.relativeEditorEnd!==t.relativeEditorEnd&&o.toAdd.push({relativeEditorStart:t.relativeEditorEnd,relativeEditorEnd:e.relativeEditorEnd,targetId:e.targetId,targetType:e.targetType}),o},e.prototype.resolveOverlappingCuts=function(e,t,o){var n=this,r={toRemove:[],toAdd:[]},i=!1,s=!1;return _.each(e,function(e){var a,c,l;if(e!==t){if(o&&!i&&e.contains(t)){i=!0;var u=n.splitCuts(e,t);(a=r.toRemove).push.apply(a,u.toRemove),(c=r.toAdd).push.apply(c,u.toAdd)}if(!i&&e.overlaps(t)){s=!0;u=n.mergeCuts(e,t);(l=r.toRemove).push.apply(l,u.toRemove),t.relativeEditorStart=u.toAdd[0].relativeEditorStart,t.relativeEditorEnd=u.toAdd[0].relativeEditorEnd}}}),!i&&s&&r.toAdd.push({relativeEditorStart:t.relativeEditorStart,relativeEditorEnd:t.relativeEditorEnd,targetId:t.targetId,targetType:t.targetType}),r},e}();e.CutViewOperationController=t}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){var t=PanoptoCore.TypedCallback,o=PanoptoCore.VoidCallback,n=function(){function e(e,n,r){this.topCut=e,this.tailCut=n,this.regularCuts=r,this._onExecuting=new t,this._onExecuted=new o,this.handledCutViews=[]}return Object.defineProperty(e.prototype,"onCutControlExecuting",{get:function(){return this._onExecuting},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCutControlExecuted",{get:function(){return this._onExecuted},enumerable:!0,configurable:!0}),e.prototype.applyState=function(e,t,o){this.containerDuration=e,this.targetId=t,this.targetType=o},e.prototype.activateCutControl=function(){var e=this,t=_.filter([this.topCut].concat(this.regularCuts.sort(function(e,t){return e.relativeEditorStart-t.relativeEditorStart})).concat([this.tailCut]),function(t){return void 0!==t&&t.targetId===e.targetId});if(_.each(t,function(t){t.activateCutControl(),_.contains(e.handledCutViews,t)||(t.onCutControlExecuting.add(function(t){return e._onExecuting.fire(t)}),t.onCutControlExecuted.add(function(){return e._onExecuted.fire()}),e.handledCutViews.push(t))}),void 0!==this.topCut){this.topCut.relativeEditorStart=0,this.topCut.relativeEditorEnd=0;var o=t[1].relativeEditorStart;this.topCut.toggle(0!==o),this.topCut.toggleMarkers(!1)}if(void 0!==this.tailCut){this.tailCut.relativeEditorStart=this.containerDuration,this.tailCut.relativeEditorEnd=this.containerDuration;var n=t[t.length-2].relativeEditorEnd;this.tailCut.toggle(n<this.containerDuration),this.tailCut.toggleMarkers(!1)}},e.prototype.deactivateCutControl=function(e){void 0!==this.topCut&&this.topCut!==e&&this.topCut.deactivateCutControl(),void 0!==this.tailCut&&this.tailCut!==e&&this.tailCut.deactivateCutControl();for(var t=0,o=this.regularCuts;t<o.length;t++){o[t].deactivateCutControl(e)}void 0===e&&(this.topCut&&this.topCut.toggle(!1),this.tailCut&&this.tailCut.toggle(!1))},e}();e.CutViewResizeController=n}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){!function(e){e.Default="Default",e.Cut="Cut",e.Focus="Focus"}(e.EditorMode||(e.EditorMode={}))}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){var t=function(){function t(t,o,n,r){this.streamId=r;var i=new e.Marker(t,o,n,{accented:!0,expandsLeft:!0}),s=new e.Marker(t,o,n,{accented:!0});this.id=_.uniqueId("focus"),this.markers=[i,s];var a="<div id='"+this.id+"' class='timeline-focus'></div>";t.append(a),this.$focus=t.find("#"+this.id)}return t.prototype.refresh=function(){_.each(this.markers,function(e){e.refresh()}),this.$focus.css({left:this.markers[0].left-this.markers[0].width/2+"px",width:this.markers[1].left-this.markers[0].left+this.markers[0].width+"px"})},t.prototype.remove=function(){this.$focus.remove(),_.each(this.markers,function(e){e.remove()})},t.prototype.overlaps=function(e){return this.streamId===e.targetId&&e.relativeEditorEnd>this.markers[0].containerRelativeTime&&e.relativeEditorStart<this.markers[1].containerRelativeTime},t.prototype.contains=function(e){return this.streamId===e.targetId&&e.relativeEditorStart>=this.markers[0].containerRelativeTime&&e.relativeEditorEnd<=this.markers[1].containerRelativeTime},t.prototype.contained=function(e){return this.streamId===e.targetId&&e.relativeEditorStart<this.markers[0].containerRelativeTime&&e.relativeEditorEnd>this.markers[1].containerRelativeTime},t.prototype.clipCutAtEdge=function(e){e.relativeEditorStart<this.markers[0].containerRelativeTime&&e.relativeEditorEnd>this.markers[0].containerRelativeTime?e.relativeEditorEnd=this.markers[0].containerRelativeTime:e.relativeEditorStart<this.markers[1].containerRelativeTime&&e.relativeEditorEnd>this.markers[1].containerRelativeTime&&(e.relativeEditorStart=this.markers[1].containerRelativeTime)},Object.defineProperty(t.prototype,"relativeEditorStart",{get:function(){return this.markers[0].containerRelativeTime},set:function(e){this.markers[0].containerRelativeTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeEditorEnd",{get:function(){return this.markers[1].containerRelativeTime},set:function(e){this.markers[1].containerRelativeTime=e},enumerable:!0,configurable:!0}),t.prototype.setContainerTime=function(e,t){this.markers[0].setContainerTime(e,t),this.markers[1].setContainerTime(e,t)},t}();e.FocusView=t}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){var t=function(){function e(e,t,o,n){var r=void 0===n?{}:n,i=r.accented,s=void 0!==i&&i,a=r.expandsLeft,c=void 0!==a&&a,l=r.isPlayhead,u=void 0!==l&&l;this.container=e,this.ruler=t,this.resources=o,this.timestampVisible=!0,this.id=_.uniqueId("marker");var d=s?"accented":"";this.line=$('<div id="line'+this.id+'" class="marker-line '+d+'"></div>').appendTo(e),this.timestamp=$('<div id="markerTimestamp'+this.id+'" class="marker-timestamp '+d+'"></div>').appendTo(t),Panopto.Core.ElementHelpers.removePointerEvents(this.line.add(this.timestamp),["mousemove","mousedown"]),u&&this.line.add(this.timestamp).addClass("playhead"),this.expandsLeft=c}return e.prototype.refresh=function(){var e=this.container.width()*this._containerRelativeTime/this.duration,t=e+this.targetStart*this.container.width()/this.duration,o=this.width;this.line.css("left",Math.clamp(e,o/2,this.container.width()-o/2)),this.timestampVisible&&(this.timestamp.text(Panopto.Core.TimeHelpers.formatDuration(this.sessionRelativeTime/Panopto.Core.Constants.TimelineChunkMultiplier,this.resources.timeSeparator,!1,this.resources.millisecondPrecision)),this.timestamp.css({left:Math.clamp(this.expandsLeft?t-this.timestamp.outerWidth()+o/2:t-o/2,0,this.ruler.width()-this.timestamp.outerWidth())}))},e.prototype.remove=function(){this.line.remove(),this.timestamp.remove()},e.prototype.toggle=function(e){this.line.toggle(e),this.timestamp.toggle(this.timestampVisible&&e),this.line.is(":visible")&&this.refresh()},e.prototype.toggleTimestamp=function(e){this.timestampVisible=e,this.timestamp.toggle(this.timestampVisible)},Object.defineProperty(e.prototype,"containerRelativeTime",{get:function(){return this._containerRelativeTime},set:function(e){this._containerRelativeTime=Math.clamp(Math.round(e),0,this.duration),this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return parseFloat(this.line.css("left"))},set:function(e){this.containerRelativeTime=e/this.container.width()*this.duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.line.outerWidth()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sessionRelativeTime",{get:function(){return this.containerRelativeTime+this.targetStart},set:function(e){this.containerRelativeTime=e-this.targetStart},enumerable:!0,configurable:!0}),e.prototype.setContainerTime=function(e,t){this.targetStart=e,this.duration=t},e}();e.Marker=t}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){!function(e){var t=PanoptoCore.TypedCallback,o=function(){function o(e){this.resources=e,this._onStackClicked=new t,this.events=[],this.thumbRatios={},this.$thumbnailContainer=$(o.thumbnailContainerTemplate)}return o.prototype.getElement=function(){return this.$thumbnailContainer},Object.defineProperty(o.prototype,"onStackClicked",{get:function(){return this._onStackClicked},enumerable:!0,configurable:!0}),o.prototype.applyState=function(e){this.containerDuration=this.getEventsViewDuration(e),this.events=this.getEvents(e),this.refresh()},o.prototype.refresh=function(){var e=this;this.getThumbRatios().then(function(){var t=e.$thumbnailContainer.width()/e.containerDuration,o=e.$thumbnailContainer.height(),n=e.getStackedEvents(e.events,e.thumbRatios,t,o);e.$thumbnailContainer.empty(),_.each(n,function(t){var o=e.renderEventStack(t);o.on("mouseup",function(o){e._onStackClicked.fire(t)}),e.$thumbnailContainer.append(o)})})},o.prototype.getStackedEvents=function(t,o,n,r){var i,s,a,c,l=this,u=[];return _.each(t,function(t){s=i?i.left:-1/0,a=i?i.width():0,(c=l.getLeftPixelsFromEvent(t,n))<s+a?i.events.push(t):(i=new e.EventStack([t],c,o[t.thumbnailUrl||l.resources.noThumbnailUrl]*r),u.push(i))}),u},o.prototype.getThumbRatios=function(){var e=this,t=[];return _.each(this.events,function(o){var n=o.thumbnailUrl||e.resources.noThumbnailUrl;if(!e.thumbRatios[n]){e.thumbRatios[n]=1;var r=$.Deferred();t.push(r),Panopto.Core.ImageHelpers.getAspectRatio(n,function(t){e.thumbRatios[n]=t,r.resolve()})}}),$.when.apply($,t)},o.prototype.getLeftPixelsFromEvent=function(e,t){return e.streamRelativeEditorTime*t},o.thumbnailContainerClass="stream-thumbnail-container",o.thumbnailContainerTemplate="<div class='"+o.thumbnailContainerClass+"'></div>",o}();e.BaseEventsView=o}(e.Events||(e.Events={}))}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){!function(e){var t=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.getEventsViewDuration=function(e){return e.duration()},t.prototype.getEvents=function(e){return _.chain(e.events()).filter(function(e){return e.type===Panopto.Core.EventType.SlideChange&&!e.isDefaultThumbnail}).map(function(t){var o=e.calculateEditorTimeTicksFromAbsolute(t.timelineTime),n=e.calculateEditorTimeFromAbsolute(t.timelineTime);return{id:t.id,thumbnailUrl:t.thumbnailUrl,streamRelativeEditorTime:o,editorTime:n,type:Panopto.Core.EventTargetType.PowerPoint,isSlide:!0}}).value()},t.prototype.renderEventStack=function(e){var o=1===e.events.length?t.eventTemplate:t.stackTemplate;return $(o({id:e.id,left:e.left,src:e.events[0].thumbnailUrl||this.resources.noThumbnailUrl}))},t.eventTemplate=_.template("<img id='<@= id @>' src='<@= src @>' class='event-view' style='left:<@= left @>px;' />"),t.stackTemplate=_.template("<div id='<@= id @>' class='event-stack' style='left:<@= left @>px;'>\n            <div class='event-stack-image-row'>\n                <img src='<@= src @>' class='event-stack-image' />\n                <div class='event-stack-border-side'>\n                    <div class='event-stack-border-side-top'></div>\n                </div>\n            </div>\n            <div class='event-stack-border-row'>\n                <div class='event-stack-border-left'></div>\n                <div class='event-stack-border-middle'></div>\n                <div class='event-stack-border-right'></div>\n            </div>\n        </div>"),t}(e.BaseEventsView);e.PresentationEventsView=t}(e.Events||(e.Events={}))}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){!function(t){!function(t){!function(t){var o=e.Core.UI.Components.Editor.Events.PresentationEventsView,n=function(){function e(t){this.presentationRow=$(e.presentationRowTemplate),this.eventsView=new o(t),this.presentationRow.append(this.eventsView.getElement())}return e.prototype.getElement=function(){return this.presentationRow},Object.defineProperty(e.prototype,"onStackClicked",{get:function(){return this.eventsView.onStackClicked},enumerable:!0,configurable:!0}),e.prototype.applyState=function(e){this.eventsView.applyState(e)},e.prototype.toggle=function(e){this.presentationRow.toggle(e)},e.prototype.refresh=function(){this.presentationRow.is(":visible")&&this.eventsView.refresh()},e.presentationRowTemplate="<div class='timeline-row presentation-row'></div>",e}();t.SimplePresentationView=n;var r=function(e){function t(t,o,n){var r=e.call(this,n)||this;return r.$iconPane=t,r.$streamPane=o,r.resources=n,r.iconId="presentationIcon",r.iconTemplate="<div id='"+r.iconId+"' class='timeline-label' title='"+r.resources.presentationName+"'><span>SL</span></div>",r.$icon=$(r.iconTemplate),r.$streamPane.append(r.presentationRow),r}return __extends(t,e),t.prototype.toggle=function(t){e.prototype.toggle.call(this,t),this.$icon.toggle(t),this.$iconPane.append(this.$icon)},t}(n);t.PresentationView=r}(t.Editor||(t.Editor={}))}(t.Components||(t.Components={}))}(t.UI||(t.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=Panopto.Core.UI.Components||{},Panopto.Core.UI.Components.Editor=Panopto.Core.UI.Components.Editor||{},Panopto.Core.UI.Components.Editor.Ruler=function(e,t,o){var n,r,i,s,a=Panopto.Core.Constants,c=_.map([1,5,10,30,60,300,600,1800,3600],function(e){return e*a.TimelineChunkMultiplier}),l=function(e){var t,n,r,l,u=e.getVisualWidth()/o,d=e.getDrawnWidth()/u,p=_.min(c,function(e){return Math.abs(Math.log(d/e)/Math.log(6)-1)}),f=c[c.indexOf(p)-1]||p,h=c[c.indexOf(p)-2]||f;i.height=i.offsetHeight,s.clearRect(0,0,i.width,i.height),s.beginPath();for(var m=e.getDrawnLeftPosition()/u,v=h*Math.ceil(m/h);v<m+e.getDrawnWidth()/u;v+=h)t=(v-m)*u,n=(l=v%p==0)?12:v%f==0?6:3,t=Math.floor(t)+.5,n=Math.floor(n)+.5,s.moveTo(t,i.height),s.lineTo(t,i.height-n),s.strokeStyle=a.CanvasRulerTickColor,s.stroke(),s.fillStyle=a.CanvasFontColor,l&&(r=Panopto.Core.TimeHelpers.formatDuration(v/a.TimelineChunkMultiplier,":"),s.fillText(r,t+4,i.height-6))};t.html(_.template("<canvas></canvas>")),n=t.find("canvas"),(i=n[0]).width=e.width(),(s=i.getContext("2d")).font=a.CanvasFont,s.fillStyle=a.CanvasFontColor,r=new PanoptoTS.Data.VisualViewport(0,1,0,e.width(),e.width(),{expandFactor:2,positionChanged:function(e){i.style.left=e+"px"},widthChanged:function(e){i.width=e},draw:function(e){return l(e)}});return{duration:function(e){o=e,l(r)},updateViewport:function(e,t,o){r.updateViewport(e,t,o)}}},function(e){!function(e){!function(e){!function(e){!function(e){var t=function(){function t(){}return t.prototype.computeSnapTargets=function(t){var o=[];return _.each(t.sessionReferences,function(t){o.push(new e.SnapRange(t.editorStartTime,t.editorStartTime+t.referencedSessionDuration*Panopto.Core.Constants.TimelineChunkMultiplier))}),o},t}();e.SessionAndStreamSnapTargetsGenerator=t}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){var t=function(){function t(){}return Object.defineProperty(t.prototype,"sessionReferenceId",{set:function(e){this._sessionReferenceId=e},enumerable:!0,configurable:!0}),t.prototype.computeSnapTargets=function(t){var o=this,n=[],r=_.find(t.sessionReferences,function(e){return e.id===o._sessionReferenceId});return n.push(new e.SnapMinimum(r.editorStartTime)),n.push(new e.SnapMaximum(r.editorStartTime+r.getTimelineDuration())),_.chain(t.cuts()).filter(function(e){return e.targetId===o._sessionReferenceId}).each(function(o){n.push(new e.SnapPoint(t.calculateEditorTimeForCutInClip(o.start,o.targetId)),new e.SnapPoint(t.calculateEditorTimeForCutInClip(o.end(),o.targetId)))}),n},t}();e.SessionReferenceSnapTargetsGenerator=t}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){var t=function(){function t(e,t,o){this.streamPane=e,this.playhead=t,this.snapTargetsGenerator=o,this.snapTargets=[]}return t.prototype.applyState=function(e){this.snapTargets=this.snapTargetsGenerator.computeSnapTargets(e),this.timelineDuration=e.duration(),this.refresh()},t.prototype.refresh=function(){this.tolerance=Panopto.Core.Constants.SnapTolerance*this.timelineDuration/this.streamPane.width()},t.prototype.getSnapTargets=function(){return this.snapTargets.concat([new e.SnapPoint(this.playhead.sessionRelativeTime)])},t.prototype.snap=function(e){var t=this,o=e;return _.find(this.getSnapTargets(),function(n){if((o=n.snap(e,t.tolerance))!==e)return!0}),o},t}();e.SnapService=t}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){var t=function(){function e(e){this.ticks=e}return e.prototype.snap=function(e,t){return Math.abs(e-this.ticks)<=t?this.ticks:e},e}();e.SnapPoint=t;var o=function(){function e(e,t){this.startTicks=e,this.endTicks=t}return e.prototype.snap=function(e,t){var o=this.startTicks-t,n=this.endTicks+t,r=Math.abs(e-o),i=Math.abs(e-n);return e>=o&&e<=n?r<i?this.startTicks:this.endTicks:e},e}();e.SnapRange=o;var n=function(){function e(e){this.ticks=e}return e.prototype.snap=function(e,t){return e>=this.ticks-t?this.ticks:e},e}();e.SnapMaximum=n;var r=function(){function e(e){this.ticks=e}return e.prototype.snap=function(e,t){return e<=this.ticks+t?this.ticks:e},e}();e.SnapMinimum=r}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){!function(e){var t=function(e){function t(t,o,n){var r=e.call(this,n)||this;return r.streamId=t,r.cutsVisible=o,r}return __extends(t,e),t.prototype.getEventsViewDuration=function(e){var t=this;if(this.stream=_.find(e.streams(),function(e){return e.id===t.streamId}),void 0===this.stream)throw new Error("Couldn't find stream with ID "+this.streamId+" in timeline state");var o=e.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart);return this.cutsVisible||_.chain(e.cuts()).filter(function(e){return e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session}).each(function(n){n.start+e.absoluteStart()>t.stream.absoluteStart&&n.start+e.absoluteStart()<=t.stream.absoluteStart+t.stream.duration&&(o-=n.duration)}),o},t}(e.BaseEventsView);e.StreamEventsView=t}(e.Events||(e.Events={}))}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getEvents=function(){return[]},t.prototype.renderEventStack=function(){throw new Error("Method not implemented.")},t}(e.StreamEventsView);e.AudioOnlyPrimaryEventsView=t}(e.Events||(e.Events={}))}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){!function(e){var t=function(e){function t(t,o){return e.call(this,t,!1,o)||this}return __extends(t,e),t.prototype.getEvents=function(e){for(var t=this,o=[],n=0,r=0,i=function(){var i=r*s.stream.thumbnailInterval;if(!_.chain(e.cuts()).filter(function(e){return e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session}).some(function(e){if(e.start<=i&&e.start+e.duration>i)return!0}).value()){var a=i;_.chain(e.cuts()).filter(function(e){return e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session}).each(function(o){o.start+e.absoluteStart()>=t.stream.absoluteStart&&o.start<=i&&(a-=o.duration)}),o.push({id:void 0,thumbnailUrl:s.stream.thumbnailUrlBase.format(r),streamRelativeEditorTime:a})}n+=s.stream.thumbnailInterval,r++},s=this;n<this.stream.duration;)i();return o},t.prototype.renderEventStack=function(e){return $(t.thumbnailTemplate({left:e.left,src:e.events[0].thumbnailUrl}))},t.thumbnailClass="stream-thumbnail",t.thumbnailTemplate=_.template("<img src='<@= src @>' class='"+t.thumbnailClass+"' style='left:<@= left @>px;' />"),t}(e.StreamEventsView);e.ClipPrimaryEventsView=t}(e.Events||(e.Events={}))}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){!function(e){var t=function(){function e(t,o){this.streamId=t,this.cutsVisible=o,this.$icon=$(e.iconTemplate),this.$row=$(e.streamTemplate),this.$stream=this.$row.find("."+e.timelineStreamClass),this.$markerContainer=this.$row.find("."+e.markerContainerClass)}return e.prototype.getElement=function(){return this.$row},e.prototype.applyState=function(e){var t=this.getStream(e),o=this.getElementPosition(e,t),n={left:100*o.leftPositionTimelineRatio+"%",width:100*o.widthTimelineRatio+"%"};this.$stream.css(n),this.$markerContainer.css(n),this.eventsView.applyState(e)},e.prototype.updateViewport=function(e,t,o){this.eventsView.refresh()},e.prototype.getStream=function(e){var t=this,o=_.find(e.streams(),function(e){return e.id===t.streamId});if(void 0===o)throw new Error("Couldn't find stream with ID "+this.streamId+" in timeline state");return o},e.prototype.getElementPosition=function(e,t){var o=e.calculateEditorTimeTicksFromAbsolute(t.absoluteStart),n=e.calculatePaddedDuration(t.duration,t.absoluteStart),r=o+n,i=e.duration();if(!this.cutsVisible){var s=0,a=0;_.chain(e.cuts()).filter(function(e){return e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session}).sortBy(function(e){return-e.start}).each(function(e){if(e.start<o&&(s-=e.duration),e.start<r&&e.end()>o){var t=Math.max(e.start,o),n=Math.min(e.end(),r)-t;a-=Math.max(0,n)}i-=e.duration}),o+=s,n+=a}return{leftPositionTimelineRatio:o/i,widthTimelineRatio:n/i}},e.timelineStreamClass="timeline-stream",e.markerContainerClass="stream-marker-container",e.streamIconClass="stream-icon",e.streamRowClass="stream-row",e.iconTemplate="\n            <div class='timeline-label "+e.streamIconClass+"'></div>",e.streamTemplate="\n            <div class='timeline-row "+e.streamRowClass+"'>\n                <div class='"+e.timelineStreamClass+"'></div>\n                <div class='"+e.markerContainerClass+"'></div>\n            </div>",e}();e.BaseStreamView=t}(e.Streams||(e.Streams={}))}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){!function(t){!function(t){!function(t){!function(t){var o=e.Core.UI.Components.Editor.Events.AudioOnlyPrimaryEventsView,n=e.Core.UI.Components.Editor.Events.ClipPrimaryEventsView,r=function(t){function r(e,i,s,a,c){var l=t.call(this,e,s)||this;return l.histogramDataLoadedPromise=$.Deferred(),l.eventsView=i?new o(e,!0,c):new n(e,c),l.$stream.append(l.eventsView.getElement()),l.$histogram=$(r.histogramTemplate),l.$stream.append(l.$histogram),l.$icon.add(l.$row).addClass(r.primaryClass),a.getHistogram(e,function(e){l.streamHistogramData=e,l.histogramDataLoadedPromise.resolve()},function(){l.histogramDataLoadedPromise.reject()}),l}return __extends(r,t),r.prototype.applyState=function(e){var o=this;t.prototype.applyState.call(this,e),this.histogramDataLoadedPromise.then(function(){var t=o.getStream(e),n=o.generateHistogramDataToRender(e,t);o.renderHistogram(e,n,t)})},r.prototype.updateViewport=function(e,o,n){var r=this;t.prototype.updateViewport.call(this,e,o,n),this.histogramDataLoadedPromise.then(function(){r.waveform.getViewport().updateViewport(e,o,n)})},r.prototype.generateHistogramDataToRender=function(e,t){var o=this.$histogram.height(),n=_.max(this.streamHistogramData)||1,r=[];return _.each(this.streamHistogramData,function(e){r.push(Math.max(e/n,1/o))}),this.modifyHistogramData(e,r,t),r},r.prototype.renderHistogram=function(t,o,n){var r=this.getElementPosition(t,n);this.$histogram.empty();var i=new Waveform({container:this.$histogram[0],interpolate:!1,innerColor:Panopto.Core.Constants.CanvasFontColor}),s=t.calculatePaddedDuration(n.duration,n.absoluteStart);this.waveform=new e.UI.Components.WaveformViewport(o,0,s,i,r.leftPositionTimelineRatio,r.widthTimelineRatio,0)},r.primaryClass="primary",r.histogramClass="stream-histogram",r.histogramTemplate="<div class='"+r.histogramClass+"'></div>",r}(t.BaseStreamView);t.PrimaryStreamView=r}(t.Streams||(t.Streams={}))}(t.Editor||(t.Editor={}))}(t.Components||(t.Components={}))}(t.UI||(t.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){!function(e){var t=function(e){function t(t,o,n,r){return e.call(this,t,o,!1,n,r)||this}return __extends(t,e),t.prototype.modifyHistogramData=function(e,t,o){var n=e.calculateEditorTimeTicksFromAbsolute(o.absoluteStart),r=e.calculatePaddedDuration(o.duration,o.absoluteStart)+n,i=o.duration/t.length;_.chain(e.cuts()).filter(function(e){return e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session}).sortBy(function(e){return-e.start}).each(function(e){if(e.start<r&&e.end()>n){var o=Math.max(e.start,n),s=Math.floor((Math.min(e.end(),r)-o)/i),a=Math.floor(o/i);t.splice(a,Math.max(0,s))}})},t}(e.PrimaryStreamView);e.ClipPrimaryStreamView=t}(e.Streams||(e.Streams={}))}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){!function(e){var t=function(e){function t(t,o,n){return e.call(this,t,o,n)||this}return __extends(t,e),t.prototype.getEvents=function(e){var t=this;return _.chain(e.events()).filter(function(e){return e.streamId===t.streamId}).filter(function(e){return!e.isDefaultThumbnail&&!e.link}).map(function(o){var n=e.calculateEditorTimeTicksFromAbsolute(o.timelineTime);t.cutsVisible||_.chain(e.cuts()).filter(function(e){return e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session}).each(function(r){r.start+e.absoluteStart()>=t.stream.absoluteStart&&r.start+e.absoluteStart()<=o.timelineTime&&(n-=r.duration)});var r=n/Panopto.Core.Constants.TimelineChunkMultiplier;return{id:o.id,thumbnailUrl:o.thumbnailUrl,streamRelativeEditorTime:e.calculateRelativeEditorTimeFromEditorTime(n,t.streamId),editorTime:r,type:o.type,isSlide:!1}}).value()},t.prototype.renderEventStack=function(e){return $((1===e.events.length?t.eventTemplate:t.stackTemplate)({id:e.id,left:e.left,src:e.events[0].thumbnailUrl||this.resources.noThumbnailUrl}))},t.eventTemplate=_.template("<img id='<@= id @>' src='<@= src @>' class='event-view' style='left:<@= left @>px;' />"),t.stackTemplate=_.template("<div id='<@= id @>' class='event-stack' style='left:<@= left @>px;'>\n                <div class='event-stack-image-row'>\n                    <img src='<@= src @>' class='event-stack-image' />\n                    <div class='event-stack-border-side'>\n                        <div class='event-stack-border-side-top'></div>\n                    </div>\n                </div>\n                <div class='event-stack-border-row'>\n                    <div class='event-stack-border-left'></div>\n                    <div class='event-stack-border-middle'></div>\n                    <div class='event-stack-border-right'></div>\n                </div>\n            </div>"),t}(e.StreamEventsView);e.SecondaryEventsView=t}(e.Events||(e.Events={}))}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){!function(t){!function(t){!function(t){!function(t){var o=e.Core.UI.Components.Editor.Events.SecondaryEventsView,n=function(e){function t(t,n){var r=e.call(this,t,!1)||this;return r.eventsView=new o(t,!1,n),r.$stream.append(r.eventsView.getElement()),r}return __extends(t,e),t}(t.BaseStreamView);t.ClipSecondaryStreamView=n}(t.Streams||(t.Streams={}))}(t.Editor||(t.Editor={}))}(t.Components||(t.Components={}))}(t.UI||(t.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){!function(t){!function(t){!function(t){var o=PanoptoCore.TypedCallback,n=PanoptoCore.VoidCallback,r=e.Core.UI.Components.Editor.Streams.ClipPrimaryStreamView,i=e.Core.UI.Components.Editor.Streams.ClipSecondaryStreamView,s=function(){function e(r,i,s,a,c){var l=this;this.timelineView=r,this.ruler=i,this.streamPane=s,this.playhead=a,this.resources=c,this.streamViews=[],this.cutViews=[],this._onExecuting=new o,this._onExecuted=new n,this.element=$(e.template()),this.elementContents=this.element.find(".splice-view-contents"),this.titleBar=this.element.find(".splice-view-title-bar"),this.elementMarkerContainer=this.element.find(".splice-view-marker-container"),this.snapTargetsGenerator=new t.SessionReferenceSnapTargetsGenerator,this.snapService=new t.SnapService(this.streamPane,this.playhead,this.snapTargetsGenerator),this.presentationView=new t.SimplePresentationView(this.resources),this.presentationView.onStackClicked.add(function(e){l.timelineView.setPosition(e.events[0].streamRelativeEditorTime)}),this.topCut=new t.TopCutView(this.elementMarkerContainer,this.ruler,this.timelineView,this.snapService,this.resources,void 0,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference),this.tailCut=new t.TailCutView(this.elementMarkerContainer,this.ruler,this.timelineView,this.snapService,this.resources,void 0,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference),this.topCut.toggle(!1),this.tailCut.toggle(!1),this.cutViewResizeController=new t.CutViewResizeController(this.topCut,this.tailCut,this.cutViews),this.cutViewResizeController.onCutControlExecuting.add(function(e){l._onExecuting.fire(e)}),this.cutViewResizeController.onCutControlExecuted.add(function(){l._onExecuted.fire()})}return Object.defineProperty(e.prototype,"onCutControlExecuting",{get:function(){return this._onExecuting},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCutControlExecuted",{get:function(){return this._onExecuted},enumerable:!0,configurable:!0}),e.prototype.getElement=function(){return this.element},e.prototype.render=function(e,t){var o=this;this.sessionReference=e,this.timelineState=t,this.snapTargetsGenerator.sessionReferenceId=e.id,this.titleBar.text(this.sessionReference.name),this.streamViews.length=0,this.elementContents.empty(),_.chain(this.sessionReference.streams).sortBy(function(e){return e.absoluteStart}).sortBy(function(e){return e.isPrimary?0:1}).each(function(t){var n;(n=t.isPrimary?new r(t.id,t.type===Panopto.Core.ServiceInterface.Rest.Objects.StreamContentType.Audio,Panopto.Core.ServiceInterface.Rest.Streams,o.resources):new i(t.id,o.resources)).applyState(e.timelineState),o.streamViews.push(n),o.elementContents.append(n.getElement())}),this.elementContents.append(this.presentationView.getElement()),this.sessionReference.slideEvents.length?(this.presentationView.toggle(!0),this.presentationView.applyState(this.sessionReference.timelineState)):this.presentationView.toggle(!1),this.topCut.targetId=this.sessionReference.id,this.topCut.setContainerTime(this.sessionReference.editorStartTime,this.sessionReference.getTimelineDuration()),this.tailCut.targetId=this.sessionReference.id,this.tailCut.setContainerTime(this.sessionReference.editorStartTime,this.sessionReference.getTimelineDuration()),this.cutViewResizeController.applyState(this.sessionReference.getTimelineDuration(),this.sessionReference.id,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference),this.applyState(t),this.refresh()},e.prototype.applyState=function(e){this.snapService.applyState(e)},e.prototype.refresh=function(){var e=this.sessionReference.editorStartTime/this.timelineState.duration()*100,t=this.sessionReference.referencedSessionDuration*Panopto.Core.Constants.TimelineChunkMultiplier/this.timelineState.duration()*100;this.element.css("left",e+"%"),this.element.width(t+"%"),this.presentationView.refresh(),this.snapService.refresh(),this.topCut.refresh(),this.tailCut.refresh()},e.prototype.activateCutControl=function(){this.cutViewResizeController.activateCutControl()},e.prototype.deactivateCutControl=function(e){this.cutViewResizeController.deactivateCutControl(e)},e.prototype.updateViewport=function(){var e=this;_.each(this.streamViews,function(t){return t.updateViewport(0,e.element.width(),e.element.width())})},e.prototype.getHeight=function(){return _.reduce(this.streamViews,function(e,t){return e+t.getElement().outerHeight()},0)+(this.sessionReference.slideEvents.length>0?this.presentationView.getElement().outerHeight():0)},e.prototype.addCut=function(e,o){var n=new t.CutView(this.elementMarkerContainer,this.ruler,this.timelineView,this.snapService,this.resources,this.sessionReference.id,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference);return n.setContainerTime(this.sessionReference.editorStartTime,this.sessionReference.getTimelineDuration()),n.relativeEditorStart=e,n.relativeEditorEnd=o,n.refresh(),this.cutViews.push(n),n},e.prototype.isVirtualCutView=function(e){return e===this.topCut||e===this.tailCut},e.prototype.removeCut=function(e){this.cutViews.splice(this.cutViews.indexOf(e),1)},e.template=_.template('\n        <div class="splice-view">\n            <div class="splice-view-overlay-container">\n                <div class="splice-view-contents" />\n            </div>\n            <div class="splice-view-overlay-container">\n                <div class="splice-view-marker-container" />\n            </div>\n            <div class="splice-view-border" />\n            <div class="splice-view-title-bar" />\n        </div>'),e}();t.SpliceView=s}(t.Editor||(t.Editor={}))}(t.Components||(t.Components={}))}(t.UI||(t.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(t){!function(t){!function(t){!function(t){var o=PanoptoCore.TypedCallback,n=PanoptoCore.VoidCallback,r=e.Core.UI.Components.Editor.Events.SecondaryEventsView,i=function(){function e(e,o){this.temporaryMarker=e,this.isPrimary=o,this._hoverStream=!1,this._currentMode=t.EditorMode.Default,this._actionInProgress=!1,e.toggle(this.visibility)}return Object.defineProperty(e.prototype,"hoverStream",{set:function(e){this._hoverStream=e,this.temporaryMarker.toggle(this.visibility)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentMode",{set:function(e){this._currentMode=e,this.temporaryMarker.toggle(this.visibility)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionInProgress",{set:function(e){this._actionInProgress=e,this.temporaryMarker.toggle(this.visibility)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibility",{get:function(){return!this._actionInProgress&&(!!this._hoverStream&&(!this.isPrimary||this._currentMode!==t.EditorMode.Cut))},enumerable:!0,configurable:!0}),e}();t.StreamMarkerController=i;var s=function(){function s(e,a,c,l,u,d,p,f){var h=this;this.timelineView=e,this.$ruler=a,this.streamPane=c,this.playhead=l,this.stream=u,this.timelineDuration=d,this.resources=p,this.timelineState=f,this.cutViews=[],this._onExecuting=new o,this._onExecuted=new n,this._onMouseEnter=new n,this._onMouseLeave=new n,this.serverHistogramData=[],this.normalizedData=[],this.isAudio=this.stream.type===Panopto.Core.ServiceInterface.Rest.Objects.StreamContentType.Audio,this.histogramDataLoadedPromise=$.Deferred(),this.isPrimary=this.stream.isPrimary,this.id=this.stream.id,this.$icon=$(s.iconTemplate),this.$row=$(s.streamTemplate),this.$stream=this.$row.find("."+s.timelineStreamClass),this.$thumbnailContainer=this.$stream.find("."+s.thumbnailContainerClass),this.$histogram=this.$stream.find("."+s.histogramClass),this.$markerContainer=this.$row.find("."+s.markerContainerClass),u.isPrimary?(this.$icon.add(this.$row).addClass(s.primaryClass),this.isAudio&&this.$icon.add(this.$row).addClass("audio"),Panopto.Core.ServiceInterface.Rest.Streams.getHistogram(u.id,function(e){e.length=Math.ceil(u.duration/Panopto.Core.Constants.HistogramChunkMultiplier),h.serverHistogramData=e,h.initializeHistogram(e),h.histogramDataLoadedPromise.resolve()},function(){})):(this.eventsView=new r(this.stream.id,!0,p),this.$thumbnailContainer.replaceWith(this.eventsView.getElement()),this.snapTargetsGenerator=new t.SessionAndStreamSnapTargetsGenerator,this.snapService=new t.SnapService(this.streamPane,this.playhead,this.snapTargetsGenerator),this.topCutView=this.createCutView(t.TopCutView),this.topCutView.toggle(!1),this.tailCutView=this.createCutView(t.TailCutView),this.tailCutView.toggle(!1),this.temporaryCutView=this.createCutView(t.CutView),this.temporaryCutView.toggle(!1),this.cutViewCreateController=new t.CutViewCreateController(this.$stream,this.snapService,this.temporaryCutView),this.cutViewCreateController.onCutControlExecuting.add(function(e){h.streamMarkerController.actionInProgress=!0,h._onExecuting.fire(e)}),this.cutViewCreateController.onCutControlExecuted.add(function(){h.streamMarkerController.actionInProgress=!1,h._onExecuted.fire()}),this.cutViewCreateController.cutCreated.add(function(e){h.timelineView.addCut(!0,e.relativeEditorStart,e.relativeEditorEnd,e.cutTargetId,e.cutTargetType,!1)}),this.cutViewResizeController=new t.CutViewResizeController(this.topCutView,this.tailCutView,this.cutViews),this.cutViewResizeController.onCutControlExecuting.add(function(e){h.streamMarkerController.actionInProgress=!0,h._onExecuting.fire(e)}),this.cutViewResizeController.onCutControlExecuted.add(function(){h.streamMarkerController.actionInProgress=!1,h._onExecuted.fire()})),this.temporaryMarker=this.addMarker(0),this.streamMarkerController=new i(this.temporaryMarker,u.isPrimary),this.$stream.mouseenter(function(){h.streamMarkerController.hoverStream=!0,h._onMouseEnter.fire()}),this.$stream.mouseleave(function(){h.streamMarkerController.hoverStream=!1,h._onMouseLeave.fire()}),this.$stream.mousemove(function(e){h.temporaryMarker.left=e.clientX-h.$stream.offset().left}),this.updateTimelineState(f),this.updateStream(u),this.refresh()}return Object.defineProperty(s.prototype,"onCutControlExecuting",{get:function(){return this._onExecuting},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"onCutControlExecuted",{get:function(){return this._onExecuted},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"onMouseEnter",{get:function(){return this._onMouseEnter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"onMouseLeave",{get:function(){return this._onMouseLeave},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"currentMode",{set:function(e){this.streamMarkerController.currentMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"groupSortOrder",{set:function(e){var t=this.stream.isPrimary?Panopto.GlobalResources.ViewerPlus_Edit_Primary_Label.format(e):Panopto.GlobalResources.ViewerPlus_Edit_Secondary_Label.format(e);this.$icon.attr("title",this.resources.getStreamName(this.stream,e)),this.$icon.html("<span>"+t+"</span>")},enumerable:!0,configurable:!0}),s.prototype.getStreamRelativeLeftPercent=function(e){return e/this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart)*100},s.prototype.refreshThumbnails=function(){var e=this,t=function(){var t=Math.floor(e.stream.duration/e.stream.thumbnailInterval)+1,o=e.$stream.width()/e.thumbnailWidth,n=Math.ceil(t/o);e.thumbnailSpacing,e.thumbnailSpacing=n,e.$thumbnailContainer.find("."+s.thumbnailClass).remove();for(var r=0;r<t;r+=e.thumbnailSpacing){var i=e.timelineState.calculateRelativeEditorTime(r*e.stream.thumbnailInterval,e.stream.id);e.$thumbnailContainer.append(s.thumbnailTemplate({src:e.stream.thumbnailUrlBase.format(r),left:e.getStreamRelativeLeftPercent(i)+"%"}))}};this.eventsView?this.eventsView.refresh():!this.isAudio&&this.stream.thumbnailUrlBase&&(this.thumbnailWidth?t():Panopto.Core.ImageHelpers.getAspectRatio(this.stream.thumbnailUrlBase.format(0),function(o){e.$thumbnailContainer.height()>0&&(e.thumbnailWidth=o*e.$thumbnailContainer.height(),t())}))},s.prototype.refresh=function(){this.refreshThumbnails(),this.snapService&&this.snapService.refresh(),this.topCutView&&this.topCutView.refresh(),this.tailCutView&&this.tailCutView.refresh()},s.prototype.updateTimelineState=function(e){var t=this;this.timelineState=e,this.timelineDuration=this.timelineState.duration(),this.normalizedData=_.clone(this.serverHistogramData),_.chain(this.timelineState.sessionReferences).sortBy(function(e){return e.order}).sortBy(function(e){return e.start}).each(function(e){t.addSessionReference(e)}),this.stream.isPrimary&&this.histogramDataLoadedPromise.done(function(){t.initializeHistogram(_.clone(t.normalizedData))}),this.eventsView&&this.eventsView.applyState(e),this.updateTimelineStateWhenChangeIsTimelineViewTriggered(e)},s.prototype.updateTimelineStateWhenChangeIsTimelineViewTriggered=function(e){this.snapService&&this.snapService.applyState(e)},s.prototype.activateCutControl=function(){this.isPrimary||(this.cutViewCreateController.activateCutControl(),this.cutViewResizeController.activateCutControl())},s.prototype.deactivateCutControl=function(e){this.isPrimary||(this.cutViewCreateController.deactivateCutControl(e),this.cutViewResizeController.deactivateCutControl(e))},s.prototype.updateStream=function(e){this.stream=e,this.isPrimary=this.stream.isPrimary,this.id=this.stream.id,this.$icon.attr("title",this.resources.getStreamName(this.stream));var t=this.timelineState.calculateEditorTimeTicksFromAbsolute(this.stream.absoluteStart),o=this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart);this.leftPositionTimelineRatio=t/this.timelineDuration,this.widthTimelineRatio=o/this.timelineDuration,this.$stream.css({left:100*this.leftPositionTimelineRatio+"%",width:100*this.widthTimelineRatio+"%"}),this.temporaryMarker.setContainerTime(t,o),this.isPrimary||(this.topCutView.setContainerTime(t,o),this.tailCutView.setContainerTime(t,o),this.temporaryCutView.setContainerTime(t,o),this.cutViewCreateController.applyState(t,o,this.stream.id,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Stream),this.cutViewResizeController.applyState(o,this.stream.id,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Stream)),this.waveform&&this.waveform.getViewport().updateVisualRatios(this.leftPositionTimelineRatio,this.widthTimelineRatio)},s.prototype.remove=function(){this.$icon.remove(),this.$row.remove()},s.prototype.initializeHistogram=function(t){this.normalizeHistogramData(t,this.$histogram.height()),this.$histogram.empty();var o=new Waveform({container:this.$histogram[0],interpolate:!1,innerColor:Panopto.Core.Constants.CanvasFontColor}),n=this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart);this.waveform=new e.UI.Components.WaveformViewport(this.normalizedData,0,n,o,this.leftPositionTimelineRatio,this.widthTimelineRatio,this.timelineView.width())},s.prototype.normalizeHistogramData=function(e,t){for(var o=this,n=e[0],r=e[0],i=0,s=e;i<s.length;i++){var a=s[i];a>n?n=a:a<r&&(r=a)}return this.normalizedData.length=0,n===r?_.each(e,function(){o.normalizedData.push(1/t)}):_.each(e,function(e){o.normalizedData.push(Math.max((e||0)/n,1/t))}),this.normalizedData},s.prototype.addMarker=function(e){var o=this.timelineState.calculateEditorTimeTicksFromAbsolute(this.stream.absoluteStart),n=this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart),r=new t.Marker(this.$markerContainer,this.$ruler,this.resources);return r.setContainerTime(o,n),r.containerRelativeTime=e,r},s.prototype.addCut=function(e,o){var n=this.createCutView(t.CutView);return n.relativeEditorStart=e,n.relativeEditorEnd=o,n.refresh(),this.cutViews.push(n),n},s.prototype.createCutView=function(e){var t=this.timelineState.calculateEditorTimeTicksFromAbsolute(this.stream.absoluteStart),o=this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart),n=new e(this.$markerContainer,this.$ruler,this.timelineView,this.snapService,this.resources,this.stream.id,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Stream);return n.setContainerTime(t,o),n},s.prototype.addFocus=function(e,o){var n=this.timelineState.calculateEditorTimeTicksFromAbsolute(this.stream.absoluteStart),r=this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart),i=new t.FocusView(this.$markerContainer,this.$ruler,this.resources,this.stream.id);return i.setContainerTime(n,r),i.relativeEditorStart=e,i.relativeEditorEnd=o,i.refresh(),i},s.prototype.isVirtualCutView=function(e){return e===this.topCutView||e===this.tailCutView},s.prototype.removeCut=function(e){this.cutViews.splice(this.cutViews.indexOf(e),1)},s.prototype.addSessionReference=function(e){var t=this,o=this.timelineState.calculateEditorTimeTicksFromAbsolute(this.stream.absoluteStart),n=this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart)+o;if(this.isPrimary&&e.start>o&&e.start<n){var r=this.timelineState.calculateSessionReferenceEditorStartTime(e)-o;this.histogramDataLoadedPromise.done(function(){for(var o,n=t.stream.duration/t.serverHistogramData.length,i=Math.floor(r/n),s=Math.floor(e.referencedSessionDuration*Panopto.Core.Constants.TimelineChunkMultiplier/n),a=[],c=0;c<s;c++)a.push(0);(o=t.normalizedData).splice.apply(o,[i,0].concat(a))})}},s.prototype.containsPoint=function(e,t){var o=this.$stream.offset();return e>=o.left&&e<=o.left+this.$stream.outerWidth()&&t>=o.top&&t<=o.top+this.$stream.outerHeight()},s.prototype.boundedTime=function(e){var t=this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart);return Panopto.Core.Math.clamp(e,0,t)},s.prototype.updateViewport=function(e,t,o){this.waveform&&this.waveform.getViewport().updateViewport(e,t,o)},Object.defineProperty(s.prototype,"iconElement",{get:function(){return this.$icon},enumerable:!0,configurable:!0}),s.prototype.getElement=function(){return this.$row},Object.defineProperty(s.prototype,"onStackClicked",{get:function(){return void 0!==this.eventsView?this.eventsView.onStackClicked:new o},enumerable:!0,configurable:!0}),s.timelineStreamClass="timeline-stream",s.thumbnailContainerClass="stream-thumbnail-container",s.histogramClass="stream-histogram",s.markerContainerClass="stream-marker-container",s.primaryClass="primary",s.streamIconClass="stream-icon",s.streamRowClass="stream-row",s.iconTemplate="\n            <div class='timeline-label "+s.streamIconClass+"'></div>",s.streamTemplate="\n            <div class='timeline-row "+s.streamRowClass+"'>\n                <div class='"+s.timelineStreamClass+"'>\n                    <div class='"+s.thumbnailContainerClass+"'></div>\n                    <div class='"+s.histogramClass+"'></div>\n                    <div class='"+s.markerContainerClass+"'></div>\n                </div>\n            </div>",s.thumbnailClass="stream-thumbnail",s.thumbnailTemplate=_.template("<img src='<@= src @>' class='"+s.thumbnailClass+"' style='left:<@= left @>;' />"),s}();t.SimpleStreamView=s}(t.Editor||(t.Editor={}))}(t.Components||(t.Components={}))}(t.UI||(t.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=Panopto.Core.UI.Components||{},Panopto.Core.UI.Components.Editor=Panopto.Core.UI.Components.Editor||{},Panopto.Core.UI.Components.Editor.ThumbnailChooser=function(e,t,o){var n,r,i,s,a,c='\n        <div class="chooser-popup" style="display:none;">\n            <div class="chooser-primary chooser-option" tabindex="0">'+o.setPrimaryAsDefaultThumbnail+'</div>\n            <div class="chooser-secondary chooser-option" tabindex="0">'+o.setSecondaryAsDefaultThumbnail+'</div>\n            <div class="chooser-upload chooser-option" tabindex="0">'+o.uploadCustomDefaultThumbnail+'</div>\n        </div>\n        <div class="chooser-triangle" style="display:none;">▲</div>',l=function(){n.hide(),r.hide()};e.append(c),n=e.find(".chooser-popup"),r=e.find(".chooser-triangle"),i=n.find(".chooser-primary"),s=n.find(".chooser-secondary"),a=n.find(".chooser-upload"),Panopto.Core.UI.Components.popup(n,t,function(){if(!t.hasClass(Panopto.Core.Constants.DisabledClass)){var e=t.offsetParent().offset(),o=t.offset(),i=o.left-e.left+t.outerWidth()/2,s=o.top-e.top+t.outerHeight();r.show().css({left:i,top:s}),n.show().css({left:Math.clamp(i-n.outerWidth()/2,0,$(window).width()-n.outerWidth()),top:s+14})}},l),Panopto.Core.UI.Handlers.button(i,function(){l(),u.fire(!0)}),Panopto.Core.UI.Handlers.button(s,function(){l(),u.fire(!1)}),Panopto.Core.UI.Handlers.button(a,function(){l(),d.fire()});var u=new PanoptoCore.TypedCallback,d=new PanoptoCore.VoidCallback;return{synchronize:function(e){var o=!e.playing&&e.canAddContent;i.toggle(!e.primaryAudioOnly),s.toggle(!!e.secondaryAvailable),t.toggleClass(Panopto.Core.Constants.DisabledClass,!o),o||l()},onChooseThumbnail:u,onUploadThumbnail:d}},function(e){!function(t){!function(t){!function(t){!function(t){var o=function(){function t(e,t,o,n,r,i,s){void 0===i&&(i=[]),this.inputStreams=e,this.inputCuts=t,this.inputEvents=o,this.inputSlideDecksToDelete=n,this.inputQuestionLists=r,this.sessionReferences=i,this.addedStreams=s,this.sessionReferences=i||[],this.addedStreams=s||[],this.refreshTimeline()}return t.prototype.streams=function(){return this.inputStreams},t.prototype.cuts=function(){return this.inputCuts},t.prototype.events=function(){return this.inputEvents},t.prototype.slideDecksToDelete=function(){return this.inputSlideDecksToDelete},t.prototype.questionLists=function(){return this.inputQuestionLists},t.prototype.timeline=function(){return this.inputTimeline},t.prototype.copy=function(){var o=_.map(this.inputStreams,function(e){return e.copy()}),n=_.map(this.inputCuts,function(e){return e.copy()}),r=_.map(this.inputSlideDecksToDelete,function(e){return e.copy()});return new t(o,n,_.map(this.inputEvents,function(e){var t=e.copy();return t.edited=e.edited,t}),r,_.map(this.inputQuestionLists,function(t){var o=new e.Models.Editor.EditableQuestionList;return o.copyFromEditableQuestionList(t),o}),_.map(this.sessionReferences,function(e){return e.copy()}),this.addedStreams)},t.prototype.absoluteStart=function(){return this.primaryStart},t.prototype.duration=function(){return this.primaryDuration},t.prototype.hostDuration=function(){return this.hostPrimaryDuration},t.prototype.firstPrimaryOffset=function(){return this.primaryStart-this.sessionStart},t.prototype.createTimeline=function(e){var t=Panopto.Core.Logic.Timeline.Timeline(this.inputStreams,e?this.inputCuts:[]);return _.chain(this.sessionReferences).sortBy(function(e){return e.order}).sortBy(function(e){return e.start}).reverse().each(function(e){var o=Panopto.Core.Logic.Timeline.Timeline(e.streams,e.cuts,!0);t.insertReference(e,o)}),t},t.prototype.calculatePrimaryOffsetAndDuration=function(e){var t=e.firstPrimaryIndex(),o=e.lastPrimaryIndex(),n=0,r=0;return _.each(e.elements(),function(e,i){i<t?n+=e.length():i>=t&&i<=o&&(r+=e.length())}),{primaryOffset:n,primaryDuration:r}},t.prototype.refreshTimeline=function(){var e=this;this.inputTimeline=this.createTimeline(!1);var t=Panopto.Core.Logic.Timeline.Timeline(this.inputStreams,[]);this.hostPrimaryDuration=this.calculatePrimaryOffsetAndDuration(t).primaryDuration;var o=this.calculatePrimaryOffsetAndDuration(this.inputTimeline),n=o.primaryOffset,r=o.primaryDuration;this.sessionStart=_.min(_.pluck(this.inputStreams,"absoluteStart")),this.primaryStart=this.sessionStart+n,this.primaryDuration=r,_.each(this.inputEvents,function(t){t.editorTime=e.calculateEditorTimeFromAbsolute(t.timelineTime),t.viewerTime=t.editorTime}),_.each(this.sessionReferences,function(t){t.editorStartTime=e.calculateSessionReferenceEditorStartTime(t),t.calculateViewerTimes()})},t.prototype.filterEvents=function(e){return _.filter(this.inputEvents,function(t){return t.type===e})},t.prototype.activeStreams=function(e){var t=this.calculateEditorTimeTicksFromAbsolute(e),o=0,n=_.find(this.inputTimeline.elements(),function(e){return(o+=e.length())>t});return _.map(n.streams(),function(e){return e.stream})},t.prototype.calculateEditorTimeFromAbsolute=function(e){return this.calculateEditorTime(e-this.absoluteStart())/Panopto.Core.Constants.TimelineChunkMultiplier},t.prototype.calculateEditorTimeTicksFromAbsolute=function(e){return this.calculateEditorTime(e-this.absoluteStart())},t.prototype.calculateEditorTime=function(e,t){var o=t?_.find(this.inputStreams,function(e){return e.id===t}):void 0,n=o?e+(o.absoluteStart-this.absoluteStart()):e,r=0;return _.chain(this.sessionReferences).filter(function(e){return e.start<=n}).each(function(e){return r+=e.referencedSessionDuration}),n+r*Panopto.Core.Constants.TimelineChunkMultiplier},t.prototype.calculateEditorTimeForCut=function(e,t){return(t?_.find(this.inputStreams,function(e){return e.id===t}):void 0)?this.calculateEditorTime(e,t):this.calculateEditorTime(e-this.firstPrimaryOffset())},t.prototype.calculateEditorTimeForCutInClip=function(e,t){var o=_.find(this.sessionReferences,function(e){return e.id===t});return e+this.calculateSessionReferenceEditorStartTime(o)},t.prototype.calculateRelativeEditorTime=function(e,t){var o=_.find(this.inputStreams,function(e){return e.id===t});return this.calculateEditorTime(e,t)-(o?this.calculateEditorTimeTicksFromAbsolute(o.absoluteStart):0)},t.prototype.calculateRelativeEditorTimeForCut=function(e,t){return _.find(this.inputStreams,function(e){return e.id===t})?this.calculateRelativeEditorTime(e,t):this.calculateRelativeEditorTime(e-this.firstPrimaryOffset(),t)},t.prototype.calculateRelativeTimeFromRelativeEditorTime=function(e,t){var o=this.calculateEditorTimeFromRelativeEditorTime(e,t);return this.calculateRelativeTimeForCut(o,t)},t.prototype.calculateEditorTimeFromRelativeEditorTime=function(e,t){var o=_.find(this.inputStreams,function(e){return e.id===t});return e+(o?this.calculateEditorTimeTicksFromAbsolute(o.absoluteStart):0)},t.prototype.calculateRelativeEditorTimeFromEditorTime=function(e,t){var o=_.find(this.inputStreams,function(e){return e.id===t});return e-(o?this.calculateEditorTimeTicksFromAbsolute(o.absoluteStart):0)},t.prototype.calculateRelativeTime=function(e,t){var o=t?_.find(this.inputStreams,function(e){return e.id===t}):void 0;return _.chain(this.sessionReferences).filter(function(t){return t.editorStartTime<e}).each(function(t){return e-=t.referencedSessionDuration*Panopto.Core.Constants.TimelineChunkMultiplier}),o?e+(this.absoluteStart()-o.absoluteStart):e},t.prototype.calculateRelativeTimeForCut=function(e,t){var o=t?_.find(this.inputStreams,function(e){return e.id===t}):void 0,n=this.calculateRelativeTime(e,t);return o?n:n+this.firstPrimaryOffset()},t.prototype.calculateSessionReferenceEditorStartTime=function(e){var t=0;return _.chain(this.sessionReferences).filter(function(t){return t.start<e.start||t.start===e.start&&t.order<e.order}).each(function(e){t+=e.referencedSessionDuration*Panopto.Core.Constants.TimelineChunkMultiplier}),t+e.start},t.prototype.calculatePaddedDuration=function(e,t){var o=t-this.absoluteStart(),n=o+e,r=0;return _.chain(this.sessionReferences).filter(function(e){return e.start>o&&e.start<n}).each(function(e){return r+=e.referencedSessionDuration}),e+r*Panopto.Core.Constants.TimelineChunkMultiplier},t.prototype.getExpandedEvents=function(){var e=[];return e.push.apply(e,this.inputEvents),_.each(this.sessionReferences,function(t){e.push.apply(e,(t.events||[]).concat(t.slideEvents||[],t.captions||[]))}),e.sort(function(e,t){return e.viewerTime-t.viewerTime}),e},t.prototype.isTimeInSessionReference=function(e){return _.any(this.sessionReferences,function(t){var o=e*Panopto.Core.Constants.TimelineChunkMultiplier,n=t.editorStartTime,r=t.getTimelineDuration()+n;if(n<=o&&o<r)return!0})},t.prototype.findNextTimeNotInSessionReference=function(e){var t=e*Panopto.Core.Constants.TimelineChunkMultiplier;return _.chain(this.sessionReferences).sortBy(function(e){var t=e.editorStartTime;return e.getTimelineDuration()+t}).each(function(e){var o=e.editorStartTime,n=e.getTimelineDuration()+o;o<=t&&t<n&&(t=n+Panopto.Core.Constants.TimelineChunkMultiplier/1e3)}),t},t}();t.TimelineState=o}(t.Editor||(t.Editor={}))}(t.Components||(t.Components={}))}(t.UI||(t.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){var t=PanoptoCore.TypedCallback,o=function(){function o(n){var r=this;this._onTimelineExpansionToggled=new t,this._onToggleCutMode=new t,this._onToggleFocusMode=new t,this._onAddContentExpansionControlToggled=new t,this._onPreviewCutsToggled=new t,this._element=$(o.template({resources:n})),this.toolToggles=this._element.find("."+o.toolToggleClass),this.expandTimelineButton=this._element.find("#"+o.expandTimelineButtonId),this.addContentButton=this._element.find("#"+o.addContentButtonId),this.previewCuts=this._element.find("#"+o.previewCutsCheckboxId),this.setThumbnailButton=this._element.find("#"+o.setThumbnailButtonId),Panopto.Core.UI.Handlers.button(this.toolToggles,function(t){switch(t.id){case o.cutToolId:r.setMode(e.EditorMode.Cut);break;case o.focusToolId:r.setMode(e.EditorMode.Focus)}}),Panopto.Core.UI.Handlers.button(this.expandTimelineButton,function(){r.expandTimelineButton.toggleClass(Panopto.Core.Constants.ExpandedClass);var e=r.expandTimelineButton.hasClass(Panopto.Core.Constants.ExpandedClass);r.expandTimelineButton.attr("title",e?n.ViewerPlus_Edit_Collapse:n.ViewerPlus_Edit_Expand),r._onTimelineExpansionToggled.fire(e)}),this.addContentExpansionControl=new e.AddContentExpansionControl(Panopto.GlobalResources),this.addContentExpansionControl.toggle(!1),this.addContentButton.find(".add-content-expansion-container").append(this.addContentExpansionControl.element),Panopto.Core.UI.Components.popup(this.addContentButton.find(".add-content-expansion-container"),this.addContentButton.find(".material-icons"),function(){r.addContentExpansionControl.isVisible||(r._onAddContentExpansionControlToggled.fire(!0),r.addContentExpansionControl.toggle(!0))},function(){r.addContentExpansionControl.isVisible&&(r._onAddContentExpansionControlToggled.fire(!1),r.addContentExpansionControl.toggle(!1))}),$(document).keydown(function(t){switch(t.keyCode){case Panopto.Core.Key.One:r.setMode(e.EditorMode.Cut);break;case Panopto.Core.Key.Two:r.setMode(e.EditorMode.Focus)}}),this.previewCuts.click(function(){r.setPreviewCuts(!r.previewCutsEnabled)}),this.thumbnailChooser=Panopto.Core.UI.Components.Editor.ThumbnailChooser($("#timelineViewContainer"),this.setThumbnailButton,n),this.timelineZoom=new e.TimelineZoom(n),this._element.append(this.timelineZoom.element),this.setMode(e.EditorMode.Cut),this.setPreviewCuts(!0)}return Object.defineProperty(o.prototype,"addStreamClicked",{get:function(){return this.addContentExpansionControl.addStreamClicked},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"addClipClicked",{get:function(){return this.addContentExpansionControl.addClipClicked},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"addQuizClicked",{get:function(){return this.addContentExpansionControl.addQuizClicked},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"addYouTubeClicked",{get:function(){return this.addContentExpansionControl.addYouTubeClicked},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"addWebpageClicked",{get:function(){return this.addContentExpansionControl.addWebpageClicked},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"onZoomLevelChanged",{get:function(){return this.timelineZoom.onZoomLevelChanged},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"onTimelineExpansionToggled",{get:function(){return this._onTimelineExpansionToggled},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"onToggleCutMode",{get:function(){return this._onToggleCutMode},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"onToggleFocusMode",{get:function(){return this._onToggleFocusMode},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"onAddContentExpansionControlToggled",{get:function(){return this._onAddContentExpansionControlToggled},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"onPreviewCutsToggled",{get:function(){return this._onPreviewCutsToggled},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"onChooseThumbnail",{get:function(){return this.thumbnailChooser.onChooseThumbnail},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"onUploadThumbnail",{get:function(){return this.thumbnailChooser.onUploadThumbnail},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"canAddClip",{set:function(e){this.addContentExpansionControl.canAddClip=e},enumerable:!0,configurable:!0}),o.prototype.attachMouseWheelEvent=function(e){this.timelineZoom.attachMouseWheelEvent(e)},o.prototype.applyState=function(e){var t=_.filter(e.streams(),function(e){return e.isPrimary}).length>1||_.filter(e.streams(),function(e){return!e.isPrimary}).length>1;$("#"+o.focusToolId).toggle(t)},o.prototype.resize=function(e,t){this.timelineZoom.resize(e,t)},o.prototype.synchronize=function(e){this.thumbnailChooser.synchronize(e),this.addContentExpansionControl.canAddContent=e.canAddContent,this.addContentExpansionControl.canAddEmbedEvent=e.canAddEmbedEvent},o.prototype.setMode=function(t){var n;if(t!==this.currentMode){switch(this._onToggleCutMode.fire(!1),this._onToggleFocusMode.fire(!1),this.currentMode=t,this.currentMode){case e.EditorMode.Cut:this._onToggleCutMode.fire(!0),n=o.cutToolId;break;case e.EditorMode.Focus:this._onToggleFocusMode.fire(!0),n=o.focusToolId;break;case e.EditorMode.Default:}this.toolToggles.removeClass(Panopto.Core.Constants.SelectedClass),$("#"+n).addClass(Panopto.Core.Constants.SelectedClass)}},o.prototype.setPreviewCuts=function(e){this.previewCutsEnabled=e,this.previewCuts.find("."+o.previewCutsEnabledClass).toggle(this.previewCutsEnabled),this.previewCuts.find("."+o.previewCutsDisabledClass).toggle(!this.previewCutsEnabled),this._onPreviewCutsToggled.fire(this.previewCutsEnabled)},o.expandTimelineButtonId=_.uniqueId("expandTimeline"),o.cutToolId=_.uniqueId("cut"),o.focusToolId=_.uniqueId("focus"),o.addContentButtonId=_.uniqueId("addContent"),o.previewCutsCheckboxId=_.uniqueId("previewCuts"),o.setThumbnailButtonId=_.uniqueId("setThumbnail"),o.toolToggleClass="tool-toggle",o.previewCutsEnabledClass="preview-cuts-enabled",o.previewCutsDisabledClass="preview-cuts-disabled",o.template=_.template("\n            <div class='timeline-tools'>\n                <div id='"+o.expandTimelineButtonId+"' class='expand-timeline' title='<@- resources.ViewerPlus_Edit_Expand @>' tabindex='0'>\n                    <i class='material-icons expand'>keyboard_arrow_left</i>\n                    <i class='material-icons collapse'>keyboard_arrow_right</i>\n                </div>\n                <div class='divider'></div>\n                <div id='"+o.cutToolId+"' class='"+o.toolToggleClass+" accented-tab' title='<@- resources.cutTool @>' tabindex='0'>\n                    <i class='material-icons'>content_cut</i>\n                </div>\n                <div id='"+o.focusToolId+"' class='"+o.toolToggleClass+" accented-tab' title='<@- resources.focusTool @>' tabindex='0'>\n                    <i class='material-icons'>center_focus_strong</i>\n                </div>\n                <div id='"+o.addContentButtonId+"' class='add-content' title='<@- resources.addContentButton @>' tabindex='0'>\n                    <i class='material-icons'>add</i>\n                    <div class='add-content-expansion-container' />\n                </div>\n                <div id='"+o.setThumbnailButtonId+"' class='thumbnail-button' title='<@- resources.thumbnailButton @>' tabindex='0'>\n                    <i class='material-icons'>more_horiz</i>\n                </div>\n                <div id='"+o.previewCutsCheckboxId+"' class='preview-cuts'>\n                    <div class='"+o.previewCutsEnabledClass+"' style='display: flex'>\n                        <i class=' material-icons'>check_box</i>\n                    </div>\n                    <div class='"+o.previewCutsDisabledClass+"' style='display: flex'>\n                        <i class='material-icons'>check_box_outline_blank</i>\n                    </div>\n                    <div class='preview-cuts-label'>\n                        <@- resources.previewCuts @>\n                    </div>\n                </div>\n            </div>\n        "),o}();e.TimelineTools=o}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=Panopto.Core.UI.Components||{},Panopto.Core.UI.Components.Editor=Panopto.Core.UI.Components.Editor||{},function(e){!function(e){!function(e){!function(e){!function(e){var t=function(){function t(t){this.temporaryMarker=t,this._hoverTimeline=!1,this._hoverPrimaryStream=!1,this._hoverSecondaryStream=!1,this._currentMode=e.EditorMode.Default,this._actionInProgress=!1,t.toggle(this.visibility)}return Object.defineProperty(t.prototype,"hoverTimeline",{set:function(e){this._hoverTimeline=e,this.temporaryMarker.toggle(this.visibility)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverPrimaryStream",{set:function(e){this._hoverPrimaryStream=e,this.temporaryMarker.toggle(this.visibility)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverSecondaryStream",{set:function(e){this._hoverSecondaryStream=e,this.temporaryMarker.toggle(this.visibility)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentMode",{set:function(e){this._currentMode=e,this.temporaryMarker.toggle(this.visibility)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionInProgress",{set:function(e){this._actionInProgress=e,this.temporaryMarker.toggle(this.visibility)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibility",{get:function(){return!this._actionInProgress&&((this._currentMode!==e.EditorMode.Cut||!this._hoverSecondaryStream)&&(this._currentMode!==e.EditorMode.Focus&&this._hoverTimeline))},enumerable:!0,configurable:!0}),t}();e.RootMarkerController=t}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),Panopto.Core.UI.Components.Editor.TimelineView=function(e,t,o,n){var r,i,s,a,c,l,u,d,p,f,h,m,v,C,y,P,S,g,I,b,R,T,w,A,E,D,M,U,k,x,F,O,N,B,j,V=Panopto.Core.Constants,H={},L=$("#timelineViewContainer"),G=0,Q=[],q=[],W={},z=L.width(),K=0,Z=function(){_.each(Q,function(e){e.refresh()}),g.refresh(),_.each(q,function(e){e.refresh()}),_.each(W,function(e){e.refresh()}),M.refresh(),U.refresh(),I.refresh(),b.resize(),R.resize(),P.refresh()},Y=function(e){var t;t=e-s.outerWidth()-p.outerWidth(),L.width(e),c.css({width:t,"max-width":t}),r.css({width:t,"max-width":t}),O=t,N=Math.max(t*G/Panopto.Core.Constants.MaxTimelineZoom,t),y.resize(O,N),ie(K,t,z),Z()},J=function(e){K=e,l.css("left",-K),i.css("left",-K)},X=function(e,t,r,s,a,c,u){var d;switch(void 0===c&&(c=!1),void 0===u&&(u=!0),a){case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session:(d=new PanoptoTS.Core.UI.Components.Editor.CutView(l,i,H,P,n,void 0,a)).setContainerTime(0,G),d.relativeEditorStart=t,d.relativeEditorEnd=r,d.refresh();break;case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Stream:var p=_.find(Q,function(e){return e.id===s});p&&(d=p.addCut(t,r));break;case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference:var f=W[s];void 0!==f&&(d=f.addCut(t,r))}return q.push(d),e&&o.cutAdded&&o.cutAdded(d,u),c||te(d,u),d},ee=function(e,t){t.remove();var n=q.indexOf(t);if(n>=0&&q.splice(n,1),t.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Stream){var r=_.find(Q,function(e){return e.id===t.targetId});r&&r.removeCut(t)}t.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference&&W[t.targetId].removeCut(t),e&&o.cutRemoved&&o.cutRemoved(t)},te=function(e,t){var o=F.resolveOverlappingCuts(q,e,t);_.each(o.toRemove,function(e){ee(!1,e)}),_.each(o.toAdd,function(e){X(!1,e.relativeEditorStart,e.relativeEditorEnd,e.targetId,e.targetType,!0)}),q.sort(function(e,t){return e.relativeEditorStart-t.relativeEditorStart})},oe=function(e){o.positionChanged&&o.positionChanged(e)},ne=function(e,t){return Math.round((t.pageX-e.offset().left)/l.width()*G)},re=function(e){P.applyState(e);for(var t=0,o=Q;t<o.length;t++){o[t].updateTimelineStateWhenChangeIsTimelineViewTriggered(e)}_.each(W,function(t){t.applyState(e)}),y.applyState(e)},ie=function(e,t,o){_.each(Q,function(n){n.updateViewport(e,t,o)}),_.each(W,function(e){e.updateViewport()}),S.updateViewport(e,t,o)},se=function(){l.on("mousedown.seek",function(e){0===e.button&&(B=e.clientX,j=Date.now())}),l.on("mouseup.seek",function(e){var t=Math.abs(B-e.clientX),o=Date.now()-j;t<Panopto.Core.Constants.SeekOrCutPositionDifferenceThreshold&&o<Panopto.Core.Constants.SeekOrCutTimeDifferenceThreshold&&oe(ne(l,e)),B=void 0,j=void 0})},ae=function(){B=void 0,l.off(".seek")},ce=function(){k.activateCutControl(),x.activateCutControl();for(var e=0,t=Q;e<t.length;e++){t[e].activateCutControl()}_.each(W,function(e){e.activateCutControl()})},le=function(e){k.deactivateCutControl(e),x.deactivateCutControl(e);for(var t=0,o=Q;t<o.length;t++){o[t].deactivateCutControl(e)}_.each(W,function(t){t.deactivateCutControl(e)})};L.addClass("timeline-view"),L.html(_.template("<div class='ruler-pane'><div class='left-ruler-spacer'></div><div class='ruler-wrapper'><div class='ruler'></div></div><div class='ruler-spacer'></div></div><div class='timeline-pane'><div class='icon-cell'><div class='icon-wrapper'><div class='icon-pane'></div></div></div><div class='stream-cell'><div class='stream-wrapper'><div class='stream-pane'><div class='stream-pane-primary'></div><div class='stream-pane-secondary'></div></div></div></div><div class='vertical-scroll'></div></div><div class='scroll-pane'><div class='horizontal-scroll'></div></div>")),r=L.find(".ruler-wrapper"),i=L.find(".ruler"),s=L.find(".icon-wrapper"),a=L.find(".icon-pane"),c=L.find(".stream-wrapper"),l=L.find(".stream-pane"),u=L.find(".stream-pane-primary"),d=L.find(".stream-pane-secondary"),p=L.find(".vertical-scroll"),f=L.find(".horizontal-scroll"),(y=new PanoptoTS.Core.UI.Components.Editor.TimelineTools(n)).attachMouseWheelEvent(l),y.onZoomLevelChanged.add(function(e){var t,o,n;t=e.zoomLevel,o=e.point,z=Math.round(Math.clamp(O*Math.pow(V.TimelineZoomFactor,t),O,N)),l.width()!==z&&z>=O&&("number"!=typeof o&&(o=I.left),n=o*z/l.width()-c.width()/2,n=Math.clamp(n,0,z-c.width()),J(n),l.width(z),i.width(z),ie(n,L.width(),z),Z())}),y.onToggleCutMode.add(function(e){m=PanoptoTS.Core.UI.Components.Editor.EditorMode.Cut,A.currentMode=m,Q.forEach(function(e){return e.currentMode=m}),function(e){e?(se(),ce()):(ae(),le())}(e)}),y.onToggleFocusMode.add(function(e){m=PanoptoTS.Core.UI.Components.Editor.EditorMode.Focus,A.currentMode=m,Q.forEach(function(e){return e.currentMode=m}),function(e){_.each(Q,function(t){var n,r,i,s=[],a=[];e?(t.$stream.on("mousedown.focuscreate",function(e){n=ne(t.$stream,e),r=ne(l,e),i=t.addFocus(n,n),$(document).on("mouseup."+t.id,function(e){i.relativeEditorStart!==i.relativeEditorEnd&&(_.each(a,function(e){ee(!1,e)}),_.each(s,function(e){X(!1,e.relativeEditorStart,e.relativeEditorEnd,e.targetId,e.targetType,!1,!1)}),o.focusAdded&&(a.length||s.length)&&o.focusAdded(a,s)),i.remove(),i=void 0,_.each(s,function(e){e.remove()}),s.length=0,$(document).off("mouseup."+t.id)})}),t.$stream.on("mousemove.focuscreate",function(e){if(ne(t.$stream,e),i){var o=P.snap(ne(l,e)),n=Math.min(r,o),c=Math.max(r,o);i.markers[0].sessionRelativeTime=n,i.markers[1].sessionRelativeTime=c,i.refresh(),_.each(s,function(e){e.remove()}),s.length=0,a.length=0,_.each(q,function(e){var o;i.contains(e)?(e.toggle(!1),a.push(e)):i.contained(e)?(s.push(t.addCut(e.relativeEditorStart,i.relativeEditorStart)),s.push(t.addCut(i.relativeEditorEnd,e.relativeEditorEnd)),e.toggle(!1),a.push(e)):i.overlaps(e)?(o=t.addCut(e.relativeEditorStart,e.relativeEditorEnd),i.clipCutAtEdge(o),o.refresh(),s.push(o),e.toggle(!1),a.push(e)):(e.toggle(!0),e.toggleMarkers(!1))}),_.each(Q,function(e){if(t.isPrimary===e.isPrimary&&t.id!==e.id){var o=i.relativeEditorStart,n=h.calculateEditorTimeFromRelativeEditorTime(o,i.streamId),r=h.calculateRelativeEditorTimeFromEditorTime(n,e.id),a=e.boundedTime(r),c=i.relativeEditorEnd,l=h.calculateEditorTimeFromRelativeEditorTime(c,i.streamId),u=h.calculateRelativeEditorTimeFromEditorTime(l,e.id),d=e.boundedTime(u);a!==d&&s.push(e.addCut(a,d))}})}})):t.$stream.off(".focuscreate")})}(e)}),y.addStreamClicked.add(function(){o.streamAddClicked()}),y.addClipClicked.add(function(){var n;(n=new PanoptoTS.Viewer.Dialogs.SessionReferenceInsertDialog(e,t,Panopto.GlobalResources,Panopto.ModalPopup.defaultInstance)).showDialog(),n.saveCallbacks.add(function(){var e=n.getSelectedSessionId();o.sessionReferenceAdded(e)})}),y.addQuizClicked.add(function(){o.questionListAddClicked()}),y.addYouTubeClicked.add(function(){o.youTubeAddClicked()}),y.addWebpageClicked.add(function(){o.webpageAddClicked()}),y.onTimelineExpansionToggled.add(function(e){o.timelineExpansionToggled(e)}),y.onAddContentExpansionControlToggled.add(function(e){o.addContentExpansionControlToggled(e)}),y.onPreviewCutsToggled.add(function(e){o.previewChanged(e)}),y.onChooseThumbnail.add(function(e){o.thumbnailChosen(e)}),y.onUploadThumbnail.add(function(){o.uploadChosen()}),L.prepend(y.element),m=PanoptoTS.Core.UI.Components.Editor.EditorMode.Cut,S=Panopto.Core.UI.Components.Editor.Ruler(r,i,G),i.on("mousemove",function(e){var t=ne(i,e);w||(w=new PanoptoTS.Core.UI.Components.Editor.Marker(i,i,n,{isPlayhead:!0})).setContainerTime(0,G),w.containerRelativeTime=t}),i.on("mousedown",function(e){w&&oe(w.containerRelativeTime)}),i.on("mouseleave",function(){w&&(w.remove(),w=void 0)}),T=new PanoptoTS.Core.UI.Components.Editor.Marker(l,i,n),A=new PanoptoTS.Core.UI.Components.Editor.RootMarkerController(T),l.mouseenter(function(){A.hoverTimeline=!0}),l.mouseleave(function(){A.hoverTimeline=!1}),l.mousemove(function(e){T.left=e.clientX-l.offset().left}),(g=new PanoptoTS.Core.UI.Components.Editor.PresentationView(a,l,n)).onStackClicked.add(function(e){if(o.stackExpanded){var t=$("#"+e.id);o.stackExpanded(e.events,t)}}),b=Panopto.Core.UI.Components.externalScrollbar(p,s.add(c),a.add(l),!1,function(){m===PanoptoTS.Core.UI.Components.Editor.EditorMode.Cut&&(_.each(q,function(e){e.refresh()}),M.refresh(),U.refresh())}),R=Panopto.Core.UI.Components.externalScrollbar(f,r.add(c),i.add(l),!0,function(e){J(e.left),ie(e.left,L.width(),z)}),c.add(f).mousemove(function(){clearTimeout(C),v=!0,C=setTimeout(function(){v=!1},V.ActiveUserTimeout)}),(I=new PanoptoTS.Core.UI.Components.Editor.Marker(l,i,n,{isPlayhead:!0})).setContainerTime(0,G),I.containerRelativeTime=0;var ue=new PanoptoTS.Core.UI.Components.Editor.SessionAndStreamSnapTargetsGenerator;return P=new PanoptoTS.Core.UI.Components.Editor.SnapService(l,I,ue),M=new PanoptoTS.Core.UI.Components.Editor.TopCutView(l,i,H,P,n,void 0,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session),U=new PanoptoTS.Core.UI.Components.Editor.TailCutView(l,i,H,P,n,void 0,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session),M.toggle(!1),U.toggle(!1),(E=new PanoptoTS.Core.UI.Components.Editor.Marker(l,i,n)).setContainerTime(0,G),E.toggle(!1),(D=new PanoptoTS.Core.UI.Components.Editor.CutView(l,i,H,P,n,void 0,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session)).setContainerTime(0,G),D.toggle(!1),(k=new PanoptoTS.Core.UI.Components.Editor.CutViewCreateController(u.add(g.getElement()),P,D)).onCutControlExecuting.add(function(e){le(e),A.actionInProgress=!0}),k.onCutControlExecuted.add(function(){ce(),A.actionInProgress=!1}),k.cutCreated.add(function(e){X(!0,e.relativeEditorStart,e.relativeEditorEnd,e.cutTargetId,e.cutTargetType,!1)}),(x=new PanoptoTS.Core.UI.Components.Editor.CutViewResizeController(M,U,q)).onCutControlExecuting.add(function(e){le(e),A.actionInProgress=!0}),x.onCutControlExecuted.add(function(){ce(),A.actionInProgress=!1}),F=new PanoptoTS.Core.UI.Components.Editor.CutViewOperationController,H.resize=Y,H.synchronize=function(e,t){var o=Math.clamp(e/G*l.width()-c.width()/2,0,l.width()-c.width());I.containerRelativeTime=e,t.playing&&!v&&(J(o),R.resize()),y.synchronize(t)},H.addCut=X,H.resizeCut=function(e,t){if(function(e){var t=!1;return e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session&&(t=e===M||e===U),e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Stream&&(t=_.find(Q,function(t){return t.id===e.targetId}).isVirtualCutView(e)),e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference&&(t=W[e.targetId].isVirtualCutView(e)),t}(e))e.relativeEditorStart!==e.relativeEditorEnd&&X(!0,e.relativeEditorStart,e.relativeEditorEnd,e.targetId,e.targetType);else if(e.relativeEditorStart===e.relativeEditorEnd)e.relativeEditorStart=t,ee(!0,e);else{if(o.cutResized){var n=h.calculateEditorTimeFromRelativeEditorTime(t,e.targetId);o.cutResized(n,e)}te(e,!0)}},H.applyState=function(e){h=e;var t=_.filter(e.streams(),function(e){return!_.find(Q,function(t){return t.id===e.id})}),r=[],f=(e.firstPrimaryOffset(),_.filter(e.events(),function(e){return e.type===Panopto.Core.EventType.SlideChange&&!e.isDefaultThumbnail})),v=m;y.setMode(PanoptoTS.Core.UI.Components.Editor.EditorMode.Default),_.each(_.toArray(q),function(e){ee(!1,e)}),G=e.duration(),S.duration(G),I.setContainerTime(0,G),T.setContainerTime(0,G),M.setContainerTime(0,G),U.setContainerTime(0,G),E.setContainerTime(0,G),D.setContainerTime(0,G),k.applyState(0,G,void 0,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session),x.applyState(G,void 0,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session),_.each(Q,function(t){var o=_.find(e.streams(),function(e){return e.id===t.id});o?(t.updateTimelineState(e),t.updateStream(o),t.refresh()):r.push(t)}),_.each(r,function(e){e.remove(),Q.splice(Q.indexOf(e),1)}),_.each(t,function(t){var r=new PanoptoTS.Core.UI.Components.Editor.SimpleStreamView(H,i,l,I,t,G,n,e);r.onCutControlExecuting.add(function(e){le(e)}),r.onCutControlExecuted.add(function(){return ce()}),r.onStackClicked.add(function(e){if(o.stackExpanded){var t=$("#"+e.id);o.stackExpanded(e.events,t)}}),r.onMouseEnter.add(function(){t.isPrimary?A.hoverPrimaryStream=!0:A.hoverSecondaryStream=!0}),r.onMouseLeave.add(function(){t.isPrimary?A.hoverPrimaryStream=!1:A.hoverSecondaryStream=!1}),Q.push(r)});var C=0,P=0;u.children().detach(),d.children().detach(),_.chain(e.streams()).sortBy(function(e){return e.absoluteStart}).sortBy(function(e){return e.isPrimary?0:1}).each(function(e){var t=_.find(Q,function(t){return t.id===e.id});t.groupSortOrder=e.isPrimary?++C:++P,t.getElement().appendTo(e.isPrimary?u:d),a.append(t.iconElement)}),f.length?(g.toggle(!0),g.applyState(e)):g.toggle(!1),_.each(e.sessionReferences,function(t){if(!W.hasOwnProperty(t.id)){var o=new PanoptoTS.Core.UI.Components.Editor.SpliceView(H,i,l,I,n);o.onCutControlExecuting.add(function(e){le(e)}),o.onCutControlExecuted.add(function(){return ce()}),l.append(o.getElement()),W[t.id]=o}W[t.id].render(t,e)}),_.each(Object.keys(W),function(t){_.some(e.sessionReferences,function(e){return e.id===t})||(W[t].getElement().remove(),delete W[t])});var b=[],R=_.reduce(Q,function(e,t){return e+t.getElement().outerHeight()},0),w=f.length?g.getElement().outerHeight():0;b.push(R+w),_.each(W,function(e){b.push(e.getHeight())});var F=Math.max.apply(Math,b);s.add(c).add(a).add(l).add(p.find(".external-scroll-frame")).height(F),_.each(e.cuts(),function(e){var t,o,n;switch(e.targetType){case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session:case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Stream:t=e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session?void 0:e.targetId,o=h.calculateRelativeEditorTimeForCut(e.start,t),n=h.calculateRelativeEditorTimeForCut(e.end(),t);break;case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference:t=e.targetId,o=e.start,n=e.end()}X(!1,o,n,t,e.targetType)}),y.setMode(v),Y(L.width()),re(e)},H.applyStateWhenChangeIsTimelineViewTriggered=re,H.setPosition=oe,H.width=function(){return z},H.setCanAddClip=function(e){y.canAddClip=e},H},function(e){!function(e){!function(e){!function(e){!function(e){var t=PanoptoCore.TypedCallback,o=function(){function e(o){var n=this;this._zoomLevel=0,this._zoomLevelCount=0,this._onZoomLevelChanged=new t,this._element=$(e.template({resources:o})),this._zoomOut=this._element.find("."+e.zoomOutClass),this.zoomSlider=this._element.find("."+e.zoomSliderClass),this._zoomIn=this._element.find("."+e.zoomInClass),Panopto.Core.UI.Handlers.button(this._zoomOut,function(){n._zoomOut.hasClass(Panopto.Core.Constants.DisabledClass)||(n.adjustZoomLevel(-1),n._onZoomLevelChanged.fire({zoomLevel:n._zoomLevel}))}),Panopto.Core.UI.Handlers.button(this._zoomIn,function(){n._zoomIn.hasClass(Panopto.Core.Constants.DisabledClass)||(n.adjustZoomLevel(1),n._onZoomLevelChanged.fire({zoomLevel:n._zoomLevel}))}),this.zoomSlider.slider({min:0,max:0,value:0,slide:function(e,t){n._zoomLevel=t.value,n._onZoomLevelChanged.fire({zoomLevel:n._zoomLevel}),n.toggleZoomButtons(n._zoomLevel)}})}return Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onZoomLevelChanged",{get:function(){return this._onZoomLevelChanged},enumerable:!0,configurable:!0}),e.prototype.attachMouseWheelEvent=function(e){var t=this;e.on("wheel",function(o){if(t._zoomLevelCount>1){var n=o.originalEvent;o.ctrlKey&&Math.abs(n.deltaY)&&(t.adjustZoomLevel(-Math.sign(n.deltaY)),t._onZoomLevelChanged.fire({zoomLevel:t._zoomLevel,point:n.pageX-e.offset().left}),o.stopPropagation(),o.preventDefault())}})},e.prototype.resize=function(e,t){this._zoomLevelCount=Math.ceil(Math.log(t/e)/Math.log(Panopto.Core.Constants.TimelineZoomFactor))+1,this.zoomSlider.slider("option","max",Math.max(this._zoomLevelCount-1,0)),this.adjustZoomLevel(0),this._element.toggle(this._zoomLevelCount>1),this._onZoomLevelChanged.fire({zoomLevel:this._zoomLevel})},e.prototype.toggleZoomButtons=function(e){0===e?this._zoomOut.addClass(Panopto.Core.Constants.DisabledClass):e===this._zoomLevelCount-1?this._zoomIn.addClass(Panopto.Core.Constants.DisabledClass):(this._zoomOut.removeClass(Panopto.Core.Constants.DisabledClass),this._zoomIn.removeClass(Panopto.Core.Constants.DisabledClass))},e.prototype.adjustZoomLevel=function(e){this._zoomLevel+=e,this._zoomLevel=Math.clamp(this._zoomLevel,0,this._zoomLevelCount-1),this.zoomSlider.slider("option","value",this._zoomLevel),this.toggleZoomButtons(this._zoomLevel)},e.zoomControlClass="zoom-control",e.zoomSliderClass="zoom-slider",e.zoomOutClass="zoom-out",e.zoomInClass="zoom-in",e.template=_.template("\n        <div class='"+e.zoomControlClass+"'>\n            <div class='zoom-wrapper'>\n                <i class='material-icons "+e.zoomOutClass+"'\n                    title='<@- resources.zoomOut @>'\n                    tabindex='0'>&#xE900;</i>\n                <div class='zoom-slider-wrapper'>\n                    <div class='"+e.zoomSliderClass+"'></div>\n                </div>\n                <i class='material-icons "+e.zoomInClass+"'\n                    title='<@- resources.zoomIn @>'\n                    tabindex='0'>&#xE8FF;</i>\n            </div>\n        </div>\n        "),e}();e.TimelineZoom=o}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){!function(e){var t=function(){function e(e,t,o){this._events=e,this._left=t,this._width=o,this._id=_.uniqueId("stack")}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),e.prototype.width=function(){return this._width+(this._events.length>1?e.extraStackWidth:0)},e.extraStackWidth=10,e}();e.EventStack=t}(e.Events||(e.Events={}))}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){!function(e){!function(e){!function(e){var t=function(e){function t(t,o,n,r){return e.call(this,t,o,!0,n,r)||this}return __extends(t,e),t.prototype.modifyHistogramData=function(e,t,o){var n=e.calculateEditorTimeTicksFromAbsolute(o.absoluteStart),r=e.calculatePaddedDuration(o.duration,o.absoluteStart)+n,i=o.duration/t.length;_.chain(e.sessionReferences).sortBy(function(e){return-e.editorStartTime}).each(function(o){if(o.start>n&&o.start<r){for(var s=e.calculateSessionReferenceEditorStartTime(o)-n,a=Math.floor(s/i),c=Math.floor(o.referencedSessionDuration*Panopto.Core.Constants.TimelineChunkMultiplier/i),l=[],u=0;u<c;u++)l.push(0);t.splice.apply(t,[a,0].concat(l))}})},t}(e.PrimaryStreamView);e.HostPrimaryStreamView=t}(e.Streams||(e.Streams={}))}(e.Editor||(e.Editor={}))}(e.Components||(e.Components={}))}(e.UI||(e.UI={}))}(e.Core||(e.Core={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){var t=PanoptoCore.VoidCallback,o=function(){function e(o,n,r){var i=this;this.defaultTitle=o,this.resources=n,this.modalPopupInstance=r,this._saveCallbacks=new t,this._cancelCallbacks=new t,this.elementId=_.uniqueId("contentEditorDialog"),this.element=$(e.template({resources:this.resources})),this.element.attr("id",this.elementId),this.container=this.element.find(".editor-dialog-content"),Panopto.Core.UI.Handlers.button(this.element.find(".editor-dialog-save"),function(){i.validate()&&(i.hasChanges()&&i._saveCallbacks.fire(),i.modalPopupInstance.closeCriteria.length=0,i.closeDialog())}),Panopto.Core.UI.Handlers.button(this.element.find(".editor-dialog-cancel"),function(){i.closeDialog()}),this.modalPopupInstance.closeCriteria.push(function(){return!i.hasChanges()||confirm(i.resources.ViewerPlus_Edit_Modal_Confirm)}),this.element.keydown(function(e){e.stopPropagation()})}return Object.defineProperty(e.prototype,"saveCallbacks",{get:function(){return this._saveCallbacks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cancelCallbacks",{get:function(){return this._cancelCallbacks},enumerable:!0,configurable:!0}),e.prototype.showDialog=function(e,t){this.content=e,this.element.appendTo($(document.body)),this.modalPopupInstance.show("#"+this.elementId,t||this.defaultTitle,""),this.populateDialogContent(e),this.container.find(":focusable").first().focus()},e.prototype.closeDialog=function(){this.modalPopupInstance.close()&&(this._cancelCallbacks.fire(),this.element.detach())},e.prototype.valueChanged=function(e){var t=e.val(),o=e.val(e.data("initial-value")).val();return e.val(t),t!==o},e.template=_.template('\n            <div class="content-editor-dialog modal-tab">\n                <div class="editor-dialog-content">\x3c!-- Templates get loaded into here --\x3e</div>\n                <div class="modal-setting">\n                    <div class="modal-subtitle">\x3c!-- Empty modal-subtitle spacer to align with modal styles --\x3e</div>\n                    <div class="editor-dialog-buttons modal-setting-value">\n                        <div class="editor-dialog-save standard-button branded-button submit"\n                            tabindex="0"><@= resources.ViewerPlus_Edit_Modal_Save @></div>\n                        <div class="editor-dialog-cancel standard-button cancel"\n                            tabindex="0"><@= resources.ViewerPlus_Edit_Modal_Cancel @></div>\n                    </div>\n                </div>\n            </div>'),e}();e.ContentEditorDialog=o}(e.Dialogs||(e.Dialogs={}))}(e.Viewer||(e.Viewer={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){var t=function(e){function t(o,n,r,i){var s=e.call(this,r.ViewerPlus_Edit_Modal_SessionReference_Edit_Title,r,i)||this;return s.minimumStartTime=o,s.maximumStartTime=n,s.contentElement=$(t.contentTemplate({resources:s.resources})),s.orderInput=s.contentElement.find(".edit-session-reference-order"),s.startTimeInput=s.contentElement.find(".edit-session-reference-start-time"),s.startTimeError=s.contentElement.find(".edit-session-reference-start-time-error"),s.startTimeInput.focus(function(){s.contentElement.find("#start-time-type-custom").prop("checked",!0)}),s.container.append(s.contentElement),s}return __extends(t,e),t.prototype.populateDialogContent=function(e){this.contentElement.find(".edit-session-reference-name").text(e.name),this.contentElement.find(".edit-session-reference-length").text(Panopto.Core.TimeHelpers.formatDuration(e.referencedSessionDuration,this.resources.TimeSeparator)),this.orderInput.val(e.order).data("initial-value",e.order);var t=Panopto.Core.TimeHelpers.formatDuration(e.editorStartTime/Panopto.Core.Constants.TimelineChunkMultiplier,this.resources.TimeSeparator,!0,Panopto.Core.Constants.DisplayTimeMillisecondPrecision);this.startTimeInput.val(t).data("initial-value",t)},t.prototype.validate=function(){if(this.startTimeError.empty(),this.contentElement.find("#start-time-type-custom").is(":checked")){if(!Panopto.Core.TimeHelpers.validateFormattedDuration(this.startTimeInput.val(),this.resources.TimeSeparator,Panopto.Core.Constants.DisplayTimeMillisecondPrecision))return this.startTimeError.text(this.resources.ViewerPlus_Edit_Modal_Error_InvalidTime),!1;var e=Panopto.Core.TimeHelpers.durationFromFormattedString(this.startTimeInput.val(),this.resources.TimeSeparator)*Panopto.Core.Constants.TimelineChunkMultiplier;if(e<this.minimumStartTime||e>this.maximumStartTime){var t=Panopto.Core.TimeHelpers.formatDuration(this.minimumStartTime/Panopto.Core.Constants.TimelineChunkMultiplier,this.resources.TimeSeparator,!0,Panopto.Core.Constants.DisplayTimeMillisecondPrecision),o=Panopto.Core.TimeHelpers.formatDuration(this.maximumStartTime/Panopto.Core.Constants.TimelineChunkMultiplier,this.resources.TimeSeparator,!0,Panopto.Core.Constants.DisplayTimeMillisecondPrecision),n=this.resources.ViewerPlus_Edit_Modal_Error_OutOfBounds.format(t,o);return this.startTimeError.text(n),!1}}return!0},t.prototype.hasChanges=function(){var e=!1;return e=(e=(e=e||this.valueChanged(this.orderInput))||this.valueChanged(this.startTimeInput))||!this.contentElement.find("#start-time-type-custom").is(":checked")},t.prototype.createModifiedContent=function(){var e,t;return e=parseInt(this.orderInput.val()),t=this.contentElement.find("#start-time-type-custom").is(":checked")?Panopto.Core.TimeHelpers.durationFromFormattedString(this.startTimeInput.val(),this.resources.TimeSeparator)*Panopto.Core.Constants.TimelineChunkMultiplier:this.contentElement.find("#start-time-type-start").is(":checked")?-1/0:1/0,this.content.copy(!0,{order:e,start:t})},t.contentTemplate=_.template('\n            <div class="modal-setting">\n                <div class="modal-subtitle"><@= resources.ViewerPlus_Edit_Modal_SessionName @></div>\n                <div class="modal-setting-value edit-session-reference-name"></div>\n            </div>\n            <div class="modal-setting">\n                <div class="modal-subtitle"><@= resources.ViewerPlus_Edit_Modal_Length @></div>\n                <div class="modal-setting-value edit-session-reference-length"></div>\n            </div>\n            <div class="modal-setting">\n                <div class="modal-subtitle"><@= resources.ViewerPlus_Edit_Modal_Order @></div>\n                <div class="modal-setting-value">\n                    <input class="edit-session-reference-order" type="text" />\n                    <div class="edit-session-reference-order-error modal-instructions error"></div>\n                </div>\n            </div>\n            <div class="modal-setting">\n                <div class="modal-subtitle"><@= resources.ViewerPlus_Edit_Modal_StartTime @></div>\n                <div class="modal-setting-value">\n                    <div class="radio-option">\n                        <div class="radio-input">\n                            <input type="radio"\n                                name="start-time-type"\n                                value="head"\n                                id="start-time-type-custom"\n                                checked="checked" />\n                        </div>\n                        <div class="radio-custom-input">\n                            <input class="edit-session-reference-start-time" type="text" />\n                            <div class="edit-session-reference-start-time-error modal-instructions error"></div>\n                        </div>\n                    </div>\n                    <div class="radio-option">\n                        <div class="radio-input">\n                            <input type="radio" name="start-time-type" value="start" id="start-time-type-start" />\n                        </div>\n                        <div class="radio-label">\n                            <label for="start-time-type-start">\n                                <@= resources.ViewerPlus_Edit_Modal_StartAtBeginning @>\n                            </label>\n                        </div>\n                    </div>\n                    <div class="radio-option">\n                        <div class="radio-input">\n                            <input type="radio" name="start-time-type" value="end" id="start-time-type-end" />\n                        </div>\n                        <div class="radio-label">\n                            <label for="start-time-type-end">\n                                <@= resources.ViewerPlus_Edit_Modal_StartAtEnd @>\n                            </label>\n                        </div>\n                    </div>\n                </div>\n            </div>'),t}(e.ContentEditorDialog);e.SessionReferenceEditorDialog=t}(e.Dialogs||(e.Dialogs={}))}(e.Viewer||(e.Viewer={}))}(PanoptoTS||(PanoptoTS={})),function(e){!function(e){!function(e){var t=PanoptoCore.VoidCallback,o=function(){function e(o,n,r,i){var s=this;this.resources=r,this.modalPopupInstance=i,this._saveCallbacks=new t,this._cancelCallbacks=new t;var a=Panopto.Core.StringHelpers.addQueryParameter(Panopto.appRoot+"/Pages/Sessions/EmbeddedUpload.aspx",{homePageEdit:!0,singleEmbedOnly:!0,excludeDeliveriesWithDeliveryReferences:!0,excludedDeliveryId:o,status:[Panopto.Data.SessionStatus.Complete],folderID:n});this.elementId=_.uniqueId("contentEditorDialog"),this.element=$(e.contentTemplate({embeddedUploadUrl:a,resources:this.resources})),this.element.attr("id",this.elementId),this.embeddedUploadIframe=this.element.find("iframe")[0],this.insertButton=this.element.find(".editor-dialog-save"),this.insertButton.toggleClass(Panopto.Core.Constants.DisabledClass,!0),Panopto.Core.UI.Handlers.button(this.insertButton,function(){s.hasChanges()&&(s._saveCallbacks.fire(),s.modalPopupInstance.closeCriteria.length=0,s.closeDialog())}),Panopto.Core.UI.Handlers.button(this.element.find(".editor-dialog-cancel"),function(){s.closeDialog()}),this.modalPopupInstance.closeCriteria.push(function(){return!s.hasChanges()||confirm(s.resources.ViewerPlus_Edit_Modal_Confirm)}),this.element.keydown(function(e){e.stopPropagation()}),$(window).on("message onmessage",function(e){try{var t=e.originalEvent;if(t.source===s.embeddedUploadIframe.contentWindow){var o=JSON.parse(t.data);s.hasSessionSelected="ready"===o.cmd,s.insertButton.toggleClass(Panopto.Core.Constants.DisabledClass,!s.hasSessionSelected)}}catch(e){}})}return Object.defineProperty(e.prototype,"saveCallbacks",{get:function(){return this._saveCallbacks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cancelCallbacks",{get:function(){return this._cancelCallbacks},enumerable:!0,configurable:!0}),e.prototype.showDialog=function(){this.element.appendTo($(document.body)),this.modalPopupInstance.show("#"+this.elementId,this.resources.ViewerPlus_Edit_Modal_SessionReference_Insert_Title)},e.prototype.closeDialog=function(){this.modalPopupInstance.close()&&(this._cancelCallbacks.fire(),this.element.detach())},e.prototype.hasChanges=function(){return this.hasSessionSelected},e.prototype.getSelectedSessionId=function(){return this.embeddedUploadIframe.contentWindow.Panopto.BatchUpload.EmbeddedView.getSelectedSessions()[0].deliveryId},e.contentTemplate=_.template('\n            <div class="content-editor-dialog modal-tab session-reference-insert-dialog">\n                <div class="modal-title">\n                    <@= resources.ViewerPlus_Edit_Modal_SessionReference_Insert_Subtitle @>\n                </div>\n                <div>\n                    <iframe src="<@= embeddedUploadUrl @>"></iframe>\n                </div>\n                <div class="editor-dialog-buttons">\n                    <div class="editor-dialog-save standard-button branded-button submit"\n                         role="button"\n                         tabindex="0"><@= resources.ViewerPlus_Edit_Modal_Insert @></div>\n                    <div class="editor-dialog-cancel standard-button cancel"\n                         role="button"\n                         tabindex="0"><@= resources.ViewerPlus_Edit_Modal_Cancel @></div>\n                </div>\n            <div>'),e}();e.SessionReferenceInsertDialog=o}(e.Dialogs||(e.Dialogs={}))}(e.Viewer||(e.Viewer={}))}(PanoptoTS||(PanoptoTS={}));
//# sourceMappingURL=file://seasyn/tfsbuilds/panopto_core_hohno-7a0-revert-saml_x64/20191031.7/_PublishedWebsites/WebUI/Scripts/Panopto/Bundles/Core.js.map
